{
    "sourceFile": "src/components/admin/Modal/adminSetting.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 15,
            "patches": [
                {
                    "date": 1710763131250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1710763189608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,406 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try{\n+      let response = await GetSharePointData()\n+      console.log(response)\n+      if (response.status === 1 || \"1\") {\n+        setSharePointData(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+          ? updatedPermissions.email_permission.lmia === 1\n+          : permissionName === \"notification_visa\"\n+          ? updatedPermissions.notification_permission.visa === 1\n+          : permissionName === \"visa\"\n+          ? updatedPermissions.email_permission.visa === 1\n+          : permissionName === \"notification_interview\"\n+          ? updatedPermissions.notification_permission.interview === 1\n+          : permissionName === \"interview\"\n+          ? updatedPermissions.email_permission.interview === 1\n+          : permissionName === \"notification_job\"\n+          ? updatedPermissions.notification_permission.job === 1\n+          : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+          ? updatedPermissions.email_permission.lmia === 0\n+          : permissionName === \"notification_visa\"\n+          ? updatedPermissions.notification_permission.visa === 0\n+          : permissionName === \"visa\"\n+          ? updatedPermissions.email_permission.visa === 0\n+          : permissionName === \"notification_interview\"\n+          ? updatedPermissions.notification_permission.interview === 0\n+          : permissionName === \"interview\"\n+          ? updatedPermissions.email_permission.interview === 0\n+          : permissionName === \"notification_job\"\n+          ? updatedPermissions.notification_permission.job === 0\n+          : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+              \n+              {\n+              // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+              //   <div>\n+              //     <h4 style={{ color: \"#5be15b\" }}>\n+              //       Mail already authorized !\n+              //     </h4>\n+              //   </div>\n+              // ) :\n+               (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  // onClick={() => {\n+                  //   window.open(\n+                  //     emailAauthenticationLink.data,\n+                  //     \"_blank\",\n+                  //     \"height=500,width=500%\"\n+                  //   );\n+                  //   props.close();\n+                  // }}\n+                >\n+                  Authenticate Share point\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763315894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n       }\n     } catch (err) {\n       console.log(err);\n     }\n-    try{\n+    try {\n       let response = await GetSharePointData()\n       console.log(response)\n       if (response.status === 1 || \"1\") {\n         setSharePointData(response);\n@@ -121,20 +121,20 @@\n         Response.message === \"successfully\" &&\n         (permissionName === \"notification_lmia\"\n           ? updatedPermissions.notification_permission.lmia === 1\n           : permissionName === \"lmia\"\n-          ? updatedPermissions.email_permission.lmia === 1\n-          : permissionName === \"notification_visa\"\n-          ? updatedPermissions.notification_permission.visa === 1\n-          : permissionName === \"visa\"\n-          ? updatedPermissions.email_permission.visa === 1\n-          : permissionName === \"notification_interview\"\n-          ? updatedPermissions.notification_permission.interview === 1\n-          : permissionName === \"interview\"\n-          ? updatedPermissions.email_permission.interview === 1\n-          : permissionName === \"notification_job\"\n-          ? updatedPermissions.notification_permission.job === 1\n-          : updatedPermissions.email_permission.job === 1)\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n       ) {\n         toast.success(\"Permission granted successfully\", {\n           position: toast.POSITION.TOP_RIGHT,\n           autoClose: 1000,\n@@ -145,20 +145,20 @@\n         Response.message === \"successfully\" &&\n         (permissionName === \"notification_lmia\"\n           ? updatedPermissions.notification_permission.lmia === 0\n           : permissionName === \"lmia\"\n-          ? updatedPermissions.email_permission.lmia === 0\n-          : permissionName === \"notification_visa\"\n-          ? updatedPermissions.notification_permission.visa === 0\n-          : permissionName === \"visa\"\n-          ? updatedPermissions.email_permission.visa === 0\n-          : permissionName === \"notification_interview\"\n-          ? updatedPermissions.notification_permission.interview === 0\n-          : permissionName === \"interview\"\n-          ? updatedPermissions.email_permission.interview === 0\n-          : permissionName === \"notification_job\"\n-          ? updatedPermissions.notification_permission.job === 0\n-          : updatedPermissions.email_permission.job === 0)\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n       ) {\n         toast.error(\"Permission Denay successfully\", {\n           position: toast.POSITION.TOP_RIGHT,\n           autoClose: 1000,\n@@ -357,32 +357,32 @@\n                 </button>\n               )}\n             </div>\n             <div className=\"mb-3\">\n-              \n+\n               {\n-              // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-              //   <div>\n-              //     <h4 style={{ color: \"#5be15b\" }}>\n-              //       Mail already authorized !\n-              //     </h4>\n-              //   </div>\n-              // ) :\n-               (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  // onClick={() => {\n-                  //   window.open(\n-                  //     emailAauthenticationLink.data,\n-                  //     \"_blank\",\n-                  //     \"height=500,width=500%\"\n-                  //   );\n-                  //   props.close();\n-                  // }}\n-                >\n-                  Authenticate Share point\n-                </button>\n-              )}\n+                // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Mail already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                        console.log(res)\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n             </div>\n             <div className=\"mb-3\">\n               <ParentSetting />\n             </div>\n"
                },
                {
                    "date": 1710763327175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,407 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+  RefreshPointData\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try {\n+      let response = await GetSharePointData()\n+      console.log(response)\n+      if (response.status === 1 || \"1\") {\n+        setSharePointData(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+\n+              {\n+                // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Mail already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                        console.log(res)\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763424020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,11 +52,10 @@\n       console.log(err);\n     }\n     try {\n       let response = await GetSharePointData()\n-      console.log(response)\n       if (response.status === 1 || \"1\") {\n-        setSharePointData(response);\n+        setSharePointData(response.data);\n       }\n     } catch (err) {\n       console.log(err);\n     }\n@@ -360,15 +359,15 @@\n             </div>\n             <div className=\"mb-3\">\n \n               {\n-                // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Mail already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n+                sharePointData.is_already_authorized === \"yes\" ? (\n+                  <div>\n+                    <h4 style={{ color: \"#5be15b\" }}>\n+                      Mail already authorized !\n+                    </h4>\n+                  </div>\n+                ) :\n                 (\n                   <button\n                     className=\"btn btn-secondary\"\n                     onClick={async () => {\n@@ -404,790 +403,4 @@\n   );\n }\n \n export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try {\n-      let response = await GetSharePointData()\n-      console.log(response)\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 1\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 1\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 1\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 1\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 1\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 1\n-                      : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 0\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 0\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 0\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 0\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 0\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 0\n-                      : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-\n-              {\n-                // emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Mail already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n-                (\n-                  <button\n-                    className=\"btn btn-secondary\"\n-                    onClick={async () => {\n-                      try {\n-                        let res = await RefreshPointData()\n-                        console.log(res)\n-                      } catch (err) {\n-                        console.log(err)\n-                      }\n-                    }}\n-                  >\n-                    Authenticate Share point\n-                  </button>\n-                )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try{\n-      let response = await GetSharePointData()\n-      console.log(response)\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-          ? updatedPermissions.email_permission.lmia === 1\n-          : permissionName === \"notification_visa\"\n-          ? updatedPermissions.notification_permission.visa === 1\n-          : permissionName === \"visa\"\n-          ? updatedPermissions.email_permission.visa === 1\n-          : permissionName === \"notification_interview\"\n-          ? updatedPermissions.notification_permission.interview === 1\n-          : permissionName === \"interview\"\n-          ? updatedPermissions.email_permission.interview === 1\n-          : permissionName === \"notification_job\"\n-          ? updatedPermissions.notification_permission.job === 1\n-          : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-          ? updatedPermissions.email_permission.lmia === 0\n-          : permissionName === \"notification_visa\"\n-          ? updatedPermissions.notification_permission.visa === 0\n-          : permissionName === \"visa\"\n-          ? updatedPermissions.email_permission.visa === 0\n-          : permissionName === \"notification_interview\"\n-          ? updatedPermissions.notification_permission.interview === 0\n-          : permissionName === \"interview\"\n-          ? updatedPermissions.email_permission.interview === 0\n-          : permissionName === \"notification_job\"\n-          ? updatedPermissions.notification_permission.job === 0\n-          : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n"
                },
                {
                    "date": 1710763452388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,406 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+  RefreshPointData\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try {\n+      let response = await GetSharePointData()\n+      if (response.status === 1 || \"1\") {\n+        setSharePointData(response.data);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+\n+              {console.log(sharePointData.is_already_authorized),\n+                sharePointData.is_already_authorized === \"yes\" ? (\n+                  <div>\n+                    <h4 style={{ color: \"#5be15b\" }}>\n+                      Mail already authorized !\n+                    </h4>\n+                  </div>\n+                ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                        console.log(res)\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763502085,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,9 @@\n       console.log(err);\n     }\n     try {\n       let response = await GetSharePointData()\n+      console.log(esponse)\n       if (response.status === 1 || \"1\") {\n         setSharePointData(response.data);\n       }\n     } catch (err) {\n@@ -358,422 +359,16 @@\n               )}\n             </div>\n             <div className=\"mb-3\">\n \n-              {console.log(sharePointData.is_already_authorized),\n-                sharePointData.is_already_authorized === \"yes\" ? (\n-                  <div>\n-                    <h4 style={{ color: \"#5be15b\" }}>\n-                      Mail already authorized !\n-                    </h4>\n-                  </div>\n-                ) :\n-                (\n-                  <button\n-                    className=\"btn btn-secondary\"\n-                    onClick={async () => {\n-                      try {\n-                        let res = await RefreshPointData()\n-                        console.log(res)\n-                      } catch (err) {\n-                        console.log(err)\n-                      }\n-                    }}\n-                  >\n-                    Authenticate Share point\n-                  </button>\n-                )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-  RefreshPointData\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try {\n-      let response = await GetSharePointData()\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response.data);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 1\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 1\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 1\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 1\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 1\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 1\n-                      : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 0\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 0\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 0\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 0\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 0\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 0\n-                      : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-\n               {\n-                sharePointData.is_already_authorized === \"yes\" ? (\n-                  <div>\n-                    <h4 style={{ color: \"#5be15b\" }}>\n-                      Mail already authorized !\n-                    </h4>\n-                  </div>\n-                ) :\n+                // sharePointData.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Mail already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n                 (\n                   <button\n                     className=\"btn btn-secondary\"\n                     onClick={async () => {\n"
                },
                {
                    "date": 1710763508941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n       console.log(err);\n     }\n     try {\n       let response = await GetSharePointData()\n-      console.log(esponse)\n+      console.log(response)\n       if (response.status === 1 || \"1\") {\n         setSharePointData(response.data);\n       }\n     } catch (err) {\n"
                },
                {
                    "date": 1710763530503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,407 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+  RefreshPointData\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try {\n+      let response = await GetSharePointData()\n+      if (response.status === 1 || \"1\") {\n+        console.log(response)\n+        setSharePointData(response.data);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+\n+              {\n+                // sharePointData.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Mail already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                        console.log(res)\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763550460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,10 +53,9 @@\n     }\n     try {\n       let response = await GetSharePointData()\n       if (response.status === 1 || \"1\") {\n-        console.log(response)\n-        setSharePointData(response.data);\n+        setSharePointData(response);\n       }\n     } catch (err) {\n       console.log(err);\n     }\n@@ -404,411 +403,4 @@\n   );\n }\n \n export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-  RefreshPointData\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try {\n-      let response = await GetSharePointData()\n-      console.log(response)\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response.data);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 1\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 1\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 1\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 1\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 1\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 1\n-                      : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 0\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 0\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 0\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 0\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 0\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 0\n-                      : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-\n-              {\n-                // sharePointData.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Mail already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n-                (\n-                  <button\n-                    className=\"btn btn-secondary\"\n-                    onClick={async () => {\n-                      try {\n-                        let res = await RefreshPointData()\n-                        console.log(res)\n-                      } catch (err) {\n-                        console.log(err)\n-                      }\n-                    }}\n-                  >\n-                    Authenticate Share point\n-                  </button>\n-                )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n"
                },
                {
                    "date": 1710763585235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,406 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+  RefreshPointData\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try {\n+      let response = await GetSharePointData()\n+      if (response.status === 1 || \"1\") {\n+        setSharePointData(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+\n+              {\n+                sharePointData.is_already_authorized === \"yes\" ? (\n+                  <div>\n+                    <h4 style={{ color: \"#5be15b\" }}>\n+                      Mail already authorized !\n+                    </h4>\n+                  </div>\n+                ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                        console.log(res)\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763600187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,9 +362,9 @@\n               {\n                 sharePointData.is_already_authorized === \"yes\" ? (\n                   <div>\n                     <h4 style={{ color: \"#5be15b\" }}>\n-                      Mail already authorized !\n+                      Share Point already authorized !\n                     </h4>\n                   </div>\n                 ) :\n                 (\n"
                },
                {
                    "date": 1710763620843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,15 +359,15 @@\n             </div>\n             <div className=\"mb-3\">\n \n               {\n-                sharePointData.is_already_authorized === \"yes\" ? (\n-                  <div>\n-                    <h4 style={{ color: \"#5be15b\" }}>\n-                      Share Point already authorized !\n-                    </h4>\n-                  </div>\n-                ) :\n+                // sharePointData.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Mail already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n                 (\n                   <button\n                     className=\"btn btn-secondary\"\n                     onClick={async () => {\n"
                },
                {
                    "date": 1710763777557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,22 +359,28 @@\n             </div>\n             <div className=\"mb-3\">\n \n               {\n-                // sharePointData.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Mail already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n+                sharePointData.is_already_authorized === \"yes\" ? (\n+                  <div>\n+                    <h4 style={{ color: \"#5be15b\" }}>\n+                      Share Point already authorized !\n+                    </h4>\n+                  </div>\n+                ) :\n                 (\n                   <button\n                     className=\"btn btn-secondary\"\n                     onClick={async () => {\n                       try {\n                         let res = await RefreshPointData()\n-                        console.log(res)\n+                       if(res.messsage === \"Success\"){\n+                        toast.success(\"Authoized successfully\", {\n+                          position: toast.POSITION.TOP_RIGHT,\n+                          autoClose: 1000,\n+                        });\n+                        setApiCall(true)\n+                       }\n                       } catch (err) {\n                         console.log(err)\n                       }\n                     }}\n@@ -403,410 +409,4 @@\n   );\n }\n \n export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-  RefreshPointData\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try {\n-      let response = await GetSharePointData()\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 1\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 1\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 1\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 1\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 1\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 1\n-                      : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 0\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 0\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 0\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 0\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 0\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 0\n-                      : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-\n-              {\n-                // sharePointData.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Mail already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n-                (\n-                  <button\n-                    className=\"btn btn-secondary\"\n-                    onClick={async () => {\n-                      try {\n-                        let res = await RefreshPointData()\n-                        console.log(res)\n-                      } catch (err) {\n-                        console.log(err)\n-                      }\n-                    }}\n-                  >\n-                    Authenticate Share point\n-                  </button>\n-                )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n"
                },
                {
                    "date": 1710763804571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,412 @@\n+import React, { useState, useEffect } from \"react\";\n+import { Link } from \"react-router-dom\";\n+import { Modal } from \"react-bootstrap\";\n+import { RiLockPasswordFill } from \"react-icons/ri\";\n+import {\n+  GetAdminrSetting,\n+  AddAdminPermission,\n+  GeEmailAuthenticationData,\n+  GetSharePointData,\n+  RefreshPointData\n+} from \"../../../api/api\";\n+import { toast } from \"react-toastify\";\n+import ParentSetting from \"../../common/parentSetting\";\n+function AdminSetting(props) {\n+  const [apiCall, setApiCall] = useState(false);\n+  const [email, setEmail] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  const [notification, setNotiication] = useState({\n+    lmia: 0,\n+    job: 0,\n+    interview: 0,\n+    visa: 0,\n+  });\n+  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n+  let [sharePointData, setSharePointData] = useState(\"\");\n+  /*Function to get the permision data */\n+  const GetPermissionData = async () => {\n+    try {\n+      let Response = await GetAdminrSetting();\n+      const email_permissions = JSON.parse(Response.data.email_permission);\n+      const notification_permission = JSON.parse(\n+        Response.data.notification_permission\n+      );\n+      setEmail(email_permissions);\n+      setNotiication(notification_permission);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function get email Authentication Data */\n+  async function GeEmailAuthData() {\n+    try {\n+      let response = await GeEmailAuthenticationData();\n+      if (response.status === 1 || \"1\") {\n+        setEmailAuthenticationLink(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+    try {\n+      let response = await GetSharePointData()\n+      if (response.status === 1 || \"1\") {\n+        setSharePointData(response);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  }\n+  /*Render method */\n+  useEffect(() => {\n+    GeEmailAuthData();\n+    GetPermissionData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  /*Function to grant the permission */\n+  const togglePermission = async (permissionName) => {\n+    //condition to switch the button accordingly\n+    const updatedPermissions = {\n+      notification_permission: {\n+        lmia:\n+          permissionName === \"notification_lmia\"\n+            ? notification.lmia === 0\n+              ? 1\n+              : 0\n+            : notification.lmia,\n+        visa:\n+          permissionName === \"notification_visa\"\n+            ? notification.visa === 0\n+              ? 1\n+              : 0\n+            : notification.visa,\n+        interview:\n+          permissionName === \"notification_interview\"\n+            ? notification.interview === 0\n+              ? 1\n+              : 0\n+            : notification.interview,\n+        job:\n+          permissionName === \"notification_job\"\n+            ? notification.job === 0\n+              ? 1\n+              : 0\n+            : notification.job,\n+      },\n+      email_permission: {\n+        lmia:\n+          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n+        visa:\n+          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n+        interview:\n+          permissionName === \"interview\"\n+            ? email.interview === 0\n+              ? 1\n+              : 0\n+            : email.interview,\n+        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n+      },\n+    };\n+\n+    try {\n+      let Response = await AddAdminPermission(updatedPermissions);\n+      // conditions for the reponse toaster message\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 1\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 1\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 1\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 1\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 1\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 1\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 1\n+                      : updatedPermissions.email_permission.job === 1)\n+      ) {\n+        toast.success(\"Permission granted successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+      if (\n+        Response.message === \"successfully\" &&\n+        (permissionName === \"notification_lmia\"\n+          ? updatedPermissions.notification_permission.lmia === 0\n+          : permissionName === \"lmia\"\n+            ? updatedPermissions.email_permission.lmia === 0\n+            : permissionName === \"notification_visa\"\n+              ? updatedPermissions.notification_permission.visa === 0\n+              : permissionName === \"visa\"\n+                ? updatedPermissions.email_permission.visa === 0\n+                : permissionName === \"notification_interview\"\n+                  ? updatedPermissions.notification_permission.interview === 0\n+                  : permissionName === \"interview\"\n+                    ? updatedPermissions.email_permission.interview === 0\n+                    : permissionName === \"notification_job\"\n+                      ? updatedPermissions.notification_permission.job === 0\n+                      : updatedPermissions.email_permission.job === 0)\n+      ) {\n+        toast.error(\"Permission Denay successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  return (\n+    <>\n+      <Modal\n+        show={props.show}\n+        size=\"md\"\n+        aria-labelledby=\"contained-modal-title-vcenter\"\n+        centered\n+      >\n+        <button\n+          type=\"button\"\n+          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n+          data-dismiss=\"modal\"\n+          onClick={props.close}\n+        >\n+          <i className=\"fas fa-times\"></i>\n+        </button>\n+        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n+          <h3 className=\"text-center\">Settings</h3>\n+          <div>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Email Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch1\"\n+                    checked={email.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch1\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch2\"\n+                    checked={email.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch2\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch3\"\n+                    checked={email.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch3\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch4\"\n+                    checked={email.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch4\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <h6 className=\"text-start mt-4 text-grey\">\n+              Admin's Notification Preferences\n+            </h6>\n+            <ul className=\"list-unstyled row\">\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch6\"\n+                    checked={notification.lmia === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_lmia\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch6\"\n+                  >\n+                    Lmia\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch7\"\n+                    checked={notification.visa === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_visa\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch7\"\n+                  >\n+                    Visa\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch8\"\n+                    checked={notification.interview === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_interview\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch8\"\n+                  >\n+                    Interview\n+                  </label>\n+                </div>\n+              </li>\n+              <li className=\"mb-3 col-6\">\n+                <div className=\"custom-control custom-switch\">\n+                  <input\n+                    type=\"checkbox\"\n+                    className=\"custom-control-input\"\n+                    id=\"customSwitch9\"\n+                    checked={notification.job === 0 ? false : true}\n+                    onChange={() => togglePermission(\"notification_job\")}\n+                  />\n+                  <label\n+                    className=\"custom-control-label\"\n+                    htmlFor=\"customSwitch9\"\n+                  >\n+                    Job\n+                  </label>\n+                </div>\n+              </li>\n+            </ul>\n+            <div className=\"mb-3\">\n+              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n+                <div>\n+                  <h4 style={{ color: \"#5be15b\" }}>\n+                    Mail already authorized !\n+                  </h4>\n+                </div>\n+              ) : (\n+                <button\n+                  className=\"btn btn-secondary\"\n+                  onClick={() => {\n+                    window.open(\n+                      emailAauthenticationLink.data,\n+                      \"_blank\",\n+                      \"height=500,width=500%\"\n+                    );\n+                    props.close();\n+                  }}\n+                >\n+                  Authenticate Mail\n+                </button>\n+              )}\n+            </div>\n+            <div className=\"mb-3\">\n+\n+              {\n+                // sharePointData.is_already_authorized === \"yes\" ? (\n+                //   <div>\n+                //     <h4 style={{ color: \"#5be15b\" }}>\n+                //       Share Point already authorized !\n+                //     </h4>\n+                //   </div>\n+                // ) :\n+                (\n+                  <button\n+                    className=\"btn btn-secondary\"\n+                    onClick={async () => {\n+                      try {\n+                        let res = await RefreshPointData()\n+                       if(res.messsage === \"Success\"){\n+                        toast.success(\"Authoized successfully\", {\n+                          position: toast.POSITION.TOP_RIGHT,\n+                          autoClose: 1000,\n+                        });\n+                        setApiCall(true)\n+                       }\n+                      } catch (err) {\n+                        console.log(err)\n+                      }\n+                    }}\n+                  >\n+                    Authenticate Share point\n+                  </button>\n+                )}\n+            </div>\n+            <div className=\"mb-3\">\n+              <ParentSetting />\n+            </div>\n+            <Link\n+              to=\"\"\n+              onClick={() => {\n+                props.setShowChangePass(true);\n+                props.close();\n+              }}\n+              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n+            >\n+              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n+            </Link>\n+          </div>\n+        </div>\n+      </Modal>\n+    </>\n+  );\n+}\n+\n+export default AdminSetting;\n"
                },
                {
                    "date": 1710763829498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,420 +359,8 @@\n             </div>\n             <div className=\"mb-3\">\n \n               {\n-                // sharePointData.is_already_authorized === \"yes\" ? (\n-                //   <div>\n-                //     <h4 style={{ color: \"#5be15b\" }}>\n-                //       Share Point already authorized !\n-                //     </h4>\n-                //   </div>\n-                // ) :\n-                (\n-                  <button\n-                    className=\"btn btn-secondary\"\n-                    onClick={async () => {\n-                      try {\n-                        let res = await RefreshPointData()\n-                       if(res.messsage === \"Success\"){\n-                        toast.success(\"Authoized successfully\", {\n-                          position: toast.POSITION.TOP_RIGHT,\n-                          autoClose: 1000,\n-                        });\n-                        setApiCall(true)\n-                       }\n-                      } catch (err) {\n-                        console.log(err)\n-                      }\n-                    }}\n-                  >\n-                    Authenticate Share point\n-                  </button>\n-                )}\n-            </div>\n-            <div className=\"mb-3\">\n-              <ParentSetting />\n-            </div>\n-            <Link\n-              to=\"\"\n-              onClick={() => {\n-                props.setShowChangePass(true);\n-                props.close();\n-              }}\n-              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n-            >\n-              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n-            </Link>\n-          </div>\n-        </div>\n-      </Modal>\n-    </>\n-  );\n-}\n-\n-export default AdminSetting;\n-import React, { useState, useEffect } from \"react\";\n-import { Link } from \"react-router-dom\";\n-import { Modal } from \"react-bootstrap\";\n-import { RiLockPasswordFill } from \"react-icons/ri\";\n-import {\n-  GetAdminrSetting,\n-  AddAdminPermission,\n-  GeEmailAuthenticationData,\n-  GetSharePointData,\n-  RefreshPointData\n-} from \"../../../api/api\";\n-import { toast } from \"react-toastify\";\n-import ParentSetting from \"../../common/parentSetting\";\n-function AdminSetting(props) {\n-  const [apiCall, setApiCall] = useState(false);\n-  const [email, setEmail] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  const [notification, setNotiication] = useState({\n-    lmia: 0,\n-    job: 0,\n-    interview: 0,\n-    visa: 0,\n-  });\n-  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n-  let [sharePointData, setSharePointData] = useState(\"\");\n-  /*Function to get the permision data */\n-  const GetPermissionData = async () => {\n-    try {\n-      let Response = await GetAdminrSetting();\n-      const email_permissions = JSON.parse(Response.data.email_permission);\n-      const notification_permission = JSON.parse(\n-        Response.data.notification_permission\n-      );\n-      setEmail(email_permissions);\n-      setNotiication(notification_permission);\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  /*Function get email Authentication Data */\n-  async function GeEmailAuthData() {\n-    try {\n-      let response = await GeEmailAuthenticationData();\n-      if (response.status === 1 || \"1\") {\n-        setEmailAuthenticationLink(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-    try {\n-      let response = await GetSharePointData()\n-      if (response.status === 1 || \"1\") {\n-        setSharePointData(response);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  }\n-  /*Render method */\n-  useEffect(() => {\n-    GeEmailAuthData();\n-    GetPermissionData();\n-    if (apiCall === true) {\n-      setApiCall(false);\n-    }\n-  }, [apiCall]);\n-\n-  /*Function to grant the permission */\n-  const togglePermission = async (permissionName) => {\n-    //condition to switch the button accordingly\n-    const updatedPermissions = {\n-      notification_permission: {\n-        lmia:\n-          permissionName === \"notification_lmia\"\n-            ? notification.lmia === 0\n-              ? 1\n-              : 0\n-            : notification.lmia,\n-        visa:\n-          permissionName === \"notification_visa\"\n-            ? notification.visa === 0\n-              ? 1\n-              : 0\n-            : notification.visa,\n-        interview:\n-          permissionName === \"notification_interview\"\n-            ? notification.interview === 0\n-              ? 1\n-              : 0\n-            : notification.interview,\n-        job:\n-          permissionName === \"notification_job\"\n-            ? notification.job === 0\n-              ? 1\n-              : 0\n-            : notification.job,\n-      },\n-      email_permission: {\n-        lmia:\n-          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n-        visa:\n-          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n-        interview:\n-          permissionName === \"interview\"\n-            ? email.interview === 0\n-              ? 1\n-              : 0\n-            : email.interview,\n-        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n-      },\n-    };\n-\n-    try {\n-      let Response = await AddAdminPermission(updatedPermissions);\n-      // conditions for the reponse toaster message\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 1\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 1\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 1\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 1\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 1\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 1\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 1\n-                      : updatedPermissions.email_permission.job === 1)\n-      ) {\n-        toast.success(\"Permission granted successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-      if (\n-        Response.message === \"successfully\" &&\n-        (permissionName === \"notification_lmia\"\n-          ? updatedPermissions.notification_permission.lmia === 0\n-          : permissionName === \"lmia\"\n-            ? updatedPermissions.email_permission.lmia === 0\n-            : permissionName === \"notification_visa\"\n-              ? updatedPermissions.notification_permission.visa === 0\n-              : permissionName === \"visa\"\n-                ? updatedPermissions.email_permission.visa === 0\n-                : permissionName === \"notification_interview\"\n-                  ? updatedPermissions.notification_permission.interview === 0\n-                  : permissionName === \"interview\"\n-                    ? updatedPermissions.email_permission.interview === 0\n-                    : permissionName === \"notification_job\"\n-                      ? updatedPermissions.notification_permission.job === 0\n-                      : updatedPermissions.email_permission.job === 0)\n-      ) {\n-        toast.error(\"Permission Denay successfully\", {\n-          position: toast.POSITION.TOP_RIGHT,\n-          autoClose: 1000,\n-        });\n-        setApiCall(true);\n-      }\n-    } catch (err) {\n-      console.log(err);\n-    }\n-  };\n-  return (\n-    <>\n-      <Modal\n-        show={props.show}\n-        size=\"md\"\n-        aria-labelledby=\"contained-modal-title-vcenter\"\n-        centered\n-      >\n-        <button\n-          type=\"button\"\n-          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n-          data-dismiss=\"modal\"\n-          onClick={props.close}\n-        >\n-          <i className=\"fas fa-times\"></i>\n-        </button>\n-        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n-          <h3 className=\"text-center\">Settings</h3>\n-          <div>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Email Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch1\"\n-                    checked={email.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch1\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch2\"\n-                    checked={email.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch2\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch3\"\n-                    checked={email.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch3\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch4\"\n-                    checked={email.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch4\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <h6 className=\"text-start mt-4 text-grey\">\n-              Admin's Notification Preferences\n-            </h6>\n-            <ul className=\"list-unstyled row\">\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch6\"\n-                    checked={notification.lmia === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_lmia\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch6\"\n-                  >\n-                    Lmia\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch7\"\n-                    checked={notification.visa === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_visa\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch7\"\n-                  >\n-                    Visa\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch8\"\n-                    checked={notification.interview === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_interview\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch8\"\n-                  >\n-                    Interview\n-                  </label>\n-                </div>\n-              </li>\n-              <li className=\"mb-3 col-6\">\n-                <div className=\"custom-control custom-switch\">\n-                  <input\n-                    type=\"checkbox\"\n-                    className=\"custom-control-input\"\n-                    id=\"customSwitch9\"\n-                    checked={notification.job === 0 ? false : true}\n-                    onChange={() => togglePermission(\"notification_job\")}\n-                  />\n-                  <label\n-                    className=\"custom-control-label\"\n-                    htmlFor=\"customSwitch9\"\n-                  >\n-                    Job\n-                  </label>\n-                </div>\n-              </li>\n-            </ul>\n-            <div className=\"mb-3\">\n-              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n-                <div>\n-                  <h4 style={{ color: \"#5be15b\" }}>\n-                    Mail already authorized !\n-                  </h4>\n-                </div>\n-              ) : (\n-                <button\n-                  className=\"btn btn-secondary\"\n-                  onClick={() => {\n-                    window.open(\n-                      emailAauthenticationLink.data,\n-                      \"_blank\",\n-                      \"height=500,width=500%\"\n-                    );\n-                    props.close();\n-                  }}\n-                >\n-                  Authenticate Mail\n-                </button>\n-              )}\n-            </div>\n-            <div className=\"mb-3\">\n-\n-              {\n                 sharePointData.is_already_authorized === \"yes\" ? (\n                   <div>\n                     <h4 style={{ color: \"#5be15b\" }}>\n                       Share Point already authorized !\n"
                }
            ],
            "date": 1710763131250,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"react-bootstrap\";\nimport { RiLockPasswordFill } from \"react-icons/ri\";\nimport {\n  GetAdminrSetting,\n  AddAdminPermission,\n  GeEmailAuthenticationData,\n  GetSharePointData,\n} from \"../../../api/api\";\nimport { toast } from \"react-toastify\";\nimport ParentSetting from \"../../common/parentSetting\";\nfunction AdminSetting(props) {\n  const [apiCall, setApiCall] = useState(false);\n  const [email, setEmail] = useState({\n    lmia: 0,\n    job: 0,\n    interview: 0,\n    visa: 0,\n  });\n  const [notification, setNotiication] = useState({\n    lmia: 0,\n    job: 0,\n    interview: 0,\n    visa: 0,\n  });\n  let [emailAauthenticationLink, setEmailAuthenticationLink] = useState(\"\");\n  let [sharePointData, setSharePointData] = useState(\"\");\n  /*Function to get the permision data */\n  const GetPermissionData = async () => {\n    try {\n      let Response = await GetAdminrSetting();\n      const email_permissions = JSON.parse(Response.data.email_permission);\n      const notification_permission = JSON.parse(\n        Response.data.notification_permission\n      );\n      setEmail(email_permissions);\n      setNotiication(notification_permission);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  /*Function get email Authentication Data */\n  async function GeEmailAuthData() {\n    try {\n      let response = await GeEmailAuthenticationData();\n      if (response.status === 1 || \"1\") {\n        setEmailAuthenticationLink(response);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    try{\n      let response = await GetSharePointData()\n      console.log(response)\n      if (response.status === 1 || \"1\") {\n        setSharePointData(response);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /*Render method */\n  useEffect(() => {\n    GeEmailAuthData();\n    GetPermissionData();\n    if (apiCall === true) {\n      setApiCall(false);\n    }\n  }, [apiCall]);\n\n  /*Function to grant the permission */\n  const togglePermission = async (permissionName) => {\n    //condition to switch the button accordingly\n    const updatedPermissions = {\n      notification_permission: {\n        lmia:\n          permissionName === \"notification_lmia\"\n            ? notification.lmia === 0\n              ? 1\n              : 0\n            : notification.lmia,\n        visa:\n          permissionName === \"notification_visa\"\n            ? notification.visa === 0\n              ? 1\n              : 0\n            : notification.visa,\n        interview:\n          permissionName === \"notification_interview\"\n            ? notification.interview === 0\n              ? 1\n              : 0\n            : notification.interview,\n        job:\n          permissionName === \"notification_job\"\n            ? notification.job === 0\n              ? 1\n              : 0\n            : notification.job,\n      },\n      email_permission: {\n        lmia:\n          permissionName === \"lmia\" ? (email.lmia === 0 ? 1 : 0) : email.lmia,\n        visa:\n          permissionName === \"visa\" ? (email.visa === 0 ? 1 : 0) : email.visa,\n        interview:\n          permissionName === \"interview\"\n            ? email.interview === 0\n              ? 1\n              : 0\n            : email.interview,\n        job: permissionName === \"job\" ? (email.job === 0 ? 1 : 0) : email.job,\n      },\n    };\n\n    try {\n      let Response = await AddAdminPermission(updatedPermissions);\n      // conditions for the reponse toaster message\n      if (\n        Response.message === \"successfully\" &&\n        (permissionName === \"notification_lmia\"\n          ? updatedPermissions.notification_permission.lmia === 1\n          : permissionName === \"lmia\"\n          ? updatedPermissions.email_permission.lmia === 1\n          : permissionName === \"notification_visa\"\n          ? updatedPermissions.notification_permission.visa === 1\n          : permissionName === \"visa\"\n          ? updatedPermissions.email_permission.visa === 1\n          : permissionName === \"notification_interview\"\n          ? updatedPermissions.notification_permission.interview === 1\n          : permissionName === \"interview\"\n          ? updatedPermissions.email_permission.interview === 1\n          : permissionName === \"notification_job\"\n          ? updatedPermissions.notification_permission.job === 1\n          : updatedPermissions.email_permission.job === 1)\n      ) {\n        toast.success(\"Permission granted successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setApiCall(true);\n      }\n      if (\n        Response.message === \"successfully\" &&\n        (permissionName === \"notification_lmia\"\n          ? updatedPermissions.notification_permission.lmia === 0\n          : permissionName === \"lmia\"\n          ? updatedPermissions.email_permission.lmia === 0\n          : permissionName === \"notification_visa\"\n          ? updatedPermissions.notification_permission.visa === 0\n          : permissionName === \"visa\"\n          ? updatedPermissions.email_permission.visa === 0\n          : permissionName === \"notification_interview\"\n          ? updatedPermissions.notification_permission.interview === 0\n          : permissionName === \"interview\"\n          ? updatedPermissions.email_permission.interview === 0\n          : permissionName === \"notification_job\"\n          ? updatedPermissions.notification_permission.job === 0\n          : updatedPermissions.email_permission.job === 0)\n      ) {\n        toast.error(\"Permission Denay successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setApiCall(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <>\n      <Modal\n        show={props.show}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <button\n          type=\"button\"\n          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n          data-dismiss=\"modal\"\n          onClick={props.close}\n        >\n          <i className=\"fas fa-times\"></i>\n        </button>\n        <div className=\"bg-white rounded h-100 px-11 pt-10\">\n          <h3 className=\"text-center\">Settings</h3>\n          <div>\n            <h6 className=\"text-start mt-4 text-grey\">\n              Admin's Email Preferences\n            </h6>\n            <ul className=\"list-unstyled row\">\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch1\"\n                    checked={email.lmia === 0 ? false : true}\n                    onChange={() => togglePermission(\"lmia\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch1\"\n                  >\n                    Lmia\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch2\"\n                    checked={email.visa === 0 ? false : true}\n                    onChange={() => togglePermission(\"visa\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch2\"\n                  >\n                    Visa\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch3\"\n                    checked={email.interview === 0 ? false : true}\n                    onChange={() => togglePermission(\"interview\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch3\"\n                  >\n                    Interview\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch4\"\n                    checked={email.job === 0 ? false : true}\n                    onChange={() => togglePermission(\"job\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch4\"\n                  >\n                    Job\n                  </label>\n                </div>\n              </li>\n            </ul>\n            <h6 className=\"text-start mt-4 text-grey\">\n              Admin's Notification Preferences\n            </h6>\n            <ul className=\"list-unstyled row\">\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch6\"\n                    checked={notification.lmia === 0 ? false : true}\n                    onChange={() => togglePermission(\"notification_lmia\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch6\"\n                  >\n                    Lmia\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch7\"\n                    checked={notification.visa === 0 ? false : true}\n                    onChange={() => togglePermission(\"notification_visa\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch7\"\n                  >\n                    Visa\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch8\"\n                    checked={notification.interview === 0 ? false : true}\n                    onChange={() => togglePermission(\"notification_interview\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch8\"\n                  >\n                    Interview\n                  </label>\n                </div>\n              </li>\n              <li className=\"mb-3 col-6\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"customSwitch9\"\n                    checked={notification.job === 0 ? false : true}\n                    onChange={() => togglePermission(\"notification_job\")}\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\"customSwitch9\"\n                  >\n                    Job\n                  </label>\n                </div>\n              </li>\n            </ul>\n            <div className=\"mb-3\">\n              {emailAauthenticationLink.is_already_authorized === \"yes\" ? (\n                <div>\n                  <h4 style={{ color: \"#5be15b\" }}>\n                    Mail already authorized !\n                  </h4>\n                </div>\n              ) : (\n                <button\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    window.open(\n                      emailAauthenticationLink.data,\n                      \"_blank\",\n                      \"height=500,width=500%\"\n                    );\n                    props.close();\n                  }}\n                >\n                  Authenticate Mail\n                </button>\n              )}\n            </div>\n            <div className=\"mb-3\">\n              <ParentSetting />\n            </div>\n            <Link\n              to=\"\"\n              onClick={() => {\n                props.setShowChangePass(true);\n                props.close();\n              }}\n              className=\"btn btn-primary  d-flex align-items-center mb-3\"\n            >\n              <RiLockPasswordFill className=\"mr-2\" /> Change Password\n            </Link>\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default AdminSetting;\n"
        }
    ]
}
{
    "sourceFile": "src/components/admin/header.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1693486845048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1693487036454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,12 +149,10 @@\n                         onClick={() => {\n                           try {\n                             ReadNotification(data.id);\n                           } catch (err) {\n-                           console.log(err) {\n-                              position: toast.POSITION.TOP_RIGHT,\n-                              autoClose: 1000,\n-                            });\n+                           console.log(err) \n+                            \n                           }\n                           setApicall(true);\n                         }}\n                         className=\"text-truncate-2 text-dark\"\n"
                }
            ],
            "date": 1693486845048,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ChangePassword from \"../common/changepassword\";\nimport { toast } from \"react-toastify\";\nimport GenerateToken from \"./generateToken\";\nimport { getAllAdminNotification, ReadNotification } from \"../../api/api\";\n\nconst AdminHeader = (props) => {\n  /*States */\n  const [showChangePass, setShowChangePass] = useState(false);\n  const [showGeneratToken, setShowGenerateToken] = useState(false);\n  const [notification, setNotiication] = useState(\"\");\n  const [apicall, setApicall] = useState(false);\n  let Admin = localStorage.getItem(\"admin\");\n  let AdminType = localStorage.getItem(\"admin_type\");\n\n  /*Function to Call Notification Api */\n  const Notiication = async () => {\n    try {\n      let Response = await getAllAdminNotification();\n      setNotiication(Response.Data.data);\n    } catch (err) {\n      console.log(err)\n    }\n  };\n  /*Render Mewthod to get Notification */\n  useEffect(() => {\n    Notiication();\n    if (apicall === true) {\n      setApicall(false);\n    }\n  }, [apicall]);\n  return (\n    <header className=\"site-header admin_header site-header--menu-right bg-default position-fixed border-left site-header--absolute\">\n      <div className=\"container-fluid-fluid px-7\">\n        <nav className=\"navbar site-navbar offcanvas-active navbar-expand-lg  px-0 py-0\">\n          {/* <!-- Page Heading--> */}\n          <h3 className=\"font-size-6 mb-0 text-capitalize\">{props.heading}</h3>\n          <div className=\"collapse navbar-collapse\" id=\"mobile-menu\"></div>\n          <div className=\"header-btn-devider ml-auto ml-lg-5 pl-2 d-xs-flex align-items-center\">\n            <div>\n              <div className=\"dropdown show-gr-dropdown py-5\">\n                <Link\n                  to={\"\"}\n                  className=\"proile media ml-7 flex-y-center\"\n                  role=\"button\"\n                  id=\"dropdownMenuLink\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  <div className=\"text-white\">\n                    <h6 className=\"m-0 text-capitalize text-white\">\n                      Hi, {Admin}\n                    </h6>\n                  </div>\n                  {/* <i className=\"fas fa-chevron-down heading-default-color px-3\"></i> */}\n                </Link>\n                <div\n                  className=\"dropdown-menu gr-menu-dropdown dropdown-right border-0 border-width-2 py-2 w-auto bg-default\"\n                  aria-labelledby=\"dropdownMenuLink\"\n                >\n                  <Link\n                    to={\"/adminprofile\"}\n                    className=\"dropdown-item py-2 font-size-3 font-weight-semibold line-height-1p2 text-capitalize\"\n                  >\n                    Edit Profile\n                  </Link>\n                  {AdminType === \"super-admin\" || AdminType === \"admin\" ? (\n                    <Link\n                      to={\"\"}\n                      onClick={() => setShowGenerateToken(true)}\n                      className=\"dropdown-item py-2 font-size-3 font-weight-semibold line-height-1p2 text-capitalize\"\n                    >\n                      View as\n                    </Link>\n                  ) : null}\n                  <Link\n                    to={\"\"}\n                    onClick={() => setShowChangePass(true)}\n                    className=\"dropdown-item py-2 font-size-3 font-weight-semibold line-height-1p2 text-capitalize\"\n                  >\n                    Setting\n                  </Link>\n                  {/*<--Logout Functionality-->*/}\n                  <Link\n                    to={\"/adminlogin\"}\n                    onClick={() => {\n                      localStorage.clear(); // clear the local storage\n                      toast.error(\"Log Out Successfully\", {\n                        position: toast.POSITION.TOP_RIGHT,\n                        autoClose: 1000,\n                      });\n                    }}\n                    className=\"dropdown-item py-2 text-red font-size-3 font-weight-semibold line-height-1p2 text-capitalize\"\n                  >\n                    Log Out\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"dropdown show-gr-dropdown py-5\">\n            <Link\n              to={\"\"}\n              role=\"button\"\n              id=\"dropdownMenuNotification\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n              className=\"px-3 ml-7 font-size-4 notification-block flex-y-center position-relative text-white\"\n            >\n              <i className=\"fas fa-bell \"></i>\n              {notification.length > 0 ? (\n                <span className=\"font-size-1 count text-white bg-primary circle-18 border border-width-1 border border-white\">\n                  {notification.length >= 10\n                    ? \"9+\"\n                    : notification.length >= 100\n                    ? \"99+\"\n                    : notification.length}\n                </span>\n              ) : null}\n            </Link>\n            <ul\n              className=\"dropdown-menu gr-menu-dropdown dropdown-right border-0 border-width-2 py-2 w-auto bg-default\"\n              aria-labelledby=\"dropdownMenuNotification\"\n            >\n              {(notification || []).map((data, i) =>\n                i >= 10 ? null : (\n                  <React.Fragment key={data.id}>\n                    <li\n                      title={data.message}\n                      className={\n                        data.is_read === \"1\"\n                          ? \"dropdown-item border-bottom  border-hit-gray font-size-3 text-wrap text-capitalize\"\n                          : \"font-weight-bold dropdown-item border-bottom  border-hit-gray font-size-3 text-wrap text-capitalize\"\n                      }\n                    >\n                      <Link\n                        to={\n                          data.subject === \"added_new_job\"\n                            ? \"/job\"\n                            : data.subject === \"applied_on_job\"\n                            ? \"/responses\"\n                            : data.subject === \"interview_scheduled\"\n                            ? \"/interview\"\n                            : \"\"\n                        }\n                        onClick={() => {\n                          try {\n                            ReadNotification(data.id);\n                          } catch (err) {\n                           console.log(err) {\n                              position: toast.POSITION.TOP_RIGHT,\n                              autoClose: 1000,\n                            });\n                          }\n                          setApicall(true);\n                        }}\n                        className=\"text-truncate-2 text-dark\"\n                      >\n                        {data.message}\n                      </Link>\n                    </li>\n                  </React.Fragment>\n                )\n              )}\n            </ul>\n          </div>\n        </nav>\n      </div>\n      {/*<-- Change password Modal -->*/}\n      {showChangePass ? (\n        <ChangePassword\n          show={showChangePass}\n          close={() => setShowChangePass(false)}\n        />\n      ) : null}\n      {/*<-- Generate Token Modal -->*/}\n      {showGeneratToken ? (\n        <GenerateToken\n          show={showGeneratToken}\n          close={() => setShowGenerateToken(false)}\n        />\n      ) : null}\n    </header>\n  );\n};\nexport default AdminHeader;\n"
        }
    ]
}
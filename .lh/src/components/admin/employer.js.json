{
    "sourceFile": "src/components/admin/employer.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1693820063248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1693902778119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,14 +13,16 @@\n   let [apiCall, setApiCall] = useState(false);\n   let [showAddEmployerModal, setShowEmployerMOdal] = useState(false);\n   let [showEmployerDetails, setShowEmployerDetails] = useState(false);\n   const [employerId, setEmployerID] = useState();\n+  const [pageNo, setpageNo] = useState(1);\n   /*Filter and search state */\n   const [industryFilterValue, setIndutryFilterValue] = useState(\"\");\n   const [corporationFilterValue, setcorporationFilterValue] = useState(\"\");\n   const [search, setSearch] = useState(\"\");\n   const [searcherror, setSearchError] = useState(\"\");\n   let [Json, setJson] = useState([]);\n+\n   /*Function to get the jSon */\n   const JsonData = async () => {\n     try {\n       let Json = await GetFilter();\n@@ -31,8 +33,9 @@\n   };\n   /*Function to Search employer */\n   const onSearch = (e) => {\n     setSearch(e.target.value);\n+    setpageNo(1)\n     if (/[^a-zA-Z0-9]/g.test(search)) {\n       setSearchError(\"Cannot use special character\");\n     } else if (search === \"\") {\n       setSearchError(\"\");\n@@ -126,9 +129,10 @@\n                         name=\"corporation\"\n                         value={corporationFilterValue}\n                         id=\"corporation\"\n                         onChange={(e) =>\n-                          setcorporationFilterValue(e.target.value)\n+                         { setcorporationFilterValue(e.target.value)\n+                          setpageNo(1)}\n                         }\n                         className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                       >\n                         <option value={\"\"}>Company Corporation</option>\n@@ -149,9 +153,10 @@\n                       <select\n                         name=\"industry\"\n                         value={industryFilterValue}\n                         id=\"industry\"\n-                        onChange={(e) => setIndutryFilterValue(e.target.value)}\n+                        onChange={(e) => {setIndutryFilterValue(e.target.value)\n+                          setpageNo(1)}}\n                         className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                       >\n                         <option value={\"\"}>Company Industry</option>\n                         {(Industry || []).map((industry) => (\n@@ -182,8 +187,9 @@\n                 corporationFilterValue={corporationFilterValue}\n                 showEmployerDetails={showEmployerDetails}\n                 apiCall={apiCall}\n                 setApiCall={setApiCall}\n+                pageNo={pageNo}\n               />\n             </div>\n           </div>\n         </div>\n"
                },
                {
                    "date": 1693903370234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n   };\n   /*Function to Search employer */\n   const onSearch = (e) => {\n     setSearch(e.target.value);\n-    setpageNo(1)\n+    setpageNo(1);\n     if (/[^a-zA-Z0-9]/g.test(search)) {\n       setSearchError(\"Cannot use special character\");\n     } else if (search === \"\") {\n       setSearchError(\"\");\n@@ -128,12 +128,12 @@\n                       <select\n                         name=\"corporation\"\n                         value={corporationFilterValue}\n                         id=\"corporation\"\n-                        onChange={(e) =>\n-                         { setcorporationFilterValue(e.target.value)\n-                          setpageNo(1)}\n-                        }\n+                        onChange={(e) => {\n+                          setcorporationFilterValue(e.target.value);\n+                          setpageNo(1);\n+                        }}\n                         className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                       >\n                         <option value={\"\"}>Company Corporation</option>\n                         {(Corporation || []).map((corporation) => (\n@@ -153,10 +153,12 @@\n                       <select\n                         name=\"industry\"\n                         value={industryFilterValue}\n                         id=\"industry\"\n-                        onChange={(e) => {setIndutryFilterValue(e.target.value)\n-                          setpageNo(1)}}\n+                        onChange={(e) => {\n+                          setIndutryFilterValue(e.target.value);\n+                          setpageNo(1);\n+                        }}\n                         className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                       >\n                         <option value={\"\"}>Company Industry</option>\n                         {(Industry || []).map((industry) => (\n@@ -188,8 +190,9 @@\n                 showEmployerDetails={showEmployerDetails}\n                 apiCall={apiCall}\n                 setApiCall={setApiCall}\n                 pageNo={pageNo}\n+                setpageNo={setpageNo}\n               />\n             </div>\n           </div>\n         </div>\n@@ -204,9 +207,8 @@\n                       to={\"\"}\n                       onClick={() => setShowEmployerDetails(false)}\n                       className=\"d-flex align-items-center ml-4\"\n                     >\n-                      \n                       <i className=\"icon icon-small-left bg-white circle-40 mr-5 font-size-7 text-black font-weight-bold shadow-8 mt-10\"></i>\n                       <span className=\"text-uppercase font-size-3 font-weight-bold text-gray\">\n                         Back\n                       </span>\n"
                },
                {
                    "date": 1694514932500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,13 @@\n   /*Function to get the jSon */\n   const JsonData = async () => {\n     try {\n       let Json = await GetFilter();\n+      if(Json.data.message ==='No data found'){\n+        setJson([])\n+      }else{\n+        setJson(Json.data.data);\n+      }\n       setJson(Json.data.data);\n     } catch (err) {\n       console.log(err);\n     }\n"
                },
                {
                    "date": 1694516059425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,233 @@\n+import React, { useState, useEffect } from \"react\";\n+import AdminHeader from \"./header\";\n+import AdminSidebar from \"./sidebar\";\n+import CustomButton from \"../common/button\";\n+import { Link } from \"react-router-dom\";\n+import EmployerProfile from \"../company/profile\";\n+import CompanyDetails from \"../forms/employer/companyDetail\";\n+import { ToastContainer } from \"react-toastify\";\n+import EmployerTable from \"../common/employerTable\";\n+import { GetFilter } from \"../../api/api\";\n+function Employer() {\n+  /*show modal and data, id state */\n+  let [apiCall, setApiCall] = useState(false);\n+  let [showAddEmployerModal, setShowEmployerMOdal] = useState(false);\n+  let [showEmployerDetails, setShowEmployerDetails] = useState(false);\n+  const [employerId, setEmployerID] = useState();\n+  const [pageNo, setpageNo] = useState(1);\n+  /*Filter and search state */\n+  const [industryFilterValue, setIndutryFilterValue] = useState(\"\");\n+  const [corporationFilterValue, setcorporationFilterValue] = useState(\"\");\n+  const [search, setSearch] = useState(\"\");\n+  const [searcherror, setSearchError] = useState(\"\");\n+  let [Json, setJson] = useState([]);\n+\n+  /*Function to get the jSon */\n+  const JsonData = async () => {\n+    try {\n+      let Json = await GetFilter();\n+      if(Json.data.message ==='No data found'){\n+        setJson([])\n+      }else{\n+        setJson(Json.data.data);\n+      }\n+      setJson(Json.data.data);\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Function to Search employer */\n+  const onSearch = (e) => {\n+    setSearch(e.target.value);\n+    setpageNo(1);\n+    if (/[^a-zA-Z0-9]/g.test(search)) {\n+      setSearchError(\"Cannot use special character\");\n+    } else if (search === \"\") {\n+      setSearchError(\"\");\n+    }\n+  };\n+  /*Render method to get the json*/\n+  useEffect(() => {\n+    JsonData();\n+    if ((search === \"\") === true) {\n+      setSearchError(\"\");\n+    }\n+  }, [industryFilterValue, corporationFilterValue]);\n+  /* Function to show the single data to update Employer */\n+  const editEmployer = (e) => {\n+    // e.preventDefault();\n+    setShowEmployerMOdal(true);\n+    setEmployerID(e);\n+  };\n+  /* Function to show the Job detail data */\n+  const EmployerDetail = (e) => {\n+    // e.preventDefault();\n+    setShowEmployerDetails(true);\n+    setEmployerID(e);\n+  };\n+  /*Corporation Json for not having same data */\n+  const Corporation = Json && Json.Corporation\n+  ? Json.Corporation.filter(\n+      (thing, index, self) =>\n+        index === self.findIndex((t) => t.value === thing.value)\n+    )\n+  : [];\n+  /*Industry Json for not having same data */\n+  const Industry =  Json && Json.Industry\n+    ? Json.Industry.filter(\n+        (thing, index, self) =>\n+          index === self.findIndex((t) => t.value === thing.value)\n+      )\n+    : [];\n+\n+  return (\n+    <>\n+      <div className=\"site-wrapper overflow-hidden bg-default-2\">\n+        {/* <!-- Header Area --> */}\n+        <AdminHeader heading={\"Manage Companies\"} />\n+        {/* <!-- navbar- --> */}\n+        <AdminSidebar heading={\"Manage Companies\"} />\n+        <ToastContainer />\n+        {/* <!-- Add Company Details Modal --> */}\n+        {showAddEmployerModal ? (\n+          <CompanyDetails\n+            show={showAddEmployerModal}\n+            employerId={employerId}\n+            apiCall={apiCall}\n+            setApiCall={setApiCall}\n+            close={() => setShowEmployerMOdal(false)}\n+          />\n+        ) : null}\n+        <div\n+          className={\n+            showEmployerDetails === false\n+              ? \"dashboard-main-container mt-16\"\n+              : \"d-none\"\n+          }\n+          id=\"dashboard-body\"\n+        >\n+          <div className=\"container-fluid\">\n+            <div className=\"mb-18\">\n+              <div className=\"mb-4 align-items-center\">\n+                <div className=\"page___heading\">\n+                  <h3 className=\"font-size-6 mb-0\">Employer</h3>\n+                </div>\n+                {/* <!-- Employer Search and Filter --> */}\n+                <div className=\"row m-0 align-items-center\">\n+                  <div className=\"col p-1 form_group mb-3\">\n+                    <p className=\"input_label\">Search:</p>\n+                    <input\n+                      required\n+                      type=\"text\"\n+                      className=\"form-control\"\n+                      placeholder={\"Company name\"}\n+                      value={search}\n+                      name={\"Employer_name\"}\n+                      onChange={(e) => onSearch(e)}\n+                      maxLength={30}\n+                    />\n+                  </div>\n+                  <div className=\"col p-1 form_group mb-3\">\n+                    <p className=\"input_label\">Filter by Corporation:</p>\n+                    <div className=\"select_div\">\n+                      <select\n+                        name=\"corporation\"\n+                        value={corporationFilterValue}\n+                        id=\"corporation\"\n+                        onChange={(e) => {\n+                          setcorporationFilterValue(e.target.value);\n+                          setpageNo(1);\n+                        }}\n+                        className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n+                      >\n+                        <option value={\"\"}>Company Corporation</option>\n+                        {(Corporation || []).map((corporation) => (\n+                          <option\n+                            key={corporation.id}\n+                            value={corporation.value}\n+                          >\n+                            {corporation.value}\n+                          </option>\n+                        ))}\n+                      </select>\n+                    </div>\n+                  </div>\n+                  <div className=\"col p-1 form_group mb-3\">\n+                    <p className=\"input_label\">Filter by Industry:</p>\n+                    <div className=\"select_div\">\n+                      <select\n+                        name=\"industry\"\n+                        value={industryFilterValue}\n+                        id=\"industry\"\n+                        onChange={(e) => {\n+                          setIndutryFilterValue(e.target.value);\n+                          setpageNo(1);\n+                        }}\n+                        className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n+                      >\n+                        <option value={\"\"}>Company Industry</option>\n+                        {(Industry || []).map((industry) => (\n+                          <option key={industry.id} value={industry.value}>\n+                            {industry.value}\n+                          </option>\n+                        ))}\n+                      </select>\n+                    </div>\n+                  </div>\n+                  <div className=\"col px-1 form_group mt-4 text-right\">\n+                    <CustomButton\n+                      className=\"font-size-3 rounded-3 btn btn-primary border-0\"\n+                      onClick={() => editEmployer(\"0\")}\n+                    >\n+                      Add Employer\n+                    </CustomButton>\n+                  </div>\n+                </div>\n+                <small className=\"text-danger\">{searcherror}</small>\n+              </div>\n+              {/* <!-- Employer List Table --> */}\n+              <EmployerTable\n+                showAddEmployerModal={showAddEmployerModal}\n+                EmployerDetail={EmployerDetail}\n+                search={search}\n+                industryFilterValue={industryFilterValue}\n+                corporationFilterValue={corporationFilterValue}\n+                showEmployerDetails={showEmployerDetails}\n+                apiCall={apiCall}\n+                setApiCall={setApiCall}\n+                pageNo={pageNo}\n+                setpageNo={setpageNo}\n+              />\n+            </div>\n+          </div>\n+        </div>\n+        {/* <!-- Employer Details- --> */}\n+        {showEmployerDetails === true ? (\n+          <div className=\"dashboard-main-container mt-16\">\n+            <div className=\"container-fluid\">\n+              <div className=\"row justify-content-center\">\n+                <div className=\"col-12 dark-mode-texts\">\n+                  <div className=\"mb-9\">\n+                    <Link\n+                      to={\"\"}\n+                      onClick={() => setShowEmployerDetails(false)}\n+                      className=\"d-flex align-items-center ml-4\"\n+                    >\n+                      <i className=\"icon icon-small-left bg-white circle-40 mr-5 font-size-7 text-black font-weight-bold shadow-8 mt-10\"></i>\n+                      <span className=\"text-uppercase font-size-3 font-weight-bold text-gray\">\n+                        Back\n+                      </span>\n+                    </Link>\n+                  </div>\n+                </div>\n+              </div>\n+              <EmployerProfile employerId={employerId} />\n+            </div>\n+          </div>\n+        ) : null}\n+      </div>\n+    </>\n+  );\n+}\n+\n+export default Employer;\n"
                }
            ],
            "date": 1693820063248,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport AdminHeader from \"./header\";\nimport AdminSidebar from \"./sidebar\";\nimport CustomButton from \"../common/button\";\nimport { Link } from \"react-router-dom\";\nimport EmployerProfile from \"../company/profile\";\nimport CompanyDetails from \"../forms/employer/companyDetail\";\nimport { ToastContainer } from \"react-toastify\";\nimport EmployerTable from \"../common/employerTable\";\nimport { GetFilter } from \"../../api/api\";\nfunction Employer() {\n  /*show modal and data, id state */\n  let [apiCall, setApiCall] = useState(false);\n  let [showAddEmployerModal, setShowEmployerMOdal] = useState(false);\n  let [showEmployerDetails, setShowEmployerDetails] = useState(false);\n  const [employerId, setEmployerID] = useState();\n  /*Filter and search state */\n  const [industryFilterValue, setIndutryFilterValue] = useState(\"\");\n  const [corporationFilterValue, setcorporationFilterValue] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [searcherror, setSearchError] = useState(\"\");\n  let [Json, setJson] = useState([]);\n  /*Function to get the jSon */\n  const JsonData = async () => {\n    try {\n      let Json = await GetFilter();\n      setJson(Json.data.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  /*Function to Search employer */\n  const onSearch = (e) => {\n    setSearch(e.target.value);\n    if (/[^a-zA-Z0-9]/g.test(search)) {\n      setSearchError(\"Cannot use special character\");\n    } else if (search === \"\") {\n      setSearchError(\"\");\n    }\n  };\n  /*Render method to get the json*/\n  useEffect(() => {\n    JsonData();\n    if ((search === \"\") === true) {\n      setSearchError(\"\");\n    }\n  }, [industryFilterValue, corporationFilterValue]);\n  /* Function to show the single data to update Employer */\n  const editEmployer = (e) => {\n    // e.preventDefault();\n    setShowEmployerMOdal(true);\n    setEmployerID(e);\n  };\n  /* Function to show the Job detail data */\n  const EmployerDetail = (e) => {\n    // e.preventDefault();\n    setShowEmployerDetails(true);\n    setEmployerID(e);\n  };\n  /*Corporation Json for not having same data */\n  const Corporation = Json.Corporation\n    ? Json.Corporation.filter(\n        (thing, index, self) =>\n          index === self.findIndex((t) => t.value === thing.value)\n      )\n    : [];\n  /*Industry Json for not having same data */\n  const Industry = Json.Industry\n    ? Json.Industry.filter(\n        (thing, index, self) =>\n          index === self.findIndex((t) => t.value === thing.value)\n      )\n    : [];\n\n  return (\n    <>\n      <div className=\"site-wrapper overflow-hidden bg-default-2\">\n        {/* <!-- Header Area --> */}\n        <AdminHeader heading={\"Manage Companies\"} />\n        {/* <!-- navbar- --> */}\n        <AdminSidebar heading={\"Manage Companies\"} />\n        <ToastContainer />\n        {/* <!-- Add Company Details Modal --> */}\n        {showAddEmployerModal ? (\n          <CompanyDetails\n            show={showAddEmployerModal}\n            employerId={employerId}\n            apiCall={apiCall}\n            setApiCall={setApiCall}\n            close={() => setShowEmployerMOdal(false)}\n          />\n        ) : null}\n        <div\n          className={\n            showEmployerDetails === false\n              ? \"dashboard-main-container mt-16\"\n              : \"d-none\"\n          }\n          id=\"dashboard-body\"\n        >\n          <div className=\"container-fluid\">\n            <div className=\"mb-18\">\n              <div className=\"mb-4 align-items-center\">\n                <div className=\"page___heading\">\n                  <h3 className=\"font-size-6 mb-0\">Employer</h3>\n                </div>\n                {/* <!-- Employer Search and Filter --> */}\n                <div className=\"row m-0 align-items-center\">\n                  <div className=\"col p-1 form_group mb-3\">\n                    <p className=\"input_label\">Search:</p>\n                    <input\n                      required\n                      type=\"text\"\n                      className=\"form-control\"\n                      placeholder={\"Company name\"}\n                      value={search}\n                      name={\"Employer_name\"}\n                      onChange={(e) => onSearch(e)}\n                      maxLength={30}\n                    />\n                  </div>\n                  <div className=\"col p-1 form_group mb-3\">\n                    <p className=\"input_label\">Filter by Corporation:</p>\n                    <div className=\"select_div\">\n                      <select\n                        name=\"corporation\"\n                        value={corporationFilterValue}\n                        id=\"corporation\"\n                        onChange={(e) =>\n                          setcorporationFilterValue(e.target.value)\n                        }\n                        className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                      >\n                        <option value={\"\"}>Company Corporation</option>\n                        {(Corporation || []).map((corporation) => (\n                          <option\n                            key={corporation.id}\n                            value={corporation.value}\n                          >\n                            {corporation.value}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col p-1 form_group mb-3\">\n                    <p className=\"input_label\">Filter by Industry:</p>\n                    <div className=\"select_div\">\n                      <select\n                        name=\"industry\"\n                        value={industryFilterValue}\n                        id=\"industry\"\n                        onChange={(e) => setIndutryFilterValue(e.target.value)}\n                        className=\"text-capitalize nice-select pl-7 h-100 arrow-3 arrow-3-black form-control text-black-2 w-100\"\n                      >\n                        <option value={\"\"}>Company Industry</option>\n                        {(Industry || []).map((industry) => (\n                          <option key={industry.id} value={industry.value}>\n                            {industry.value}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col px-1 form_group mt-4 text-right\">\n                    <CustomButton\n                      className=\"font-size-3 rounded-3 btn btn-primary border-0\"\n                      onClick={() => editEmployer(\"0\")}\n                    >\n                      Add Employer\n                    </CustomButton>\n                  </div>\n                </div>\n                <small className=\"text-danger\">{searcherror}</small>\n              </div>\n              {/* <!-- Employer List Table --> */}\n              <EmployerTable\n                showAddEmployerModal={showAddEmployerModal}\n                EmployerDetail={EmployerDetail}\n                search={search}\n                industryFilterValue={industryFilterValue}\n                corporationFilterValue={corporationFilterValue}\n                showEmployerDetails={showEmployerDetails}\n                apiCall={apiCall}\n                setApiCall={setApiCall}\n              />\n            </div>\n          </div>\n        </div>\n        {/* <!-- Employer Details- --> */}\n        {showEmployerDetails === true ? (\n          <div className=\"dashboard-main-container mt-16\">\n            <div className=\"container-fluid\">\n              <div className=\"row justify-content-center\">\n                <div className=\"col-12 dark-mode-texts\">\n                  <div className=\"mb-9\">\n                    <Link\n                      to={\"\"}\n                      onClick={() => setShowEmployerDetails(false)}\n                      className=\"d-flex align-items-center ml-4\"\n                    >\n                      \n                      <i className=\"icon icon-small-left bg-white circle-40 mr-5 font-size-7 text-black font-weight-bold shadow-8 mt-10\"></i>\n                      <span className=\"text-uppercase font-size-3 font-weight-bold text-gray\">\n                        Back\n                      </span>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n              <EmployerProfile employerId={employerId} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default Employer;\n"
        }
    ]
}
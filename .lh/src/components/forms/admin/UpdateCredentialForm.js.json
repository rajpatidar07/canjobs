{
    "sourceFile": "src/components/forms/admin/UpdateCredentialForm.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1710320343400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1710320343400,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport { UpdateCredentialApi } from \"../../../api/api\";\nimport useValidation from \"../../common/useValidation\";\nimport { Modal } from \"react-bootstrap\";\nimport { toast } from \"react-toastify\";\nexport default function UpdateCredentialForm({\n  show,\n  close,\n  data,\n  setAPiCall,\n}) {\n  const [loading, setLoading] = useState(false);\n  // INITIAL STATE ASSIGNMENT\n  const initialFormStateuser = {\n    id: \"\",\n    protocol: \"\",\n    host: \"\",\n    port: \"\",\n    username: \"\",\n    password: \"\",\n    encryptoion: \"\",\n    client_id: \"\",\n    client_secret: \"\",\n    tenantId: \"\",\n  };\n\n  /* Functionality to close the modal */\n  const closeModal = () => {\n    setState(initialFormStateuser);\n    setErrors(\"\");\n    setLoading(false);\n    close();\n  };\n\n  const validators = {};\n  // CUSTOM VALIDATIONS IMPORT\n  const { state, setState, onInputChange,/* errors, validate,*/ setErrors } =\n    useValidation(initialFormStateuser, validators);\n  useEffect(() => {\n    setState(data);\n  }, [data]);\n  // function submit the form\n  const SubmitCredForm = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      let res = await UpdateCredentialApi(state);\n      if (res.data.data === true) {\n        toast.success(\"Credential updated successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setAPiCall(true);\n        closeModal();\n      }\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n    }\n  };\n  return (\n    <Modal\n      show={show}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <>\n        <button\n          type=\"button\"\n          className=\"circle-32 btn-reset bg-white pos-abs-tr mt-md-n6 mr-lg-n6 focus-reset z-index-supper\"\n          data-dismiss=\"modal\"\n          onClick={closeModal}\n        >\n          <i className=\"fas fa-times\"></i>\n        </button>\n        <div className=\"bg-white rounded h-100 px-11 pt-7\">\n          <form onSubmit={SubmitCredForm}>\n            <h5 className=\"text-center pt-2 mb-7\">Update Credential's</h5>\n            <div className=\"row pt-5\">\n              {/* New fields */}\n              {data.protocol === \"outlook\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ||\n              data.protocol === \"braintree\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"username\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    User Name :\n                  </label>\n                  <input\n                    placeholder=\"Enter User Name\"\n                    type=\"text\"\n                    name=\"usernamee\"\n                    value={state.username}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"username\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"outlook\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ||\n              data.protocol === \"braintree\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"host\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Host:\n                  </label>\n                  <input\n                    placeholder=\"Enter Host\"\n                    type=\"text\"\n                    name=\"host\"\n                    value={state.host}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"host\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"outlook\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ||\n              data.protocol === \"braintree\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"port\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Port:\n                  </label>\n                  <input\n                    placeholder=\"Enter Port\"\n                    type=\"text\"\n                    name=\"port\"\n                    value={state.port}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"port\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"outlook\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ||\n              data.protocol === \"braintree\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"encryptoion\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Encryption:\n                  </label>\n                  <input\n                    placeholder=\"Enter Encryption\"\n                    type=\"text\"\n                    name=\"encryptoion\"\n                    value={state.encryptoion}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"encryptoion\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"smtp\" ? null : (\n                <div className={`form-group col-md-4`}>\n                  <label\n                    htmlFor=\"client_id\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Client Id:\n                  </label>\n                  <input\n                    placeholder=\"Enter Client Id\"\n                    type=\"text\"\n                    name=\"client_id\"\n                    value={state.client_id}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"client_id\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"smtp\" || data.protocol === \"stripe\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"client_secret\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Client secret:\n                  </label>\n                  <input\n                    placeholder=\"Enter Client secret\"\n                    type=\"text\"\n                    name=\"client_secret\"\n                    value={state.client_secret}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"client_secret\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"smtp\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"tenantId\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Tenant Id:\n                  </label>\n                  <input\n                    placeholder=\"Enter Tenant Id\"\n                    type=\"text\"\n                    name=\"tenantId\"\n                    value={state.tenantId}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"tenantId\"\n                  />\n                </div>\n              )}\n              {data.protocol === \"outlook\" ||\n              data.protocol === \"paypal\" ||\n              data.protocol === \"razorpay\" ||\n              data.protocol === \"stripe\" ||\n              data.protocol === \"braintree\" ? null : (\n                <div className={`form-group col-md-4 `}>\n                  <label\n                    htmlFor=\"password\"\n                    className=\"font-size-4 text-black-2 font-weight-semibold line-height-reset\"\n                  >\n                    Password:\n                  </label>\n                  <input\n                    placeholder=\"Enter Password\"\n                    type=\"password\"\n                    name=\"password\"\n                    value={state.tenantId}\n                    onChange={onInputChange}\n                    className=\"form-control\"\n                    id=\"password\"\n                  />\n                </div>\n              )}\n\n              {/* Submit button */}\n              <div className=\"form-group text-center\">\n                {loading === true ? (\n                  <button\n                    className=\"btn btn-primary btn-small w-25 rounded-5 text-uppercase\"\n                    type=\"button\"\n                  >\n                    <span\n                      className=\"spinner-border spinner-border-sm \"\n                      role=\"status\"\n                      aria-hidden=\"true\"\n                    ></span>\n                    <span className=\"sr-only\">Loading...</span>\n                  </button>\n                ) : (\n                  <button\n                    className=\"btn btn-primary btn-small w-25 rounded-5 text-uppercase\"\n                    type=\"submit\"\n                  >\n                    Submit\n                  </button>\n                )}\n              </div>\n            </div>\n          </form>\n        </div>\n      </>\n    </Modal>\n  );\n}\n"
        }
    ]
}
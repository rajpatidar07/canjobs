{
    "sourceFile": "src/components/common/Adobe/ViewSDKClient.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 28,
            "patches": [
                {
                    "date": 1712911622327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1712912666884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,85 @@\n+class ViewSDKClient {\r\n+    constructor() {\r\n+    this.readyPromise = new Promise((resolve) => {\r\n+    if (window.AdobeDC) {\r\n+    resolve();\r\n+    } else {\r\n+    document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+    resolve();\r\n+    });\r\n+    }\r\n+    });\r\n+    this.adobeDCView = undefined;\r\n+    }\r\n+    ready() {\r\n+    return this.readyPromise;\r\n+    }\r\n+    previewFile(divId, viewerConfig, url) {\r\n+    const config = {\r\n+    clientId: \"2c4accab69ff4244ac358ef34d13d747\",\r\n+    };\r\n+    if (divId) {\r\n+    config.divId = divId;\r\n+    }\r\n+    this.adobeDCView = new window.AdobeDC.View(config);\r\n+    const previewFilePromise = this.adobeDCView.previewFile({\r\n+    content: {\r\n+    location: {\r\n+    url: url,\r\n+    },\r\n+    },\r\n+    metaData: {\r\n+    fileName: \"Menu.pdf\",\r\n+    id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+    }\r\n+    }, viewerConfig);\r\n+    return previewFilePromise;\r\n+    }\r\n+    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+    this.adobeDCView = new window.AdobeDC.View({\r\n+    clientId: \"2c4accab69ff4244ac358ef34d13d747\",\r\n+    divId,\r\n+    });\r\n+    this.adobeDCView.previewFile({\r\n+    content: {\r\n+    promise: filePromise,\r\n+    },\r\n+    metaData: {\r\n+    fileName: fileName\r\n+    }\r\n+    }, {});\r\n+    }\r\n+    registerSaveApiHandler() {\r\n+    const saveApiHandler = (metaData, content, options) => {\r\n+    console.log(metaData, content, options);\r\n+    return new Promise(resolve => {\r\n+    setTimeout(() => {\r\n+    const response = {\r\n+    code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+    data: {\r\n+    metaData: Object.assign(metaData, {updatedAt: new Date().getTime()})\r\n+    },\r\n+    };\r\n+    resolve(response);\r\n+    }, 2000);\r\n+    });\r\n+    };\r\n+    this.adobeDCView.registerCallback(\r\n+    window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+    saveApiHandler,\r\n+    {}\r\n+    );\r\n+    }\r\n+    registerEventsHandler() {\r\n+    this.adobeDCView.registerCallback(\r\n+    window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+    event => {\r\n+    console.log(event);\r\n+    },\r\n+    {\r\n+    enablePDFAnalytics: true,\r\n+    }\r\n+    );\r\n+    }\r\n+    }\r\n+    export default ViewSDKClient;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712913141194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     return this.readyPromise;\r\n     }\r\n     previewFile(divId, viewerConfig, url) {\r\n     const config = {\r\n-    clientId: \"2c4accab69ff4244ac358ef34d13d747\",\r\n+    clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n     };\r\n     if (divId) {\r\n     config.divId = divId;\r\n     }\r\n@@ -36,9 +36,9 @@\n     return previewFilePromise;\r\n     }\r\n     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n     this.adobeDCView = new window.AdobeDC.View({\r\n-    clientId: \"2c4accab69ff4244ac358ef34d13d747\",\r\n+    clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n     divId,\r\n     });\r\n     this.adobeDCView.previewFile({\r\n     content: {\r\n@@ -81,90 +81,5 @@\n     }\r\n     );\r\n     }\r\n     }\r\n-    export default ViewSDKClient;\n-class ViewSDKClient {\r\n-    constructor() {\r\n-    this.readyPromise = new Promise((resolve) => {\r\n-    if (window.AdobeDC) {\r\n-    resolve();\r\n-    } else {\r\n-    document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-    resolve();\r\n-    });\r\n-    }\r\n-    });\r\n-    this.adobeDCView = undefined;\r\n-    }\r\n-    ready() {\r\n-    return this.readyPromise;\r\n-    }\r\n-    previewFile(divId, viewerConfig, url) {\r\n-    const config = {\r\n-    clientId: \"5bfcbeb2d14c49bf95f73dc0eed7f390\",\r\n-    };\r\n-    if (divId) {\r\n-    config.divId = divId;\r\n-    }\r\n-    this.adobeDCView = new window.AdobeDC.View(config);\r\n-    const previewFilePromise = this.adobeDCView.previewFile({\r\n-    content: {\r\n-    location: {\r\n-    url: url,\r\n-    },\r\n-    },\r\n-    metaData: {\r\n-    fileName: \"Menu.pdf\",\r\n-    id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-    }\r\n-    }, viewerConfig);\r\n-    return previewFilePromise;\r\n-    }\r\n-    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-    this.adobeDCView = new window.AdobeDC.View({\r\n-    clientId: \"5bfcbeb2d14c49bf95f73dc0eed7f390\",\r\n-    divId,\r\n-    });\r\n-    this.adobeDCView.previewFile({\r\n-    content: {\r\n-    promise: filePromise,\r\n-    },\r\n-    metaData: {\r\n-    fileName: fileName\r\n-    }\r\n-    }, {});\r\n-    }\r\n-    registerSaveApiHandler() {\r\n-    const saveApiHandler = (metaData, content, options) => {\r\n-    console.log(metaData, content, options);\r\n-    return new Promise(resolve => {\r\n-    setTimeout(() => {\r\n-    const response = {\r\n-    code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-    data: {\r\n-    metaData: Object.assign(metaData, {updatedAt: new Date().getTime()})\r\n-    },\r\n-    };\r\n-    resolve(response);\r\n-    }, 2000);\r\n-    });\r\n-    };\r\n-    this.adobeDCView.registerCallback(\r\n-    window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-    saveApiHandler,\r\n-    {}\r\n-    );\r\n-    }\r\n-    registerEventsHandler() {\r\n-    this.adobeDCView.registerCallback(\r\n-    window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-    event => {\r\n-    console.log(event);\r\n-    },\r\n-    {\r\n-    enablePDFAnalytics: true,\r\n-    }\r\n-    );\r\n-    }\r\n-    }\r\n     export default ViewSDKClient;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712914646183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,94 @@\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+    previewFile(divId, viewerConfig, url) {\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+        // Add annotation UI configuration to the viewerConfig\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            annotationUIConfig: {\r\n+                enableAnnotationAPIs: true, // Enable annotation APIs\r\n+                enableAnnotationPanel: true, // Show annotation panel\r\n+            },\r\n+        }\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: \"Menu.pdf\",\r\n+                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+            }\r\n+        }, viewerConfig);\r\n+        return previewFilePromise;\r\n+    }\r\n+    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: fileName\r\n+            }\r\n+        }, {});\r\n+    }\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+export default ViewSDKClient;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712916204213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,95 @@\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+    previewFile(divId, viewerConfig, url) {\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+        // Add annotation UI configuration to the viewerConfig\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            annotationUIConfig: {\r\n+                enableAnnotationAPIs: true, // Enable annotation APIs\r\n+                enableAnnotationPanel: true, // Show annotation panel\r\n+            },\r\n+        }\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                \r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: \"Menu.pdf\",\r\n+                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+            }\r\n+        }, viewerConfig);\r\n+        return previewFilePromise;\r\n+    }\r\n+    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: fileName\r\n+            }\r\n+        }, {});\r\n+    }\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+export default ViewSDKClient;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712916482603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,205 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, fileName) {\r\n+        const fileExtension = fileName.split('.').pop().toLowerCase();\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+        \r\n+        // Set different viewer configurations based on file type\r\n+        if (fileExtension === 'pdf') {\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                annotationUIConfig: {\r\n+                    enableAnnotationAPIs: true,\r\n+                    enableAnnotationPanel: true,\r\n+                },\r\n+            };\r\n+        } else {\r\n+            viewerConfig = {}; // For non-PDF files, disable annotations\r\n+        }\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: fileName,\r\n+                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: fileName\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712916755775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,202 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+        \r\n+        // Set different viewer configurations based on file type\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                annotationUIConfig: {\r\n+                    enableAnnotationAPIs: true,\r\n+                    enableAnnotationPanel: true,\r\n+                },\r\n+            };\r\n+        \r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712916791158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -111,9 +111,9 @@\n         return this.readyPromise;\r\n     }\r\n \r\n     previewFile(divId, viewerConfig, url, data) {\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        // const fileExtension = data.name.split('.').pop().toLowerCase();\r\n         const config = {\r\n             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n         };\r\n \r\n@@ -199,483 +199,4 @@\n     }\r\n }\r\n \r\n export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, fileName) {\r\n-        const fileExtension = fileName.split('.').pop().toLowerCase();\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-        \r\n-        // Set different viewer configurations based on file type\r\n-        if (fileExtension === 'pdf') {\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                annotationUIConfig: {\r\n-                    enableAnnotationAPIs: true,\r\n-                    enableAnnotationPanel: true,\r\n-                },\r\n-            };\r\n-        } else {\r\n-            viewerConfig = {}; // For non-PDF files, disable annotations\r\n-        }\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: fileName,\r\n-                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: fileName\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-    previewFile(divId, viewerConfig, url) {\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-        // Add annotation UI configuration to the viewerConfig\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            annotationUIConfig: {\r\n-                enableAnnotationAPIs: true, // Enable annotation APIs\r\n-                enableAnnotationPanel: true, // Show annotation panel\r\n-            },\r\n-        }\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                \r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: \"Menu.pdf\",\r\n-                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-            }\r\n-        }, viewerConfig);\r\n-        return previewFilePromise;\r\n-    }\r\n-    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: fileName\r\n-            }\r\n-        }, {});\r\n-    }\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-export default ViewSDKClient;\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-    previewFile(divId, viewerConfig, url) {\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-        // Add annotation UI configuration to the viewerConfig\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            annotationUIConfig: {\r\n-                enableAnnotationAPIs: true, // Enable annotation APIs\r\n-                enableAnnotationPanel: true, // Show annotation panel\r\n-            },\r\n-        }\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: \"Menu.pdf\",\r\n-                id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-            }\r\n-        }, viewerConfig);\r\n-        return previewFilePromise;\r\n-    }\r\n-    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: fileName\r\n-            }\r\n-        }, {});\r\n-    }\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-export default ViewSDKClient;\n-class ViewSDKClient {\r\n-    constructor() {\r\n-    this.readyPromise = new Promise((resolve) => {\r\n-    if (window.AdobeDC) {\r\n-    resolve();\r\n-    } else {\r\n-    document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-    resolve();\r\n-    });\r\n-    }\r\n-    });\r\n-    this.adobeDCView = undefined;\r\n-    }\r\n-    ready() {\r\n-    return this.readyPromise;\r\n-    }\r\n-    previewFile(divId, viewerConfig, url) {\r\n-    const config = {\r\n-    clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-    };\r\n-    if (divId) {\r\n-    config.divId = divId;\r\n-    }\r\n-    this.adobeDCView = new window.AdobeDC.View(config);\r\n-    const previewFilePromise = this.adobeDCView.previewFile({\r\n-    content: {\r\n-    location: {\r\n-    url: url,\r\n-    },\r\n-    },\r\n-    metaData: {\r\n-    fileName: \"Menu.pdf\",\r\n-    id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-    }\r\n-    }, viewerConfig);\r\n-    return previewFilePromise;\r\n-    }\r\n-    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-    this.adobeDCView = new window.AdobeDC.View({\r\n-    clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-    divId,\r\n-    });\r\n-    this.adobeDCView.previewFile({\r\n-    content: {\r\n-    promise: filePromise,\r\n-    },\r\n-    metaData: {\r\n-    fileName: fileName\r\n-    }\r\n-    }, {});\r\n-    }\r\n-    registerSaveApiHandler() {\r\n-    const saveApiHandler = (metaData, content, options) => {\r\n-    console.log(metaData, content, options);\r\n-    return new Promise(resolve => {\r\n-    setTimeout(() => {\r\n-    const response = {\r\n-    code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-    data: {\r\n-    metaData: Object.assign(metaData, {updatedAt: new Date().getTime()})\r\n-    },\r\n-    };\r\n-    resolve(response);\r\n-    }, 2000);\r\n-    });\r\n-    };\r\n-    this.adobeDCView.registerCallback(\r\n-    window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-    saveApiHandler,\r\n-    {}\r\n-    );\r\n-    }\r\n-    registerEventsHandler() {\r\n-    this.adobeDCView.registerCallback(\r\n-    window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-    event => {\r\n-    console.log(event);\r\n-    },\r\n-    {\r\n-    enablePDFAnalytics: true,\r\n-    }\r\n-    );\r\n-    }\r\n-    }\r\n-    export default ViewSDKClient;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1712917336663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,203 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log( data.name,data)\r\n+        // const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+        \r\n+        // Set different viewer configurations based on file type\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                annotationUIConfig: {\r\n+                    enableAnnotationAPIs: true,\r\n+                    enableAnnotationPanel: true,\r\n+                },\r\n+            };\r\n+        \r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712917670625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,216 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set different viewer configurations based on file type\r\n+        if (fileExtension === 'pdf' || fileExtension === 'docx') {\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                annotationUIConfig: {\r\n+                    enableAnnotationAPIs: true,\r\n+                    enableAnnotationPanel: true,\r\n+                },\r\n+            };\r\n+        } else if (fileExtension === 'jpg' || fileExtension === 'jpeg' || fileExtension === 'png') {\r\n+            // For images, enable specific image viewer options\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+                showAnnotationTools: false, // Disable annotation tools for images\r\n+            };\r\n+        } else {\r\n+            // For unsupported file types, use default viewer configuration\r\n+            viewerConfig = {};\r\n+        }\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712917697709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,215 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(data.name, data,\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set different viewer configurations based on file type\r\n+        if (fileExtension === 'pdf' || fileExtension === 'docx') {\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                annotationUIConfig: {\r\n+                    enableAnnotationAPIs: true,\r\n+                    enableAnnotationPanel: true,\r\n+                },\r\n+            };\r\n+        } else if (fileExtension === 'jpg' || fileExtension === 'jpeg' || fileExtension === 'png') {\r\n+            // For images, enable specific image viewer options\r\n+            viewerConfig = {\r\n+                ...viewerConfig,\r\n+                embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+                showAnnotationTools: false, // Disable annotation tools for images\r\n+            };\r\n+        } else {\r\n+            // For unsupported file types, use default viewer configuration\r\n+            viewerConfig = {};\r\n+        }\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712918855137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,208 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712918950080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,209 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+//     previewFile(divId, viewerConfig, url) {\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+//         // Add annotation UI configuration to the viewerConfig\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             annotationUIConfig: {\r\n+//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n+//                 enableAnnotationPanel: true, // Show annotation panel\r\n+//             },\r\n+//         }\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+                \r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: \"Menu.pdf\",\r\n+//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n+//             }\r\n+//         }, viewerConfig);\r\n+//         return previewFilePromise;\r\n+//     }\r\n+//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: fileName\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension:fileExtension\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712919002301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,218 +34,9 @@\n //         const previewFilePromise = this.adobeDCView.previewFile({\r\n //             content: {\r\n //                 location: {\r\n //                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n \r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension:fileExtension\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n //                 },\r\n //             },\r\n //             metaData: {\r\n //                 fileName: \"Menu.pdf\",\r\n@@ -351,8 +142,10 @@\n         const previewFilePromise = this.adobeDCView.previewFile({\r\n             content: {\r\n                 location: {\r\n                     url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n                 },\r\n             },\r\n             metaData: {\r\n                 fileName: data.name,\r\n@@ -414,840 +207,4 @@\n     }\r\n }\r\n \r\n export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(data.name, data,\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set different viewer configurations based on file type\r\n-        if (fileExtension === 'pdf' || fileExtension === 'docx') {\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                annotationUIConfig: {\r\n-                    enableAnnotationAPIs: true,\r\n-                    enableAnnotationPanel: true,\r\n-                },\r\n-            };\r\n-        } else if (fileExtension === 'jpg' || fileExtension === 'jpeg' || fileExtension === 'png') {\r\n-            // For images, enable specific image viewer options\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n-                showAnnotationTools: false, // Disable annotation tools for images\r\n-            };\r\n-        } else {\r\n-            // For unsupported file types, use default viewer configuration\r\n-            viewerConfig = {};\r\n-        }\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set different viewer configurations based on file type\r\n-        if (fileExtension === 'pdf' || fileExtension === 'docx') {\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                annotationUIConfig: {\r\n-                    enableAnnotationAPIs: true,\r\n-                    enableAnnotationPanel: true,\r\n-                },\r\n-            };\r\n-        } else if (fileExtension === 'jpg' || fileExtension === 'jpeg' || fileExtension === 'png') {\r\n-            // For images, enable specific image viewer options\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n-                showAnnotationTools: false, // Disable annotation tools for images\r\n-            };\r\n-        } else {\r\n-            // For unsupported file types, use default viewer configuration\r\n-            viewerConfig = {};\r\n-        }\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log( data.name,data)\r\n-        // const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-        \r\n-        // Set different viewer configurations based on file type\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                annotationUIConfig: {\r\n-                    enableAnnotationAPIs: true,\r\n-                    enableAnnotationPanel: true,\r\n-                },\r\n-            };\r\n-        \r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-                \r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        // const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-        \r\n-        // Set different viewer configurations based on file type\r\n-            viewerConfig = {\r\n-                ...viewerConfig,\r\n-                annotationUIConfig: {\r\n-                    enableAnnotationAPIs: true,\r\n-                    enableAnnotationPanel: true,\r\n-                },\r\n-            };\r\n-        \r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712920507622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,99 +1,4 @@\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-//     previewFile(divId, viewerConfig, url) {\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-//         // Add annotation UI configuration to the viewerConfig\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             annotationUIConfig: {\r\n-//                 enableAnnotationAPIs: true, // Enable annotation APIs\r\n-//                 enableAnnotationPanel: true, // Show annotation panel\r\n-//             },\r\n-//         }\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: \"Menu.pdf\",\r\n-//                 id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n-//             }\r\n-//         }, viewerConfig);\r\n-//         return previewFilePromise;\r\n-//     }\r\n-//     previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: fileName\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-// export default ViewSDKClient;\r\n class ViewSDKClient {\r\n     constructor() {\r\n         this.readyPromise = new Promise((resolve) => {\r\n             if (window.AdobeDC) {\r\n"
                },
                {
                    "date": 1712921260382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,257 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    saveAnnotations(annotationData) {\r\n+        if (!this.adobeDCView) {\r\n+            console.error(\"Adobe DC View is not initialized.\");\r\n+            return;\r\n+        }\r\n+console.log(annotationData)\r\n+        // // Make a POST request to a server endpoint with the annotation data\r\n+        // fetch(\"https://example.com/save-annotations\", {\r\n+        //     method: \"POST\",\r\n+        //     headers: {\r\n+        //         \"Content-Type\": \"application/json\",\r\n+        //     },\r\n+        //     body: JSON.stringify(annotationData),\r\n+        // })\r\n+        // .then(response => {\r\n+        //     if (response.ok) {\r\n+        //         console.log(\"Annotations saved successfully.\");\r\n+        //     } else {\r\n+        //         console.error(\"Failed to save annotations.\");\r\n+        //     }\r\n+        // })\r\n+        // .catch(error => {\r\n+        //     console.error(\"Error saving annotations:\", error);\r\n+        // });\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            // Call saveAnnotations with metaData containing annotation data\r\n+            this.saveAnnotations(metaData);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712922198036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,258 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+            showAnnotationTools: true,\r\n+            showDownloadPDF: true,\r\n+            showPrintPDF: true,\r\n+            enableFormFilling: true,\r\n+            showLeftHandPanel: true,\r\n+            showSearchPDF: true,\r\n+            showDocumentInfo: true,\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+    }\r\n+\r\n+    saveAnnotations(annotationData) {\r\n+        if (!this.adobeDCView) {\r\n+            console.error(\"Adobe DC View is not initialized.\");\r\n+            return;\r\n+        }\r\n+\r\n+        let existingAnnotations = [];\r\n+        try {\r\n+            existingAnnotations = JSON.parse(localStorage.getItem('annotations')) || [];\r\n+        } catch (error) {\r\n+            console.error(\"Error parsing existing annotations:\", error);\r\n+        }\r\n+\r\n+        existingAnnotations.push(annotationData);\r\n+\r\n+        localStorage.setItem('annotations', JSON.stringify(existingAnnotations));\r\n+        console.log(\"Annotations saved successfully.\");\r\n+    }\r\n+\r\n+    retrieveAnnotations() {\r\n+        let existingAnnotations = [];\r\n+        try {\r\n+            existingAnnotations = JSON.parse(localStorage.getItem('annotations')) || [];\r\n+        } catch (error) {\r\n+            console.error(\"Error parsing existing annotations:\", error);\r\n+        }\r\n+        return existingAnnotations;\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            this.saveAnnotations(metaData);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712922966108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,119 +1,4 @@\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-\r\n-//     previewFile(divId, viewerConfig, url, data) {\r\n-//         console.log(data.name, data);\r\n-//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-//         console.log(\"File extension:\", fileExtension);\r\n-\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-//         // Set viewer configuration with all options enabled for all file types\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-//             showAnnotationTools: true, // Show annotation tools\r\n-//             showDownloadPDF: true, // Show download PDF option\r\n-//             showPrintPDF: true, // Show print PDF option\r\n-//             enableFormFilling: true, // Enable form filling\r\n-//             showLeftHandPanel: true, // Show left-hand panel\r\n-//             showSearchPDF: true, // Show search PDF option\r\n-//             showDocumentInfo: true, // Show document information\r\n-//         };\r\n-\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-//                     fileExtension: fileExtension,\r\n-//                     fileType: data.mimeType\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name,\r\n-//                 id: data.id,\r\n-//             }\r\n-//         }, viewerConfig);\r\n-\r\n-//         return previewFilePromise;\r\n-//     }\r\n-\r\n-//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-\r\n-// export default ViewSDKClient;\r\n class ViewSDKClient {\r\n     constructor() {\r\n         this.readyPromise = new Promise((resolve) => {\r\n             if (window.AdobeDC) {\r\n@@ -145,266 +30,8 @@\n         }\r\n \r\n         this.adobeDCView = new window.AdobeDC.View(config);\r\n \r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n-            showAnnotationTools: true,\r\n-            showDownloadPDF: true,\r\n-            showPrintPDF: true,\r\n-            enableFormFilling: true,\r\n-            showLeftHandPanel: true,\r\n-            showSearchPDF: true,\r\n-            showDocumentInfo: true,\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    saveAnnotations(annotationData) {\r\n-        if (!this.adobeDCView) {\r\n-            console.error(\"Adobe DC View is not initialized.\");\r\n-            return;\r\n-        }\r\n-\r\n-        let existingAnnotations = [];\r\n-        try {\r\n-            existingAnnotations = JSON.parse(localStorage.getItem('annotations')) || [];\r\n-        } catch (error) {\r\n-            console.error(\"Error parsing existing annotations:\", error);\r\n-        }\r\n-\r\n-        existingAnnotations.push(annotationData);\r\n-\r\n-        localStorage.setItem('annotations', JSON.stringify(existingAnnotations));\r\n-        console.log(\"Annotations saved successfully.\");\r\n-    }\r\n-\r\n-    retrieveAnnotations() {\r\n-        let existingAnnotations = [];\r\n-        try {\r\n-            existingAnnotations = JSON.parse(localStorage.getItem('annotations')) || [];\r\n-        } catch (error) {\r\n-            console.error(\"Error parsing existing annotations:\", error);\r\n-        }\r\n-        return existingAnnotations;\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            this.saveAnnotations(metaData);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-\r\n-//     previewFile(divId, viewerConfig, url, data) {\r\n-//         console.log(data.name, data);\r\n-//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-//         console.log(\"File extension:\", fileExtension);\r\n-\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-//         // Set viewer configuration with all options enabled for all file types\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-//             showAnnotationTools: true, // Show annotation tools\r\n-//             showDownloadPDF: true, // Show download PDF option\r\n-//             showPrintPDF: true, // Show print PDF option\r\n-//             enableFormFilling: true, // Enable form filling\r\n-//             showLeftHandPanel: true, // Show left-hand panel\r\n-//             showSearchPDF: true, // Show search PDF option\r\n-//             showDocumentInfo: true, // Show document information\r\n-//         };\r\n-\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-//                     fileExtension: fileExtension,\r\n-//                     fileType: data.mimeType\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name,\r\n-//                 id: data.id,\r\n-//             }\r\n-//         }, viewerConfig);\r\n-\r\n-//         return previewFilePromise;\r\n-//     }\r\n-\r\n-//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n         // Set viewer configuration with all options enabled for all file types\r\n         viewerConfig = {\r\n             ...viewerConfig,\r\n             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n@@ -449,152 +76,10 @@\n             }\r\n         }, {});\r\n     }\r\n \r\n-    saveAnnotations(annotationData) {\r\n-        if (!this.adobeDCView) {\r\n-            console.error(\"Adobe DC View is not initialized.\");\r\n-            return;\r\n-        }\r\n-console.log(annotationData)\r\n-        // // Make a POST request to a server endpoint with the annotation data\r\n-        // fetch(\"https://example.com/save-annotations\", {\r\n-        //     method: \"POST\",\r\n-        //     headers: {\r\n-        //         \"Content-Type\": \"application/json\",\r\n-        //     },\r\n-        //     body: JSON.stringify(annotationData),\r\n-        // })\r\n-        // .then(response => {\r\n-        //     if (response.ok) {\r\n-        //         console.log(\"Annotations saved successfully.\");\r\n-        //     } else {\r\n-        //         console.error(\"Failed to save annotations.\");\r\n-        //     }\r\n-        // })\r\n-        // .catch(error => {\r\n-        //     console.error(\"Error saving annotations:\", error);\r\n-        // });\r\n-    }\r\n-\r\n     registerSaveApiHandler() {\r\n         const saveApiHandler = (metaData, content, options) => {\r\n-            // Call saveAnnotations with metaData containing annotation data\r\n-            this.saveAnnotations(metaData);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n             console.log(metaData, content, options);\r\n             return new Promise(resolve => {\r\n                 setTimeout(() => {\r\n                     const response = {\r\n"
                },
                {
                    "date": 1712923153436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,243 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    localStorage.setItem(\"annotations\", JSON.stringify(savedData));\r\n+\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712924732153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,244 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n+    \r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712924737854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,244 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined;\r\n+    }\r\n+\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration with all options enabled for all file types\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+            showAnnotationTools: true, // Show annotation tools\r\n+            showDownloadPDF: true, // Show download PDF option\r\n+            showPrintPDF: true, // Show print PDF option\r\n+            enableFormFilling: true, // Enable form filling\r\n+            showLeftHandPanel: true, // Show left-hand panel\r\n+            showSearchPDF: true, // Show search PDF option\r\n+            showDocumentInfo: true, // Show document information\r\n+        };\r\n+\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        this.registerSaveApiHandler(); // Register save API handler\r\n+    }\r\n+\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n+    \r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712925444993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,257 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        // Promise that resolves when AdobeDC SDK is ready\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined; // Initialize AdobeDC View object\r\n+    }\r\n+\r\n+    // Method to check if AdobeDC SDK is ready\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    // Method to preview a file\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        // Log file information\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        // Create AdobeDC View object\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+            showAnnotationTools: true,\r\n+            showDownloadPDF: true,\r\n+            showPrintPDF: true,\r\n+            enableFormFilling: true,\r\n+            showLeftHandPanel: true,\r\n+            showSearchPDF: true,\r\n+            showDocumentInfo: true,\r\n+        };\r\n+\r\n+        // Preview file using AdobeDC View object\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        // Register save API handler\r\n+        this.registerSaveApiHandler();\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    // Method to preview a file using a file promise\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        // Register save API handler\r\n+        this.registerSaveApiHandler();\r\n+    }\r\n+\r\n+    // Method to register a save API handler\r\n+    registerSaveApiHandler() {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            console.log(metaData, content, options);\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n+\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        // Register save API handler with AdobeDC View object\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    // Method to retrieve annotations from local storage\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    // Method to register event handlers\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712926165679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,15 +207,15 @@\n \r\n     // Method to register a save API handler\r\n     registerSaveApiHandler() {\r\n         const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n             return new Promise(resolve => {\r\n                 setTimeout(() => {\r\n                     const documentId = metaData.id;\r\n                     const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n                     savedData[metaData.id] = content;\r\n-                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n+                    console.log(\"data\",savedData)\r\n+                    localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n \r\n                     const response = {\r\n                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n                         data: {\r\n@@ -235,9 +235,9 @@\n     }\r\n \r\n     // Method to retrieve annotations from local storage\r\n     retrieveAnnotations(documentId) {\r\n-        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n+        const savedData = JSON.parse(localStorage.getItem(`annotations${documentId}`)) || {};\r\n         return savedData[documentId] || {};\r\n     }\r\n \r\n     // Method to register event handlers\r\n@@ -254,850 +254,4 @@\n     }\r\n }\r\n \r\n export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-\r\n-//     previewFile(divId, viewerConfig, url, data) {\r\n-//         console.log(data.name, data);\r\n-//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-//         console.log(\"File extension:\", fileExtension);\r\n-\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-//         // Set viewer configuration with all options enabled for all file types\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-//             showAnnotationTools: true, // Show annotation tools\r\n-//             showDownloadPDF: true, // Show download PDF option\r\n-//             showPrintPDF: true, // Show print PDF option\r\n-//             enableFormFilling: true, // Enable form filling\r\n-//             showLeftHandPanel: true, // Show left-hand panel\r\n-//             showSearchPDF: true, // Show search PDF option\r\n-//             showDocumentInfo: true, // Show document information\r\n-//         };\r\n-\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-//                     fileExtension: fileExtension,\r\n-//                     fileType: data.mimeType\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name,\r\n-//                 id: data.id,\r\n-//             }\r\n-//         }, viewerConfig);\r\n-\r\n-//         return previewFilePromise;\r\n-//     }\r\n-\r\n-//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const documentId = metaData.id;\r\n-                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n-                    savedData[metaData.id] = content;\r\n-                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n-    \r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    retrieveAnnotations(documentId) {\r\n-        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n-        return savedData[documentId] || {};\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-\r\n-//     previewFile(divId, viewerConfig, url, data) {\r\n-//         console.log(data.name, data);\r\n-//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-//         console.log(\"File extension:\", fileExtension);\r\n-\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-//         // Set viewer configuration with all options enabled for all file types\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-//             showAnnotationTools: true, // Show annotation tools\r\n-//             showDownloadPDF: true, // Show download PDF option\r\n-//             showPrintPDF: true, // Show print PDF option\r\n-//             enableFormFilling: true, // Enable form filling\r\n-//             showLeftHandPanel: true, // Show left-hand panel\r\n-//             showSearchPDF: true, // Show search PDF option\r\n-//             showDocumentInfo: true, // Show document information\r\n-//         };\r\n-\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-//                     fileExtension: fileExtension,\r\n-//                     fileType: data.mimeType\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name,\r\n-//                 id: data.id,\r\n-//             }\r\n-//         }, viewerConfig);\r\n-\r\n-//         return previewFilePromise;\r\n-//     }\r\n-\r\n-//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const documentId = metaData.id;\r\n-                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n-                    savedData[metaData.id] = content;\r\n-                    localStorage.setItem(documentId, JSON.stringify(savedData));\r\n-    \r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    retrieveAnnotations(documentId) {\r\n-        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n-        return savedData[documentId] || {};\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-// class ViewSDKClient {\r\n-//     constructor() {\r\n-//         this.readyPromise = new Promise((resolve) => {\r\n-//             if (window.AdobeDC) {\r\n-//                 resolve();\r\n-//             } else {\r\n-//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-//                     resolve();\r\n-//                 });\r\n-//             }\r\n-//         });\r\n-//         this.adobeDCView = undefined;\r\n-//     }\r\n-\r\n-//     ready() {\r\n-//         return this.readyPromise;\r\n-//     }\r\n-\r\n-//     previewFile(divId, viewerConfig, url, data) {\r\n-//         console.log(data.name, data);\r\n-//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-//         console.log(\"File extension:\", fileExtension);\r\n-\r\n-//         const config = {\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//         };\r\n-\r\n-//         if (divId) {\r\n-//             config.divId = divId;\r\n-//         }\r\n-\r\n-//         this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-//         // Set viewer configuration with all options enabled for all file types\r\n-//         viewerConfig = {\r\n-//             ...viewerConfig,\r\n-//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-//             showAnnotationTools: true, // Show annotation tools\r\n-//             showDownloadPDF: true, // Show download PDF option\r\n-//             showPrintPDF: true, // Show print PDF option\r\n-//             enableFormFilling: true, // Enable form filling\r\n-//             showLeftHandPanel: true, // Show left-hand panel\r\n-//             showSearchPDF: true, // Show search PDF option\r\n-//             showDocumentInfo: true, // Show document information\r\n-//         };\r\n-\r\n-//         const previewFilePromise = this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 location: {\r\n-//                     url: url,\r\n-//                     fileExtension: fileExtension,\r\n-//                     fileType: data.mimeType\r\n-//                 },\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name,\r\n-//                 id: data.id,\r\n-//             }\r\n-//         }, viewerConfig);\r\n-\r\n-//         return previewFilePromise;\r\n-//     }\r\n-\r\n-//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n-//         this.adobeDCView = new window.AdobeDC.View({\r\n-//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-//             divId,\r\n-//         });\r\n-\r\n-//         this.adobeDCView.previewFile({\r\n-//             content: {\r\n-//                 promise: filePromise,\r\n-//             },\r\n-//             metaData: {\r\n-//                 fileName: data.name\r\n-//             }\r\n-//         }, {});\r\n-//     }\r\n-\r\n-//     registerSaveApiHandler() {\r\n-//         const saveApiHandler = (metaData, content, options) => {\r\n-//             console.log(metaData, content, options);\r\n-//             return new Promise(resolve => {\r\n-//                 setTimeout(() => {\r\n-//                     const response = {\r\n-//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-//                         data: {\r\n-//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-//                         },\r\n-//                     };\r\n-//                     resolve(response);\r\n-//                 }, 2000);\r\n-//             });\r\n-//         };\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-//             saveApiHandler,\r\n-//             {}\r\n-//         );\r\n-//     }\r\n-\r\n-//     registerEventsHandler() {\r\n-//         this.adobeDCView.registerCallback(\r\n-//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-//             event => {\r\n-//                 console.log(event);\r\n-//             },\r\n-//             {\r\n-//                 enablePDFAnalytics: true,\r\n-//             }\r\n-//         );\r\n-//     }\r\n-// }\r\n-\r\n-// export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-\r\n-        this.registerSaveApiHandler(); // Register save API handler\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n-                    savedData[metaData.id] = content;\r\n-                    localStorage.setItem(\"annotations\", JSON.stringify(savedData));\r\n-\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    retrieveAnnotations(documentId) {\r\n-        const savedData = JSON.parse(localStorage.getItem(\"annotations\")) || {};\r\n-        return savedData[documentId] || {};\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n-class ViewSDKClient {\r\n-    constructor() {\r\n-        this.readyPromise = new Promise((resolve) => {\r\n-            if (window.AdobeDC) {\r\n-                resolve();\r\n-            } else {\r\n-                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n-                    resolve();\r\n-                });\r\n-            }\r\n-        });\r\n-        this.adobeDCView = undefined;\r\n-    }\r\n-\r\n-    ready() {\r\n-        return this.readyPromise;\r\n-    }\r\n-\r\n-    previewFile(divId, viewerConfig, url, data) {\r\n-        console.log(data.name, data);\r\n-        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n-        console.log(\"File extension:\", fileExtension);\r\n-\r\n-        const config = {\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-        };\r\n-\r\n-        if (divId) {\r\n-            config.divId = divId;\r\n-        }\r\n-\r\n-        this.adobeDCView = new window.AdobeDC.View(config);\r\n-\r\n-        // Set viewer configuration with all options enabled for all file types\r\n-        viewerConfig = {\r\n-            ...viewerConfig,\r\n-            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n-            showAnnotationTools: true, // Show annotation tools\r\n-            showDownloadPDF: true, // Show download PDF option\r\n-            showPrintPDF: true, // Show print PDF option\r\n-            enableFormFilling: true, // Enable form filling\r\n-            showLeftHandPanel: true, // Show left-hand panel\r\n-            showSearchPDF: true, // Show search PDF option\r\n-            showDocumentInfo: true, // Show document information\r\n-        };\r\n-\r\n-        const previewFilePromise = this.adobeDCView.previewFile({\r\n-            content: {\r\n-                location: {\r\n-                    url: url,\r\n-                    fileExtension: fileExtension,\r\n-                    fileType: data.mimeType\r\n-                },\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name,\r\n-                id: data.id,\r\n-            }\r\n-        }, viewerConfig);\r\n-\r\n-        return previewFilePromise;\r\n-    }\r\n-\r\n-    previewFileUsingFilePromise(divId, filePromise, data) {\r\n-        this.adobeDCView = new window.AdobeDC.View({\r\n-            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n-            divId,\r\n-        });\r\n-\r\n-        this.adobeDCView.previewFile({\r\n-            content: {\r\n-                promise: filePromise,\r\n-            },\r\n-            metaData: {\r\n-                fileName: data.name\r\n-            }\r\n-        }, {});\r\n-    }\r\n-\r\n-    registerSaveApiHandler() {\r\n-        const saveApiHandler = (metaData, content, options) => {\r\n-            console.log(metaData, content, options);\r\n-            return new Promise(resolve => {\r\n-                setTimeout(() => {\r\n-                    const response = {\r\n-                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n-                        data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n-                        },\r\n-                    };\r\n-                    resolve(response);\r\n-                }, 2000);\r\n-            });\r\n-        };\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n-            saveApiHandler,\r\n-            {}\r\n-        );\r\n-    }\r\n-\r\n-    registerEventsHandler() {\r\n-        this.adobeDCView.registerCallback(\r\n-            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n-            event => {\r\n-                console.log(event);\r\n-            },\r\n-            {\r\n-                enablePDFAnalytics: true,\r\n-            }\r\n-        );\r\n-    }\r\n-}\r\n-\r\n-export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712926767782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,15 +212,21 @@\n                 setTimeout(() => {\r\n                     const documentId = metaData.id;\r\n                     const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n                     savedData[metaData.id] = content;\r\n-                    console.log(\"data\",savedData)\r\n+                    console.log(\"data\", savedData);\r\n                     localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n \r\n+                    // Set a sample message for the annotation\r\n+                    const annotationMessage = \"This is a sample annotation message.\";\r\n+\r\n                     const response = {\r\n                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n                         data: {\r\n-                            metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+                            metaData: Object.assign(metaData, {\r\n+                                updatedAt: new Date().getTime(),\r\n+                                message: annotationMessage // Set the annotation message here\r\n+                            })\r\n                         },\r\n                     };\r\n                     resolve(response);\r\n                 }, 2000);\r\n"
                },
                {
                    "date": 1712926870693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,263 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        // Promise that resolves when AdobeDC SDK is ready\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined; // Initialize AdobeDC View object\r\n+    }\r\n+\r\n+    // Method to check if AdobeDC SDK is ready\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    // Method to preview a file\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        // Log file information\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        // Create AdobeDC View object\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+            showAnnotationTools: true,\r\n+            showDownloadPDF: true,\r\n+            showPrintPDF: true,\r\n+            enableFormFilling: true,\r\n+            showLeftHandPanel: true,\r\n+            showSearchPDF: true,\r\n+            showDocumentInfo: true,\r\n+        };\r\n+\r\n+        // Preview file using AdobeDC View object\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    // Method to preview a file using a file promise\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+    }\r\n+\r\n+    // Method to register a save API handler with dynamic annotation message\r\n+    registerSaveApiHandler(annotationMessage) {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    console.log(\"data\", savedData);\r\n+                    localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n+\r\n+                    // Set the dynamic annotation message\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, {\r\n+                                updatedAt: new Date().getTime(),\r\n+                                message: annotationMessage // Set the annotation message dynamically\r\n+                            })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        // Register save API handler with AdobeDC View object\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    // Method to retrieve annotations from local storage\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(`annotations${documentId}`)) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    // Method to register event handlers\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1712927114806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,263 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        // Promise that resolves when AdobeDC SDK is ready\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined; // Initialize AdobeDC View object\r\n+    }\r\n+\r\n+    // Method to check if AdobeDC SDK is ready\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    // Method to preview a file\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        // Log file information\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        // Create AdobeDC View object\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+            showAnnotationTools: true,\r\n+            showDownloadPDF: true,\r\n+            showPrintPDF: true,\r\n+            enableFormFilling: true,\r\n+            showLeftHandPanel: true,\r\n+            showSearchPDF: true,\r\n+            showDocumentInfo: true,\r\n+        };\r\n+\r\n+        // Preview file using AdobeDC View object\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    // Method to preview a file using a file promise\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+    }\r\n+\r\n+    // Method to register a save API handler with dynamic annotation message\r\n+    registerSaveApiHandler(annotationMessage) {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    console.log(annotationMessage,\"data\", savedData);\r\n+                    localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n+\r\n+                    // Set the dynamic annotation message\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, {\r\n+                                updatedAt: new Date().getTime(),\r\n+                                message: annotationMessage // Set the annotation message dynamically\r\n+                            })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        // Register save API handler with AdobeDC View object\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    // Method to retrieve annotations from local storage\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(`annotations${documentId}`)) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    // Method to register event handlers\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1713157868998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,225 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+\r\n+import React, { useEffect } from 'react';\r\n+\r\n+const ViewSDKClient = () => {\r\n+  const urlToPDF =\r\n+    \"https://documentcloud.adobe.com/view-sdk-demo/PDFs/Summary.pdf\";\r\n+  const fileID = \"3A5E36C8AA950DCDEBFBFE46FFCDE0A6\"; // The fileID binds the annotations to the document\r\n+  const clientID = \"e800d12fc12c4d60960778b2bc4370af\";\r\n+\r\n+  const viewerOptions = {\r\n+    embedMode: \"FULL_WINDOW\",\r\n+    defaultViewMode: \"FIT_PAGE\",\r\n+    showDownloadPDF: true,\r\n+    showPrintPDF: true,\r\n+    showLeftHandPanel: false,\r\n+    showAnnotationTools: true,\r\n+    enableAnnotationAPIs: true\r\n+  };\r\n+\r\n+  const annotationManagerConfig = {\r\n+    showToolbar: true,\r\n+    showCommentsPanel: true,\r\n+    downloadWithAnnotations: true,\r\n+    printWithAnnotations: true\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const previewPDF = async (view, pdfURL) => {\r\n+      try {\r\n+        const res = await fetch(pdfURL);\r\n+        const blob = await res.blob();\r\n+\r\n+        const previewPromise = view.previewFile(\r\n+          {\r\n+            content: { promise: Promise.resolve(blob.arrayBuffer()) },\r\n+            metaData: {\r\n+              fileName: pdfURL.split(\"/\").slice(-1)[0],\r\n+              id: fileID\r\n+            }\r\n+          },\r\n+          viewerOptions\r\n+        );\r\n+        createAnnotationManager(previewPromise);\r\n+      } catch (error) {\r\n+        console.error(\"Error loading PDF:\", error);\r\n+      }\r\n+    };\r\n+\r\n+    const createAnnotationManager = (previewPromise) => {\r\n+      previewPromise.then((view) => {\r\n+        view.getAnnotationManager().then((annotationManager) => {\r\n+          annotationManager.setConfig(annotationManagerConfig);\r\n+          addAnnotations(annotationManager);\r\n+        });\r\n+      });\r\n+    };\r\n+\r\n+    const addAnnotations = (annotationManager) => {\r\n+      const annotationURLs = [\r\n+        \"https://assets.codepen.io/4479906/underline.json\",\r\n+        \"https://assets.codepen.io/4479906/highlight.json\",\r\n+        \"https://assets.codepen.io/4479906/scribble.json\"\r\n+      ];\r\n+      for (let i = 0; i < annotationURLs.length; i++) {\r\n+        const annotURL = annotationURLs[i];\r\n+        fetch(annotURL)\r\n+          .then((response) => response.json())\r\n+          .then((json) => {\r\n+            annotationManager.addAnnotations([json]);\r\n+          });\r\n+      }\r\n+    };\r\n+\r\n+    const initializePDFViewer = () => {\r\n+      document.addEventListener(\"adobe_dc_view_sdk.ready\", function () {\r\n+        const embeddedView = new AdobeDC.View({\r\n+          clientId: clientID,\r\n+          divId: \"embeddedView\"\r\n+        });\r\n+        previewPDF(embeddedView, urlToPDF, fileID);\r\n+      });\r\n+\r\n+      // Add arrayBuffer if necessary i.e. Safari\r\n+      if (Blob.arrayBuffer !== \"function\") {\r\n+        Blob.prototype.arrayBuffer = myArrayBuffer;\r\n+      }\r\n+\r\n+      function myArrayBuffer() {\r\n+        return new Promise((resolve) => {\r\n+          let fileReader = new FileReader();\r\n+          fileReader.onload = () => {\r\n+            resolve(fileReader.result);\r\n+          };\r\n+          fileReader.readAsArrayBuffer(this);\r\n+        });\r\n+      }\r\n+    };\r\n+\r\n+    initializePDFViewer();\r\n+\r\n+    // Clean up event listeners on unmount\r\n+    return () => {\r\n+      document.removeEventListener(\"adobe_dc_view_sdk.ready\", initializePDFViewer);\r\n+    };\r\n+  }, []);\r\n+\r\n+  return <div id=\"embeddedView\"></div>;\r\n+};\r\n+\r\n+export default ViewSDKClient;\r\n"
                },
                {
                    "date": 1713158021331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,114 +112,253 @@\n //     }\r\n // }\r\n \r\n // export default ViewSDKClient;\r\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         // Promise that resolves when AdobeDC SDK is ready\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined; // Initialize AdobeDC View object\r\n+//     }\r\n \r\n-import React, { useEffect } from 'react';\r\n+//     // Method to check if AdobeDC SDK is ready\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n \r\n-const ViewSDKClient = () => {\r\n+//     // Method to preview a file\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         // Log file information\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         // Create AdobeDC View object\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+//             showAnnotationTools: true,\r\n+//             showDownloadPDF: true,\r\n+//             showPrintPDF: true,\r\n+//             enableFormFilling: true,\r\n+//             showLeftHandPanel: true,\r\n+//             showSearchPDF: true,\r\n+//             showDocumentInfo: true,\r\n+//         };\r\n+\r\n+//         // Preview file using AdobeDC View object\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         // Register save API handler with dynamic annotation message\r\n+//         const annotationMessage = \"This is a sample annotation message.\";\r\n+//         this.registerSaveApiHandler(annotationMessage);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     // Method to preview a file using a file promise\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+\r\n+//         // Register save API handler with dynamic annotation message\r\n+//         const annotationMessage = \"This is a sample annotation message.\";\r\n+//         this.registerSaveApiHandler(annotationMessage);\r\n+//     }\r\n+\r\n+//     // Method to register a save API handler with dynamic annotation message\r\n+//     registerSaveApiHandler(annotationMessage) {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const documentId = metaData.id;\r\n+//                     const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+//                     savedData[metaData.id] = content;\r\n+//                     console.log(annotationMessage,\"data\", savedData);\r\n+//                     localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n+\r\n+//                     // Set the dynamic annotation message\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, {\r\n+//                                 updatedAt: new Date().getTime(),\r\n+//                                 message: annotationMessage // Set the annotation message dynamically\r\n+//                             })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         // Register save API handler with AdobeDC View object\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     // Method to retrieve annotations from local storage\r\n+//     retrieveAnnotations(documentId) {\r\n+//         const savedData = JSON.parse(localStorage.getItem(`annotations${documentId}`)) || {};\r\n+//         return savedData[documentId] || {};\r\n+//     }\r\n+\r\n+//     // Method to register event handlers\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+import React, { useEffect, useState } from 'react';\r\n+\r\n+const AdobePDFViewer = () => {\r\n+  const [view, setView] = useState(null);\r\n   const urlToPDF =\r\n-    \"https://documentcloud.adobe.com/view-sdk-demo/PDFs/Summary.pdf\";\r\n-  const fileID = \"3A5E36C8AA950DCDEBFBFE46FFCDE0A6\"; // The fileID binds the annotations to the document\r\n-  const clientID = \"e800d12fc12c4d60960778b2bc4370af\";\r\n+    'https://documentcloud.adobe.com/view-sdk-demo/PDFs/Summary.pdf';\r\n+  const fileID = '3A5E36C8AA950DCDEBFBFE46FFCDE0A6'; // The fileID binds the annotations to the document\r\n+  const clientID = 'e800d12fc12c4d60960778b2bc4370af';\r\n \r\n   const viewerOptions = {\r\n-    embedMode: \"FULL_WINDOW\",\r\n-    defaultViewMode: \"FIT_PAGE\",\r\n+    embedMode: 'FULL_WINDOW',\r\n+    defaultViewMode: 'FIT_PAGE',\r\n     showDownloadPDF: true,\r\n     showPrintPDF: true,\r\n     showLeftHandPanel: false,\r\n     showAnnotationTools: true,\r\n-    enableAnnotationAPIs: true\r\n+    enableAnnotationAPIs: true,\r\n   };\r\n \r\n   const annotationManagerConfig = {\r\n     showToolbar: true,\r\n     showCommentsPanel: true,\r\n     downloadWithAnnotations: true,\r\n-    printWithAnnotations: true\r\n+    printWithAnnotations: true,\r\n   };\r\n \r\n   useEffect(() => {\r\n-    const previewPDF = async (view, pdfURL) => {\r\n-      try {\r\n-        const res = await fetch(pdfURL);\r\n-        const blob = await res.blob();\r\n-\r\n-        const previewPromise = view.previewFile(\r\n-          {\r\n-            content: { promise: Promise.resolve(blob.arrayBuffer()) },\r\n-            metaData: {\r\n-              fileName: pdfURL.split(\"/\").slice(-1)[0],\r\n-              id: fileID\r\n-            }\r\n-          },\r\n-          viewerOptions\r\n-        );\r\n-        createAnnotationManager(previewPromise);\r\n-      } catch (error) {\r\n-        console.error(\"Error loading PDF:\", error);\r\n-      }\r\n-    };\r\n-\r\n-    const createAnnotationManager = (previewPromise) => {\r\n-      previewPromise.then((view) => {\r\n-        view.getAnnotationManager().then((annotationManager) => {\r\n-          annotationManager.setConfig(annotationManagerConfig);\r\n-          addAnnotations(annotationManager);\r\n+    const adobeDCViewPromise = new Promise((resolve) => {\r\n+      document.addEventListener('adobe_dc_view_sdk.ready', () => {\r\n+        const embeddedView = new AdobeDC.View({\r\n+          clientId: clientID,\r\n+          divId: 'adobe-dc-view',\r\n         });\r\n+        resolve(embeddedView);\r\n       });\r\n-    };\r\n+    });\r\n \r\n-    const addAnnotations = (annotationManager) => {\r\n-      const annotationURLs = [\r\n-        \"https://assets.codepen.io/4479906/underline.json\",\r\n-        \"https://assets.codepen.io/4479906/highlight.json\",\r\n-        \"https://assets.codepen.io/4479906/scribble.json\"\r\n-      ];\r\n-      for (let i = 0; i < annotationURLs.length; i++) {\r\n-        const annotURL = annotationURLs[i];\r\n-        fetch(annotURL)\r\n-          .then((response) => response.json())\r\n-          .then((json) => {\r\n-            annotationManager.addAnnotations([json]);\r\n-          });\r\n-      }\r\n+    adobeDCViewPromise.then((embeddedView) => {\r\n+      setView(embeddedView);\r\n+    });\r\n+\r\n+    // Clean up event listener\r\n+    return () => {\r\n+      document.removeEventListener('adobe_dc_view_sdk.ready', () => {});\r\n     };\r\n+  }, [clientID]);\r\n \r\n-    const initializePDFViewer = () => {\r\n-      document.addEventListener(\"adobe_dc_view_sdk.ready\", function () {\r\n-        const embeddedView = new AdobeDC.View({\r\n-          clientId: clientID,\r\n-          divId: \"embeddedView\"\r\n+  useEffect(() => {\r\n+    if (view) {\r\n+      fetch(urlToPDF)\r\n+        .then((res) => res.blob())\r\n+        .then((blob) => {\r\n+          const previewPromise = view.previewFile(\r\n+            {\r\n+              // The file content\r\n+              content: { promise: Promise.resolve(blob.arrayBuffer()) },\r\n+              metaData: {\r\n+                fileName: urlToPDF.split('/').slice(-1)[0],\r\n+                id: fileID,\r\n+              },\r\n+            },\r\n+            viewerOptions\r\n+          );\r\n+          createAnnotationManager(previewPromise);\r\n         });\r\n-        previewPDF(embeddedView, urlToPDF, fileID);\r\n+    }\r\n+  }, [view, urlToPDF, fileID]);\r\n+\r\n+  function createAnnotationManager(previewPromise) {\r\n+    previewPromise.then((adobeView) => {\r\n+      adobeView.getAnnotationManager().then((annotationManager) => {\r\n+        annotationManager.setConfig(annotationManagerConfig);\r\n+        addAnnotations(annotationManager);\r\n       });\r\n+    });\r\n+  }\r\n \r\n-      // Add arrayBuffer if necessary i.e. Safari\r\n-      if (Blob.arrayBuffer !== \"function\") {\r\n-        Blob.prototype.arrayBuffer = myArrayBuffer;\r\n-      }\r\n+  function addAnnotations(annotationManager) {\r\n+    const annotationURLs = [\r\n+      'https://assets.codepen.io/4479906/underline.json',\r\n+      'https://assets.codepen.io/4479906/highlight.json',\r\n+      'https://assets.codepen.io/4479906/scribble.json',\r\n+    ];\r\n \r\n-      function myArrayBuffer() {\r\n-        return new Promise((resolve) => {\r\n-          let fileReader = new FileReader();\r\n-          fileReader.onload = () => {\r\n-            resolve(fileReader.result);\r\n-          };\r\n-          fileReader.readAsArrayBuffer(this);\r\n+    annotationURLs.forEach((annotURL) => {\r\n+      fetch(annotURL)\r\n+        .then((response) => response.json())\r\n+        .then((json) => {\r\n+          annotationManager.addAnnotations([json]);\r\n         });\r\n-      }\r\n-    };\r\n+    });\r\n+  }\r\n \r\n-    initializePDFViewer();\r\n-\r\n-    // Clean up event listeners on unmount\r\n-    return () => {\r\n-      document.removeEventListener(\"adobe_dc_view_sdk.ready\", initializePDFViewer);\r\n-    };\r\n-  }, []);\r\n-\r\n-  return <div id=\"embeddedView\"></div>;\r\n+  return (\r\n+    <div id=\"adobe-dc-view\" style={{ width: '100%', height: '600px' }}>\r\n+      {/* AdobeDC View will be rendered here */}\r\n+    </div>\r\n+  );\r\n };\r\n \r\n-export default ViewSDKClient;\r\n+export default AdobePDFViewer;\r\n"
                },
                {
                    "date": 1713158106599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,263 @@\n+// class ViewSDKClient {\r\n+//     constructor() {\r\n+//         this.readyPromise = new Promise((resolve) => {\r\n+//             if (window.AdobeDC) {\r\n+//                 resolve();\r\n+//             } else {\r\n+//                 document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+//                     resolve();\r\n+//                 });\r\n+//             }\r\n+//         });\r\n+//         this.adobeDCView = undefined;\r\n+//     }\r\n+\r\n+//     ready() {\r\n+//         return this.readyPromise;\r\n+//     }\r\n+\r\n+//     previewFile(divId, viewerConfig, url, data) {\r\n+//         console.log(data.name, data);\r\n+//         const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+//         console.log(\"File extension:\", fileExtension);\r\n+\r\n+//         const config = {\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//         };\r\n+\r\n+//         if (divId) {\r\n+//             config.divId = divId;\r\n+//         }\r\n+\r\n+//         this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+//         // Set viewer configuration with all options enabled for all file types\r\n+//         viewerConfig = {\r\n+//             ...viewerConfig,\r\n+//             embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE, // Display inline\r\n+//             showAnnotationTools: true, // Show annotation tools\r\n+//             showDownloadPDF: true, // Show download PDF option\r\n+//             showPrintPDF: true, // Show print PDF option\r\n+//             enableFormFilling: true, // Enable form filling\r\n+//             showLeftHandPanel: true, // Show left-hand panel\r\n+//             showSearchPDF: true, // Show search PDF option\r\n+//             showDocumentInfo: true, // Show document information\r\n+//         };\r\n+\r\n+//         const previewFilePromise = this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 location: {\r\n+//                     url: url,\r\n+//                     fileExtension: fileExtension,\r\n+//                     fileType: data.mimeType\r\n+//                 },\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name,\r\n+//                 id: data.id,\r\n+//             }\r\n+//         }, viewerConfig);\r\n+\r\n+//         return previewFilePromise;\r\n+//     }\r\n+\r\n+//     previewFileUsingFilePromise(divId, filePromise, data) {\r\n+//         this.adobeDCView = new window.AdobeDC.View({\r\n+//             clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+//             divId,\r\n+//         });\r\n+\r\n+//         this.adobeDCView.previewFile({\r\n+//             content: {\r\n+//                 promise: filePromise,\r\n+//             },\r\n+//             metaData: {\r\n+//                 fileName: data.name\r\n+//             }\r\n+//         }, {});\r\n+//     }\r\n+\r\n+//     registerSaveApiHandler() {\r\n+//         const saveApiHandler = (metaData, content, options) => {\r\n+//             console.log(metaData, content, options);\r\n+//             return new Promise(resolve => {\r\n+//                 setTimeout(() => {\r\n+//                     const response = {\r\n+//                         code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+//                         data: {\r\n+//                             metaData: Object.assign(metaData, { updatedAt: new Date().getTime() })\r\n+//                         },\r\n+//                     };\r\n+//                     resolve(response);\r\n+//                 }, 2000);\r\n+//             });\r\n+//         };\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+//             saveApiHandler,\r\n+//             {}\r\n+//         );\r\n+//     }\r\n+\r\n+//     registerEventsHandler() {\r\n+//         this.adobeDCView.registerCallback(\r\n+//             window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+//             event => {\r\n+//                 console.log(event);\r\n+//             },\r\n+//             {\r\n+//                 enablePDFAnalytics: true,\r\n+//             }\r\n+//         );\r\n+//     }\r\n+// }\r\n+\r\n+// export default ViewSDKClient;\r\n+class ViewSDKClient {\r\n+    constructor() {\r\n+        // Promise that resolves when AdobeDC SDK is ready\r\n+        this.readyPromise = new Promise((resolve) => {\r\n+            if (window.AdobeDC) {\r\n+                resolve();\r\n+            } else {\r\n+                document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n+                    resolve();\r\n+                });\r\n+            }\r\n+        });\r\n+        this.adobeDCView = undefined; // Initialize AdobeDC View object\r\n+    }\r\n+\r\n+    // Method to check if AdobeDC SDK is ready\r\n+    ready() {\r\n+        return this.readyPromise;\r\n+    }\r\n+\r\n+    // Method to preview a file\r\n+    previewFile(divId, viewerConfig, url, data) {\r\n+        // Log file information\r\n+        console.log(data.name, data);\r\n+        const fileExtension = data.name.split('.').pop().toLowerCase();\r\n+        console.log(\"File extension:\", fileExtension);\r\n+\r\n+        const config = {\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+        };\r\n+\r\n+        if (divId) {\r\n+            config.divId = divId;\r\n+        }\r\n+\r\n+        // Create AdobeDC View object\r\n+        this.adobeDCView = new window.AdobeDC.View(config);\r\n+\r\n+        // Set viewer configuration\r\n+        viewerConfig = {\r\n+            ...viewerConfig,\r\n+            embedMode: window.AdobeDC.View.Enum.EmbedMode.INLINE,\r\n+            showAnnotationTools: true,\r\n+            showDownloadPDF: true,\r\n+            showPrintPDF: true,\r\n+            enableFormFilling: true,\r\n+            showLeftHandPanel: true,\r\n+            showSearchPDF: true,\r\n+            showDocumentInfo: true,\r\n+        };\r\n+\r\n+        // Preview file using AdobeDC View object\r\n+        const previewFilePromise = this.adobeDCView.previewFile({\r\n+            content: {\r\n+                location: {\r\n+                    url: url,\r\n+                    fileExtension: fileExtension,\r\n+                    fileType: data.mimeType\r\n+                },\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name,\r\n+                id: data.id,\r\n+            }\r\n+        }, viewerConfig);\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+\r\n+        return previewFilePromise;\r\n+    }\r\n+\r\n+    // Method to preview a file using a file promise\r\n+    previewFileUsingFilePromise(divId, filePromise, data) {\r\n+        this.adobeDCView = new window.AdobeDC.View({\r\n+            clientId: \"d9b36f468d7a4e4e8b275f13728f1132\",\r\n+            divId,\r\n+        });\r\n+\r\n+        this.adobeDCView.previewFile({\r\n+            content: {\r\n+                promise: filePromise,\r\n+            },\r\n+            metaData: {\r\n+                fileName: data.name\r\n+            }\r\n+        }, {});\r\n+\r\n+        // Register save API handler with dynamic annotation message\r\n+        const annotationMessage = \"This is a sample annotation message.\";\r\n+        this.registerSaveApiHandler(annotationMessage);\r\n+    }\r\n+\r\n+    // Method to register a save API handler with dynamic annotation message\r\n+    registerSaveApiHandler(annotationMessage) {\r\n+        const saveApiHandler = (metaData, content, options) => {\r\n+            return new Promise(resolve => {\r\n+                setTimeout(() => {\r\n+                    const documentId = metaData.id;\r\n+                    const savedData = JSON.parse(localStorage.getItem(documentId)) || {};\r\n+                    savedData[metaData.id] = content;\r\n+                    console.log(annotationMessage,\"data\", savedData);\r\n+                    localStorage.setItem(`annotations${documentId}`, JSON.stringify(savedData));\r\n+\r\n+                    // Set the dynamic annotation message\r\n+                    const response = {\r\n+                        code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n+                        data: {\r\n+                            metaData: Object.assign(metaData, {\r\n+                                updatedAt: new Date().getTime(),\r\n+                                message: annotationMessage // Set the annotation message dynamically\r\n+                            })\r\n+                        },\r\n+                    };\r\n+                    resolve(response);\r\n+                }, 2000);\r\n+            });\r\n+        };\r\n+        // Register save API handler with AdobeDC View object\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n+            saveApiHandler,\r\n+            {}\r\n+        );\r\n+    }\r\n+\r\n+    // Method to retrieve annotations from local storage\r\n+    retrieveAnnotations(documentId) {\r\n+        const savedData = JSON.parse(localStorage.getItem(`annotations${documentId}`)) || {};\r\n+        return savedData[documentId] || {};\r\n+    }\r\n+\r\n+    // Method to register event handlers\r\n+    registerEventsHandler() {\r\n+        this.adobeDCView.registerCallback(\r\n+            window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n+            event => {\r\n+                console.log(event);\r\n+            },\r\n+            {\r\n+                enablePDFAnalytics: true,\r\n+            }\r\n+        );\r\n+    }\r\n+}\r\n+\r\n+export default ViewSDKClient;\r\n"
                }
            ],
            "date": 1712911622327,
            "name": "Commit-0",
            "content": "class ViewSDKClient {\r\n    constructor() {\r\n    this.readyPromise = new Promise((resolve) => {\r\n    if (window.AdobeDC) {\r\n    resolve();\r\n    } else {\r\n    document.addEventListener(\"adobe_dc_view_sdk.ready\", () => {\r\n    resolve();\r\n    });\r\n    }\r\n    });\r\n    this.adobeDCView = undefined;\r\n    }\r\n    ready() {\r\n    return this.readyPromise;\r\n    }\r\n    previewFile(divId, viewerConfig, url) {\r\n    const config = {\r\n    clientId: \"5bfcbeb2d14c49bf95f73dc0eed7f390\",\r\n    };\r\n    if (divId) {\r\n    config.divId = divId;\r\n    }\r\n    this.adobeDCView = new window.AdobeDC.View(config);\r\n    const previewFilePromise = this.adobeDCView.previewFile({\r\n    content: {\r\n    location: {\r\n    url: url,\r\n    },\r\n    },\r\n    metaData: {\r\n    fileName: \"Menu.pdf\",\r\n    id: \"6d07d124-ac85-43b3-a867-36930f502ac6\",\r\n    }\r\n    }, viewerConfig);\r\n    return previewFilePromise;\r\n    }\r\n    previewFileUsingFilePromise(divId, filePromise, fileName) {\r\n    this.adobeDCView = new window.AdobeDC.View({\r\n    clientId: \"5bfcbeb2d14c49bf95f73dc0eed7f390\",\r\n    divId,\r\n    });\r\n    this.adobeDCView.previewFile({\r\n    content: {\r\n    promise: filePromise,\r\n    },\r\n    metaData: {\r\n    fileName: fileName\r\n    }\r\n    }, {});\r\n    }\r\n    registerSaveApiHandler() {\r\n    const saveApiHandler = (metaData, content, options) => {\r\n    console.log(metaData, content, options);\r\n    return new Promise(resolve => {\r\n    setTimeout(() => {\r\n    const response = {\r\n    code: window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,\r\n    data: {\r\n    metaData: Object.assign(metaData, {updatedAt: new Date().getTime()})\r\n    },\r\n    };\r\n    resolve(response);\r\n    }, 2000);\r\n    });\r\n    };\r\n    this.adobeDCView.registerCallback(\r\n    window.AdobeDC.View.Enum.CallbackType.SAVE_API,\r\n    saveApiHandler,\r\n    {}\r\n    );\r\n    }\r\n    registerEventsHandler() {\r\n    this.adobeDCView.registerCallback(\r\n    window.AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\r\n    event => {\r\n    console.log(event);\r\n    },\r\n    {\r\n    enablePDFAnalytics: true,\r\n    }\r\n    );\r\n    }\r\n    }\r\n    export default ViewSDKClient;"
        }
    ]
}
{
    "sourceFile": "src/components/common/TextEditor.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1713876947499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1713876947499,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport { EditorState, convertFromHTML, ContentState } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport { stateToHTML } from 'draft-js-export-html';\r\n\r\nexport default function TextEditor({ state, setState, page, identifier }) {\r\n  // Text editor for the description\r\n  const [editorState, setEditorState] = useState(() => EditorState.createEmpty());\r\n\r\n  //Set variable to update particular state of particular page.\r\n  let orgVariable = page === \"description\" ? \"description\" :\r\n    page === \"FollowUp\" ? \"remark\" :\r\n      page === \"addAgentConversation\" ? \"message\" :\r\n        page === \"companyDetails\" ? \"about\" :\r\n          page === \"requirement\" ? \"requirement\" :\r\n            page === \"yourDuties\" ? \"your_duties\" :\r\n              page === \"jobDescription\" ? \"job_description\" : null\r\n\r\n  //Function to set deafault value\r\n  useEffect(() => {\r\n    // Check if content is not null\r\n    if (state[orgVariable] === null ||\r\n      state[orgVariable] === \"null\" ||\r\n      state[orgVariable] === undefined ||\r\n      state[orgVariable] === \"undefined\" ||\r\n      state[orgVariable] === \"\") {\r\n      setEditorState(\"\");\r\n    } else {\r\n      const contentBlock = convertFromHTML(\r\n        page === \"description\" ? state.description :\r\n          page === \"FollowUp\" ? state.remark :\r\n            page === \"emailReplyPage\" ? state :\r\n              page === \"addAgentConversation\" ? state.message :\r\n                page === \"companyDetails\" ? state.about :\r\n                  page === \"requirement\" ? state.requirement :\r\n                    page === \"yourDuties\" ? state.your_duties :\r\n                      page === \"jobDescription\" ? state.job_description : null\r\n      );\r\n      const contentState = ContentState.createFromBlockArray(contentBlock || []);\r\n      const editorState = EditorState.createWithContent(contentState || null);\r\n      setEditorState(editorState);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [state, page, identifier]);\r\n\r\n  /*On chnage function to set updated value */\r\n  const handleEditorChange = (newEditorState) => {\r\n    setEditorState(newEditorState);\r\n  };\r\n  // Function set cursor correct \r\n  const handleBlur = () => {\r\n    const htmlContent = stateToHTML(editorState.getCurrentContent());\r\n    if (page === \"emailReplyPage\") {\r\n      setState(htmlContent);\r\n    } else {\r\n      setState({\r\n        ...state, [\r\n          page === \"description\" ? \"description\" :\r\n            page === \"FollowUp\" ? \"remark\" :\r\n              page === \"addAgentConversation\" ? \"message\" :\r\n                page === \"companyDetails\" ? \"about\" :\r\n                  page === \"requirement\" ? \"requirement\" :\r\n                    page === \"yourDuties\" ? \"your_duties\" :\r\n                      page === \"jobDescription\" ? \"job_description\" : null]\r\n          : htmlContent\r\n      });\r\n    }\r\n  };\r\n\r\n  const wrapperStyle = {\r\n    display: \"block\",\r\n    width: \" 100%\",\r\n    // lineHeight: \" 1.88\",\r\n    color: \" #6b6e6f\",\r\n    backgroundColor: \" #fff\",\r\n    backgroundClip: \" padding-box\",\r\n    border: \" 1px solid #e5e5e5\",\r\n    borderRadius: \" 0.3125rem\",\r\n    transition: \" border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n  }\r\n  const editorStyle = {\r\n    height: '10rem',\r\n    padding: '1rem'\r\n  }\r\n  return (\r\n    <div\r\n    // className='border p-2'\r\n    // style={{ height: \"100px\", overflow: \"auto\" }}\r\n    >\r\n      <Editor\r\n        editorState={editorState}\r\n        onEditorStateChange={handleEditorChange}\r\n        onBlur={handleBlur}\r\n        wrapperStyle={wrapperStyle}\r\n        editorStyle={editorStyle}\r\n        toolbar={{\r\n          options: ['inline', 'list'],\r\n          inline: {\r\n            options: ['bold', 'italic'],\r\n          },\r\n          list: {\r\n            options: ['unordered', 'ordered'],\r\n          },\r\n        }}\r\n      // toolbarOnFocus={toolbarOptions}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}
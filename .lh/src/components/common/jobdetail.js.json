{
    "sourceFile": "src/components/common/jobdetail.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1693200571656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1693200624282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,277 @@\n+import React, { useEffect, useState } from \"react\";\n+import { Link, useNavigate } from \"react-router-dom\";\n+import { GetJobDetail, ApplyJob } from \"../../api/api\";\n+import moment from \"moment\";\n+import { ToastContainer, toast } from \"react-toastify\";\n+import Loader from '../common/loader';\n+\n+function JobDetailPage(props) {\n+  let [jobDetatilsData, setJobDetailsData] = useState(\"\");\n+  let [apiCall, setApiCall] = useState(false);\n+  let [isLoading, setIsLoading] = useState(true);\n+  let skill = [];\n+  const user_type = localStorage.getItem(\"userType\");\n+  const jobId = localStorage.getItem(\"jobId\");\n+  const user_id = localStorage.getItem(\"employee_id\");\n+  const name = localStorage.getItem(\"name\");\n+  const token = localStorage.getItem(\"token\");\n+  let navigate = useNavigate()\n+  /*Function to get job details data*/\n+  const JobData = async () => {\n+    try {\n+      let userData = await GetJobDetail(\n+        user_type === \"admin\" ? props.jobdata : jobId\n+      );\n+      if (\n+        jobId === undefined ||\n+        jobId === \"0\" ||\n+        userData.data.data.length === 0\n+      ) {\n+        setIsLoading(false)\n+      } else {\n+        setJobDetailsData(userData.data.data[0]);\n+        setIsLoading(false)\n+      }\n+    } catch (err) {\n+      console.log(err)\n+    }\n+  };\n+  /*Render method to get job detail data */\n+  useEffect(() => {\n+    JobData();\n+  }, [props.jobdata, apiCall]);\n+\n+  /*Set skill variable to array frm string */\n+  if (jobDetatilsData !== \"\") {\n+    skill = jobDetatilsData.keyskill === null ||\n+                jobDetatilsData.keyskill === undefined ||\n+                jobDetatilsData.keyskill === \"undefined\" ?\n+                [] :\n+                jobDetatilsData.keyskill.split(\",\");\n+  }\n+  /*FUnction to apply to the job */\n+  const OnApplyClick = async (status) => {\n+    try {\n+      let Response = await ApplyJob(jobId, user_id, status);\n+      if (Response.message === \"Job applied successfully\") {\n+        toast.success(\"Job Applied successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true)\n+      }\n+      if (Response.message === \"already applied on this job\") {\n+        toast.success(\"Already applied on this job\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true)\n+      }\n+      if (Response.message === \"Job saved successfully\") {\n+        toast.success(\"Job saved successfully\", {\n+          position: toast.POSITION.TOP_RIGHT,\n+          autoClose: 1000,\n+        });\n+        setApiCall(true)\n+      }\n+    } catch (err) {\n+      console.log(err)\n+    }\n+  };\n+  console.log(\"job id =>\",jobId ,\"skill =>\",skill)\n+  return (\n+    <>\n+      <div className=\"table-responsive main_table_div\">\n+        {isLoading ?\n+          <Loader /> :\n+          <div className=\" bg-white rounded-4 border border-mercury shadow-9  overflow-y-scroll mt-9 mt-xl-0\">\n+            <div className=\"pt-9 pl-sm-9 pl-5 pr-sm-9 pr-5 pb-8 border-bottom border-width-1 border-default-color light-mode-texts\">\n+              <ToastContainer />\n+              <div className=\"row\">\n+                <div className=\"col-12\">\n+                  {/* <!-- media start --> */}\n+                  <div className=\"media align-items-center company_box col-md-6 p-0\">\n+                    <Link className=\"text_box text-left\" to=\"\">\n+                      <img\n+                        className=\"company_logo\"\n+                        src={\n+                          jobDetatilsData.logo\n+                            ? jobDetatilsData.logo\n+                            : \"image/logo-main-black.png\"\n+                        }\n+                        alt=\"\"\n+                      />\n+                    </Link>\n+                    <Link className=\"text_box text-left w-100\" to={`/jobdetailpage`}\n+                                onClick={() => localStorage.setItem(\"job_id\",jobDetatilsData.job_id)\n+                                }\n+                    >\n+                      <p\n+                        href=\"\"\n+                        className=\"font-size-3 text-default-color line-height-2 m-0 text-capitalize\"\n+                      >\n+                        {jobDetatilsData.job_title}\n+                      </p>\n+                      <h3 className=\"mb-0 font-size-6 heading-dark-color text-capitalize\">\n+                        {jobDetatilsData.department}\n+                      </h3>\n+                    </Link>\n+                  </div>\n+                  {/* <!-- media end --> */}\n+                </div>\n+              </div>\n+              {user_type === \"admin\" || user_type === \"company\" ? null : (\n+                <div className=\"row pt-9\">\n+                  <div className=\"col-12\">\n+                    <div className=\"card-btn-group\">\n+                      <button\n+                        to={\"\"}\n+                        onClick={token && (name === null || name === \"null\") ? () => navigate(\"/profile\") : () => OnApplyClick(0)}\n+                        disabled={jobDetatilsData.is_applied === \"0\" ? false : true}\n+                        className={jobDetatilsData.is_applied === \"0\" ? \"btn btn-green text-uppercase btn-medium rounded-3 w-180 mr-4 mb-5\" : \"btn btn-info text-uppercase btn-medium rounded-3 w-180 mr-4 mb-5\"}\n+                      >\n+                        {jobDetatilsData.is_applied === \"0\" ? \"Apply to this job\" : \"Already Applied\"}\n+                      </button>\n+                      {/* <button\n+                  to={\"\"}\n+                  onClick={() => OnApplyClick(3)}\n+                  className=\"btn btn-outline-mercury text-black-2 text-uppercase h-px-48 rounded-3 mb-5 px-5\"\n+                >\n+                  <i className=\"icon icon-bookmark-2 font-weight-bold mr-4 font-size-4\"></i>{\" \"}\n+                  Save job\n+                </button> */}\n+                    </div>\n+                  </div>\n+                </div>\n+              )}\n+            </div>\n+            <div className=\"job-details-content pt-8 pl-sm-9 pl-6 pr-sm-9 pr-6 pb-10 border-bottom border-width-1 border-default-color light-mode-texts\">\n+              <div className=\"row mb-5\">\n+                <div className=\"col-md-6\">\n+                  <div className=\"media justify-content-md-start mb-6\">\n+                    <div className=\"image mr-5\">\n+                      <img src=\"image/svg/icon-location.svg\" alt=\"\" />\n+                    </div>\n+                    <p className=\"font-size-5 text-gray mb-0 text-capitalize\">\n+                      {jobDetatilsData.location}\n+                    </p>\n+                  </div>\n+                </div>\n+                {jobDetatilsData.salary !== \"0\" ? (\n+                  <div className=\"col-md-6\">\n+                    <div className=\"media justify-content-md-start mb-6\">\n+                      <>\n+                        <div className=\"image mr-5\">\n+                          <img src=\"image/svg/icon-dolor.svg\" alt=\"\" />\n+                        </div>\n+                        <p className=\"font-weight-semibold font-size-5 text-black-2 mb-0\">\n+                          {jobDetatilsData.salary}\n+                        </p>{\" \"}\n+                      </>\n+                    </div>\n+                  </div>\n+                ) : null}\n+                <div className=\"col-md-6\">\n+                  <div className=\"media justify-content-md-start mb-md-0 mb-6\">\n+                    <div className=\"image mr-5\">\n+                      <img src=\"image/svg/icon-briefcase.svg\" alt=\"\" />\n+                    </div>\n+                    <p className=\"font-weight-semibold font-size-5 text-black-2 mb-0 text-capitalize\">\n+                      {jobDetatilsData.job_type}\n+                    </p>\n+                  </div>\n+                </div>\n+              </div>\n+              <div className=\"row text-left\">\n+                {jobDetatilsData.corporation ? <div className=\"col-md-6\">\n+                  <div className=\"mb-lg-0 mb-10\">\n+                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n+                      Type of corporation\n+                    </span>\n+                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-9 text-capitalize\">\n+                      {jobDetatilsData.corporation}\n+                    </h6>\n+                  </div>\n+                </div> : \"\"}\n+                {/* <div className=\"col-md-6 mb-lg-0 mb-8\">\n+            <div className=\"\">\n+              <span className=\"font-size-4 d-block mb-4 text-gray\">\n+                Career Level\n+              </span>\n+              <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-9\">\n+                Project Manangement\n+              </h6>\n+            </div>\n+          </div> */}\n+                {jobDetatilsData.company_size ? <div className=\"col-md-6\">\n+                  <div className=\"\">\n+                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n+                      Company size\n+                    </span>\n+                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-0 text-capitalize\">\n+                      {jobDetatilsData.company_size}\n+                    </h6>\n+                  </div>\n+                </div> : \"\"}\n+                {jobDetatilsData.created_at ? <div className=\"col-md-6\">\n+                  <div className=\"\">\n+                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n+                      Posted Time\n+                    </span>\n+                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-0\">\n+                      {moment(jobDetatilsData.created_at).format(\"DD-MM-YYYY\")}\n+                    </h6>\n+                  </div>\n+                </div> : \"\"}\n+              </div>\n+            </div>\n+            <div className=\"pt-8 pl-sm-9 pl-6 pb-10 light-mode-texts\">\n+              <div className=\"row text-left\">\n+                <div className=\"col-xxl-12 col-xl-9 pr-xxl-18 pr-xl-0 pr-11\">\n+                  {jobDetatilsData.job_description ? <div className=\"\">\n+                    <p className=\"mb-4 font-size-4 text-gray\">Job Description</p>\n+                    <p className=\"font-size-4 text-black-2 mb-7\">\n+                      {jobDetatilsData.job_description}\n+                    </p>\n+                  </div> : \"\"}\n+                  <div className=\"\">\n+                    {jobDetatilsData.your_duties ? <>\n+                      <span className=\"font-size-4 font-weight-semibold text-black-2 mb-7\">\n+                        Your Role:\n+                      </span>\n+                      <p className=\"font-size-4 text-black-2 mb-7\">\n+                        {jobDetatilsData.your_duties}\n+                      </p> </> : \"\"}\n+                    {jobDetatilsData.requirement ? <>\n+                      <span className=\"font-size-4 font-weight-semibold text-black-2 mb-7\">\n+                        What you will be doing:\n+                      </span>\n+                      <p className=\"font-size-4 text-black-2 mb-7\">\n+                        {jobDetatilsData.requirement}\n+                      </p> </> : \"\"}\n+                  </div>\n+                </div>\n+              </div>\n+            </div>\n+            <div className=\"pt-5 pl-sm-9 pl-6 pb-10 light-mode-texts border-top border-width-1 border-default-color\">\n+              <div className=\"tags\">\n+                <p className=\"font-size-4 text-gray mb-0\"> Skill</p>\n+                <ul className=\"list-unstyled d-flex align-items-center flex-wrap row px-2\">\n+                  {(skill || []).map((skill) => (\n+                     skill === \"\" ? null :\n+                    <li key={skill}>\n+                      <span className=\"text-capitalize bg-regent-opacity-15 min-width-px-96 mr-3 text-center rounded-3 px-6 py-1 font-size-3 text-black-2 mt-2 m-1\">\n+                        {skill}\n+                      </span>\n+                    </li>\n+                  ))}\n+                </ul>\n+              </div>\n+            </div>\n+          </div>}\n+      </div>\n+    </>\n+  );\n+}\n+\n+export default JobDetailPage;\n"
                }
            ],
            "date": 1693200571656,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { GetJobDetail, ApplyJob } from \"../../api/api\";\nimport moment from \"moment\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from '../common/loader';\n\nfunction JobDetailPage(props) {\n  let [jobDetatilsData, setJobDetailsData] = useState(\"\");\n  let [apiCall, setApiCall] = useState(false);\n  let [isLoading, setIsLoading] = useState(true);\n  let skill = [];\n  const user_type = localStorage.getItem(\"userType\");\n  const jobId = localStorage.getItem(\"jobId\");\n  const user_id = localStorage.getItem(\"employee_id\");\n  const name = localStorage.getItem(\"name\");\n  const token = localStorage.getItem(\"token\");\n  let navigate = useNavigate()\n  /*Function to get job details data*/\n  const JobData = async () => {\n    try {\n      let userData = await GetJobDetail(\n        user_type === \"admin\" ? props.jobdata : jobId\n      );\n      if (\n        jobId === undefined ||\n        jobId === \"0\" ||\n        userData.data.data.length === 0\n      ) {\n        setIsLoading(false)\n      } else {\n        setJobDetailsData(userData.data.data[0]);\n        setIsLoading(false)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  };\n  /*Render method to get job detail data */\n  useEffect(() => {\n    JobData();\n  }, [props.jobdata, apiCall]);\n\n  /*Set skill variable to array frm string */\n  if (jobDetatilsData !== \"\") {\n    skill = jobDetatilsData.keyskill === null ||\n                jobDetatilsData.keyskill === undefined ||\n                jobDetatilsData.keyskill === \"undefined\" ?\n                [] :\n                jobDetatilsData.keyskill.split(\",\");\n  }\n  /*FUnction to apply to the job */\n  const OnApplyClick = async (status) => {\n    try {\n      let Response = await ApplyJob(jobId, user_id, status);\n      if (Response.message === \"Job applied successfully\") {\n        toast.success(\"Job Applied successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setApiCall(true)\n      }\n      if (Response.message === \"already applied on this job\") {\n        toast.success(\"Already applied on this job\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setApiCall(true)\n      }\n      if (Response.message === \"Job saved successfully\") {\n        toast.success(\"Job saved successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setApiCall(true)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  };\n  console.log(\"job id =>\",jobId ,\"skill =>\",skill)\n  return (\n    <>\n      <div className=\"table-responsive main_table_div\">\n        {isLoading ?\n          <Loader /> :\n          <div className=\" bg-white rounded-4 border border-mercury shadow-9  overflow-y-scroll mt-9 mt-xl-0\">\n            <div className=\"pt-9 pl-sm-9 pl-5 pr-sm-9 pr-5 pb-8 border-bottom border-width-1 border-default-color light-mode-texts\">\n              <ToastContainer />\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  {/* <!-- media start --> */}\n                  <div className=\"media align-items-center company_box col-md-6 p-0\">\n                    <Link className=\"text_box text-left\" to=\"\">\n                      <img\n                        className=\"company_logo\"\n                        src={\n                          jobDetatilsData.logo\n                            ? jobDetatilsData.logo\n                            : \"image/logo-main-black.png\"\n                        }\n                        alt=\"\"\n                      />\n                    </Link>\n                    <Link className=\"text_box text-left w-100\" to={`/jobdetailpage`}\n                                onClick={() => localStorage.setItem(\"job_id\",jobDetatilsData.job_id)\n                                }\n                    >\n                      <p\n                        href=\"\"\n                        className=\"font-size-3 text-default-color line-height-2 m-0 text-capitalize\"\n                      >\n                        {jobDetatilsData.job_title}\n                      </p>\n                      <h3 className=\"mb-0 font-size-6 heading-dark-color text-capitalize\">\n                        {jobDetatilsData.department}\n                      </h3>\n                    </Link>\n                  </div>\n                  {/* <!-- media end --> */}\n                </div>\n              </div>\n              {user_type === \"admin\" || user_type === \"company\" ? null : (\n                <div className=\"row pt-9\">\n                  <div className=\"col-12\">\n                    <div className=\"card-btn-group\">\n                      <button\n                        to={\"\"}\n                        onClick={token && (name === null || name === \"null\") ? () => navigate(\"/profile\") : () => OnApplyClick(0)}\n                        disabled={jobDetatilsData.is_applied === \"0\" ? false : true}\n                        className={jobDetatilsData.is_applied === \"0\" ? \"btn btn-green text-uppercase btn-medium rounded-3 w-180 mr-4 mb-5\" : \"btn btn-info text-uppercase btn-medium rounded-3 w-180 mr-4 mb-5\"}\n                      >\n                        {jobDetatilsData.is_applied === \"0\" ? \"Apply to this job\" : \"Already Applied\"}\n                      </button>\n                      {/* <button\n                  to={\"\"}\n                  onClick={() => OnApplyClick(3)}\n                  className=\"btn btn-outline-mercury text-black-2 text-uppercase h-px-48 rounded-3 mb-5 px-5\"\n                >\n                  <i className=\"icon icon-bookmark-2 font-weight-bold mr-4 font-size-4\"></i>{\" \"}\n                  Save job\n                </button> */}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"job-details-content pt-8 pl-sm-9 pl-6 pr-sm-9 pr-6 pb-10 border-bottom border-width-1 border-default-color light-mode-texts\">\n              <div className=\"row mb-5\">\n                <div className=\"col-md-6\">\n                  <div className=\"media justify-content-md-start mb-6\">\n                    <div className=\"image mr-5\">\n                      <img src=\"image/svg/icon-location.svg\" alt=\"\" />\n                    </div>\n                    <p className=\"font-size-5 text-gray mb-0 text-capitalize\">\n                      {jobDetatilsData.location}\n                    </p>\n                  </div>\n                </div>\n                {jobDetatilsData.salary !== \"0\" ? (\n                  <div className=\"col-md-6\">\n                    <div className=\"media justify-content-md-start mb-6\">\n                      <>\n                        <div className=\"image mr-5\">\n                          <img src=\"image/svg/icon-dolor.svg\" alt=\"\" />\n                        </div>\n                        <p className=\"font-weight-semibold font-size-5 text-black-2 mb-0\">\n                          {jobDetatilsData.salary}\n                        </p>{\" \"}\n                      </>\n                    </div>\n                  </div>\n                ) : null}\n                <div className=\"col-md-6\">\n                  <div className=\"media justify-content-md-start mb-md-0 mb-6\">\n                    <div className=\"image mr-5\">\n                      <img src=\"image/svg/icon-briefcase.svg\" alt=\"\" />\n                    </div>\n                    <p className=\"font-weight-semibold font-size-5 text-black-2 mb-0 text-capitalize\">\n                      {jobDetatilsData.job_type}\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <div className=\"row text-left\">\n                {jobDetatilsData.corporation ? <div className=\"col-md-6\">\n                  <div className=\"mb-lg-0 mb-10\">\n                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n                      Type of corporation\n                    </span>\n                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-9 text-capitalize\">\n                      {jobDetatilsData.corporation}\n                    </h6>\n                  </div>\n                </div> : \"\"}\n                {/* <div className=\"col-md-6 mb-lg-0 mb-8\">\n            <div className=\"\">\n              <span className=\"font-size-4 d-block mb-4 text-gray\">\n                Career Level\n              </span>\n              <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-9\">\n                Project Manangement\n              </h6>\n            </div>\n          </div> */}\n                {jobDetatilsData.company_size ? <div className=\"col-md-6\">\n                  <div className=\"\">\n                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n                      Company size\n                    </span>\n                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-0 text-capitalize\">\n                      {jobDetatilsData.company_size}\n                    </h6>\n                  </div>\n                </div> : \"\"}\n                {jobDetatilsData.created_at ? <div className=\"col-md-6\">\n                  <div className=\"\">\n                    <span className=\"font-size-4 d-block mb-4 text-gray\">\n                      Posted Time\n                    </span>\n                    <h6 className=\"font-size-5 text-black-2 font-weight-semibold mb-0\">\n                      {moment(jobDetatilsData.created_at).format(\"DD/MM/YYYY\")}\n                    </h6>\n                  </div>\n                </div> : \"\"}\n              </div>\n            </div>\n            <div className=\"pt-8 pl-sm-9 pl-6 pb-10 light-mode-texts\">\n              <div className=\"row text-left\">\n                <div className=\"col-xxl-12 col-xl-9 pr-xxl-18 pr-xl-0 pr-11\">\n                  {jobDetatilsData.job_description ? <div className=\"\">\n                    <p className=\"mb-4 font-size-4 text-gray\">Job Description</p>\n                    <p className=\"font-size-4 text-black-2 mb-7\">\n                      {jobDetatilsData.job_description}\n                    </p>\n                  </div> : \"\"}\n                  <div className=\"\">\n                    {jobDetatilsData.your_duties ? <>\n                      <span className=\"font-size-4 font-weight-semibold text-black-2 mb-7\">\n                        Your Role:\n                      </span>\n                      <p className=\"font-size-4 text-black-2 mb-7\">\n                        {jobDetatilsData.your_duties}\n                      </p> </> : \"\"}\n                    {jobDetatilsData.requirement ? <>\n                      <span className=\"font-size-4 font-weight-semibold text-black-2 mb-7\">\n                        What you will be doing:\n                      </span>\n                      <p className=\"font-size-4 text-black-2 mb-7\">\n                        {jobDetatilsData.requirement}\n                      </p> </> : \"\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"pt-5 pl-sm-9 pl-6 pb-10 light-mode-texts border-top border-width-1 border-default-color\">\n              <div className=\"tags\">\n                <p className=\"font-size-4 text-gray mb-0\"> Skill</p>\n                <ul className=\"list-unstyled d-flex align-items-center flex-wrap row px-2\">\n                  {(skill || []).map((skill) => (\n                     skill === \"\" ? null :\n                    <li key={skill}>\n                      <span className=\"text-capitalize bg-regent-opacity-15 min-width-px-96 mr-3 text-center rounded-3 px-6 py-1 font-size-3 text-black-2 mt-2 m-1\">\n                        {skill}\n                      </span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>}\n      </div>\n    </>\n  );\n}\n\nexport default JobDetailPage;\n"
        }
    ]
}
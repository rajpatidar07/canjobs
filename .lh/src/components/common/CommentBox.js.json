{
    "sourceFile": "src/components/common/CommentBox.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1712316870670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1712316997157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n                 }}\n                 key={index}\n               >\n                 <span\n-                  className=\"comment_status_update\"\n+                  className=\"comment_status_update d-none\"\n                   style={{\n                     cursor: \"pointer\",\n                     color: commentItem.status === \"0\" ? \"blue\" : \"white\",\n                     border: commentItem.status === \"0\" ? \"solid 1px blue\" : \"\",\n"
                }
            ],
            "date": 1712316870670,
            "name": "Commit-0",
            "content": "import React from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { FaReplyAll } from \"react-icons/fa\";\nimport CommentReplyBox from \"./CommentReplyBox\";\nexport default function CommentBox({\n  commentsReplyList,\n  setAddCommentFlag,\n  setHide,\n  docData,\n  adminid,\n  setAdminId,\n  allAdmin,\n  annotationStatus,\n  setAnnotationStatus,\n  setFilteredEmails,\n  commentsList,\n  selectedAnnotation,\n  setSelectedAnnotation,\n  OnHandleUpdateComment,\n  determineBackgroundColor,\n  setReplyCommentClick,\n  getCommentsReplyList,\n  replyCommentClick,\n  replyComment,\n  handleInputChange,\n  filteredEmails,\n  handleEmailClick,\n  handleEmailMouseOver,\n  ReplyAnnotation,\n  docTypData,\n}) {\n  return (\n    <div>\n      <div\n        style={\n          docData.length === 0 ? { display: \"none\" } : { marginTop: \"0px\" }\n        }\n      >\n        <div className=\"row m-0 px-2\">\n          <div className={\"col mr-2 p-0 form_group\"}>\n            <p className=\"input_label\">Filter by Admin:</p>\n            <div className=\"select_div\">\n              <select\n                name=\"admin\"\n                value={adminid}\n                id=\"admin\"\n                onChange={(e) => {\n                  setAdminId(e.target.value);\n                  setAddCommentFlag(false);\n                  setFilteredEmails([]);\n                }}\n                className=\"text-capitalize form-control\"\n              >\n                <option value={\"\"}>Select Admin</option>\n                {(allAdmin || []).map((data, index) => {\n                  return (\n                    <option value={data.admin_id} key={index}>\n                      {data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n          <div className={\"col ml-2 p-0 form_group\"}>\n            <p className=\"input_label\">Filter by Status:</p>\n            <div className=\"select_div\">\n              <select\n                name=\"status\"\n                value={annotationStatus}\n                id=\"status\"\n                onChange={(e) => {\n                  setAnnotationStatus(e.target.value);\n                  setAddCommentFlag(false);\n                  setFilteredEmails([]);\n                }}\n                className=\"text-capitalize form-control\"\n              >\n                <option value={\"\"}>Select Status</option>\n                <option value={\"1\"}>Done </option>\n                <option value={\"0\"}>Pending</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div className=\"row m-0 p-2 flex-column\">\n          {commentsList.length === 0 ? (\n            <div className=\"col text-center\">\n              <h5>No comments</h5>\n            </div>\n          ) : (\n            (commentsList || []).map((commentItem, index) => (\n              <div\n                className={`card col-12 mb-3 p-0 comment_box_card ${\n                  //Condition fot imm pdf doc file\n                  docTypData &&\n                  docTypData.document_name &&\n                  docTypData.document_name.toLowerCase().includes(\"imm\")\n                    ? null\n                    : selectedAnnotation &&\n                      selectedAnnotation.x_axis === commentItem.x_axis &&\n                      selectedAnnotation.y_axis === commentItem.y_axis\n                    ? \"highlighted-comment\"\n                    : \"\"\n                }`}\n                style={{\n                  backgroundColor: \"#fafafa\",\n                  color: \"white\",\n                }}\n                onClick={() => {\n                  setSelectedAnnotation(\n                    //Condition fot imm pdf doc file\n                    docTypData &&\n                      docTypData.document_name &&\n                      docTypData.document_name.toLowerCase().includes(\"imm\")\n                      ? null\n                      : {\n                          x_axis: commentItem.x_axis,\n                          y_axis: commentItem.y_axis,\n                        }\n                  );\n                  setAddCommentFlag();\n                  setFilteredEmails([]);\n                  // setHide(true);\n                }}\n                key={index}\n              >\n                <span\n                  className=\"comment_status_update\"\n                  style={{\n                    cursor: \"pointer\",\n                    color: commentItem.status === \"0\" ? \"blue\" : \"white\",\n                    border: commentItem.status === \"0\" ? \"solid 1px blue\" : \"\",\n                    backgroundColor: commentItem.status === \"1\" && \"green\",\n                  }}\n                  onClick={(e) => {\n                    OnHandleUpdateComment(commentItem);\n                    setFilteredEmails([]);\n                    setAddCommentFlag(false);\n                  }}\n                >\n                  &#x2713; {/* Checkmark symbol */}\n                </span>\n                <div className=\"card-body p-2\">\n                  <div className=\"text-dark\">\n                    <div className=\"d-flex profile_box gx-2 mb-1\">\n                      <div className=\"media  align-items-center\">\n                        <div\n                          className={`circle-24 mx-auto overflow-hidden text-capitalize text-white ${determineBackgroundColor(\n                            commentItem\n                          )}`}\n                          style={{ fontSize: \"20px\" }}\n                        >\n                          {commentItem.task_creator_user_id\n                            ? allAdmin.find(\n                                (item) =>\n                                  item.admin_id ===\n                                  commentItem.task_creator_user_id\n                              )\n                              ? allAdmin\n                                  .find(\n                                    (item) =>\n                                      item.admin_id ===\n                                      commentItem.task_creator_user_id\n                                  )\n                                  .name.charAt(0)\n                              : \"\"\n                            : \"\"}\n                        </div>\n                      </div>\n                      <div className=\" mb-0\">\n                        <div className=\"font-size-3 font-weight-bold text-capitalize\">\n                          {commentItem.task_creator_user_id\n                            ? allAdmin.find(\n                                (item) =>\n                                  item.admin_id ===\n                                  commentItem.task_creator_user_id\n                              )\n                              ? allAdmin.find(\n                                  (item) =>\n                                    item.admin_id ===\n                                    commentItem.task_creator_user_id\n                                ).name\n                              : \"\"\n                            : \"\"}\n                        </div>\n                        <div className=\"text-gray font-size-2 font-weight-normal m-0 text-capitalize\">\n                          {moment(commentItem.created_on).format(\"HH:mm D MMM\")}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {commentItem.subject_description && (\n                    <span className=\"card-title text-break text-dark m-0 font-size-3\">\n                      {commentItem.subject_description.replace(/@ /g, \" \")}\n                    </span>\n                  )}\n                  {/* {commentItem.assigned_to && (\n                    <span\n                      className=\"text-break font-size-3 text-primary\"\n                      to={`mailto:${commentItem.assigned_to}`}\n                      style={{ marginLeft: \"5px\" }}\n                    >\n                      {`${commentItem.assigned_to}`}\n                    </span>\n                  )} */}\n                </div>\n                {replyCommentClick === commentItem.id ? (\n                  //Reply box\n                  <CommentReplyBox\n                    commentsReplyList={commentsReplyList}\n                    replyComment={replyComment}\n                    handleInputChange={handleInputChange}\n                    filteredEmails={filteredEmails}\n                    handleEmailClick={handleEmailClick}\n                    handleEmailMouseOver={handleEmailMouseOver}\n                    ReplyAnnotation={ReplyAnnotation}\n                    setReplyCommentClick={setReplyCommentClick}\n                    commentItem={commentItem}\n                    allAdmin={allAdmin}\n                  />\n                ) : (\n                  <Link\n                    className=\"mx-5 mr-0 ml-auto font-size-3 d-none\"\n                    onClick={() => {\n                      setReplyCommentClick(commentItem.id);\n                      getCommentsReplyList();\n                      setAddCommentFlag(false);\n                      setFilteredEmails([]);\n                    }}\n                  >\n                    Reply <FaReplyAll />\n                  </Link>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"
        }
    ]
}
{
    "sourceFile": "src/components/common/visaTable.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1693213004593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1693213021322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,9 +54,9 @@\n                 setIsLoading(false);\r\n             } else {\r\n                 setemployeeData(userData.data.data);\r\n                 setTotalData(userData.data.total_rows);\r\n-                if(res === \"user_profile\"){\r\n+                if(props.page === \"user_profile\"){\r\n                     props.setVisaStatus(userData.data.data)\r\n                 }\r\n                 setIsLoading(false);\r\n             }\r\n"
                },
                {
                    "date": 1693216866083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,10 +312,10 @@\n                                             \"\"\r\n                                         )}\r\n                                     </tr>\r\n                                 ) : (\r\n-                                    (employeeData || []).map((empdata) => (\r\n-                                        <tr className=\"applicant_row\" key={empdata.employee_id}>\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n                                             <td className=\" py-5\">\r\n                                                 <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                     <Link\r\n                                                         className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n"
                },
                {
                    "date": 1693222380449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,574 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={user_type === \"company\"?\"d-none\":\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className=\"btn btn-outline-info action_btn\"\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693222830336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,574 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485570532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,8 +57,46 @@\n                 setemployeeData(userData.data.data);\r\n                 setTotalData(userData.data.total_rows);\r\n                 if(props.page === \"user_profile\"){\r\n                     props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                          if (userData.data.data[i].visa_status === \"decision\") {\r\n+                            const data = userData.data.data[i];\r\n+                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setLmia(LmiaData);\r\n+                        }\r\n+                        setLmiaStatus(LmiaData);\r\n+                      }\r\n                 }\r\n                 setIsLoading(false);\r\n             }\r\n         } catch (err) {\r\n@@ -571,1151 +609,4 @@\n \r\n         </>\r\n     );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={user_type === \"company\"?\"d-none\":\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className=\"btn btn-outline-info action_btn\"\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className=\"btn-group button_group\"\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className=\"btn btn-outline-info action_btn\"\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n"
                },
                {
                    "date": 1693485593041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,612 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                          if (userData.data.data[i].visa_status === \"decision\") {\r\n+                            const data = userData.data.data[i];\r\n+                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setLmia(LmiaData);\r\n+                        }\r\n+                        setLmiaStatus(LmiaData);\r\n+                      }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485635313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,612 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                          if (userData.data.data[i].visa_status === \"decision\") {\r\n+                            const data = userData.data.data[i];\r\n+                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                      }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485654636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,612 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                          if (userData.data.data[i].visa_status === \"decision\") {\r\n+                            const data = userData.data.data[i];\r\n+                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                      }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485776543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,612 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                          if (userData.data.data[i].visa_status === \"decision\") {\r\n+                            const data = userData.data.data[i];\r\n+                            const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                      }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485802145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,8 +60,9 @@\n                     props.setVisaStatus(userData.data.data)\r\n                     if (userData.data.data.length >= 0) {\r\n                         let LmiaData = userData.data.data;\r\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n+                            console.log(\"ppp\",userData.data.data[i].visa_status)\r\n                           if (userData.data.data[i].visa_status === \"decision\") {\r\n                             const data = userData.data.data[i];\r\n                             const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n                             if (\r\n@@ -609,2452 +610,4 @@\n \r\n         </>\r\n     );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                    if (userData.data.data.length >= 0) {\r\n-                        let LmiaData = userData.data.data;\r\n-                        for (let i = 0; i < userData.data.data.length; i++) {\r\n-                          if (userData.data.data[i].visa_status === \"decision\") {\r\n-                            const data = userData.data.data[i];\r\n-                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n-                            }\r\n-                            let x =[];\r\n-                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n-                        }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setVisaStatus(LmiaData);\r\n-                        }\r\n-                        // setLmiaStatus(LmiaData);\r\n-                      }\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                    if (userData.data.data.length >= 0) {\r\n-                        let LmiaData = userData.data.data;\r\n-                        for (let i = 0; i < userData.data.data.length; i++) {\r\n-                          if (userData.data.data[i].visa_status === \"decision\") {\r\n-                            const data = userData.data.data[i];\r\n-                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n-                            }\r\n-                            let x =[];\r\n-                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n-                        }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setVisaStatus(LmiaData);\r\n-                        }\r\n-                        // setLmiaStatus(LmiaData);\r\n-                      }\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                    if (userData.data.data.length >= 0) {\r\n-                        let LmiaData = userData.data.data;\r\n-                        for (let i = 0; i < userData.data.data.length; i++) {\r\n-                          if (userData.data.data[i].visa_status === \"decision\") {\r\n-                            const data = userData.data.data[i];\r\n-                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n-                            }\r\n-                            let x =[];\r\n-                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n-                        }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setLmia(LmiaData);\r\n-                        }\r\n-                        setLmiaStatus(LmiaData);\r\n-                      }\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                    if (userData.data.data.length >= 0) {\r\n-                        let LmiaData = userData.data.data;\r\n-                        for (let i = 0; i < userData.data.data.length; i++) {\r\n-                          if (userData.data.data[i].visa_status === \"decision\") {\r\n-                            const data = userData.data.data[i];\r\n-                            const subStageRes = await GetVisaSubStages(props.employeeData.visa_id,\"visa\")\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n-                            }\r\n-                            let x =[];\r\n-                            props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n-                        }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setLmia(LmiaData);\r\n-                        }\r\n-                        setLmiaStatus(LmiaData);\r\n-                      }\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n"
                },
                {
                    "date": 1693485832153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,11 +60,11 @@\n                     props.setVisaStatus(userData.data.data)\r\n                     if (userData.data.data.length >= 0) {\r\n                         let LmiaData = userData.data.data;\r\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n-                            console.log(\"ppp\",userData.data.data[i].visa_status)\r\n-                          if (userData.data.data[i].visa_status === \"decision\") {\r\n-                            const data = userData.data.data[i];\r\n+                            if (userData.data.data[i].visa_status === \"decision\") {\r\n+                                const data = userData.data.data[i];\r\n+                                console.log(\"ppp\",userData.data.data[i].visa_id)\r\n                             const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n                             if (\r\n                               subStageRes.data.data.filter(\r\n                                 (item) => item.lmia_substage === \"reject\"\r\n"
                },
                {
                    "date": 1693485849287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,613 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import { toast } from \"react-toastify\";\r\n+import { LiaCcVisa } from \"react-icons/lia\"\r\n+import { GrDocumentUser } from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type =localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(\r\n+                props.search,\r\n+                props.VisStatusFilterValue,\r\n+                props.VisaCountryFilterValue,\r\n+                props.IntrestedFilterValue,\r\n+                props.search ||\r\n+                    props.VisStatusFilterValue ||\r\n+                    props.VisaCountryFilterValue ||\r\n+                    props.IntrestedFilterValue\r\n+                    ? 1\r\n+                    :\r\n+                    currentPage,\r\n+                recordsPerPage,\r\n+                columnName,\r\n+                sortOrder,\r\n+                props.employee_id\r\n+            );\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if(props.page === \"user_profile\"){\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                            if (userData.data.data[i].visa_status === \"file decision\") {\r\n+                                const data = userData.data.data[i];\r\n+                                console.log(\"ppp\",userData.data.data[i].visa_id)\r\n+                            const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n+                            if (\r\n+                              subStageRes.data.data.filter(\r\n+                                (item) => item.lmia_substage === \"reject\"\r\n+                              ).length > 0\r\n+                            ) {\r\n+                              LmiaData = LmiaData.filter(\r\n+                                (item) => item.job_id !== data.job_id\r\n+                              );\r\n+                            }\r\n+                            let x =[];\r\n+                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n+                              if (\r\n+                                props.detail === \"company_detail\" ||\r\n+                                props.detail === \"job_detail\"\r\n+                              ) {\r\n+              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                // console.log(subStageRes.data.data[j])\r\n+                              }\r\n+                            }\r\n+                          }\r\n+                        }\r\n+                        if (\r\n+                          props.detail === \"company_detail\" ||\r\n+                          props.detail === \"job_detail\"\r\n+                        ) {\r\n+                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                          props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                      }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000,\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <>\r\n+\r\n+            {showVisaModal ? (\r\n+                <VisaStatus\r\n+                    show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={() => setVisaModal(false)}\r\n+                />\r\n+            ) : null}\r\n+            {documentModal ? (\r\n+                <DocumentModal\r\n+                    show={documentModal}\r\n+                    close={() => setDocumentModal(false)}\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null}\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {isLoading ? (\r\n+                        <Loader />\r\n+                    ) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"name\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\"\r\n+                                        >\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        <Link\r\n+                                            to={\"\"}\r\n+                                            onClick={() => {\r\n+                                                handleSort(\"contact_no\");\r\n+                                                setCurrentPage(1);\r\n+                                            }}\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\"\r\n+                                        >\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"language\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\"\r\n+                                            >\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"interested_in\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\"\r\n+                                            >\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"visa_country\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\"\r\n+                                            >\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            <Link\r\n+                                                to={\"\"}\r\n+                                                onClick={() => {\r\n+                                                    handleSort(\"experience\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }}\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\"\r\n+                                            >\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )}\r\n+                                    <th\r\n+                                        scope=\"col\"\r\n+                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                    >\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {props.visa === \"yes\" ? null : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )}\r\n+                                    {props.heading === \"Dashboard\" ? (\r\n+                                        \"\"\r\n+                                    ) : (\r\n+                                        <th\r\n+                                            scope=\"col\"\r\n+                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n+                                        >\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )}\r\n+                                </tr>\r\n+                            </thead>\r\n+                            <tbody>\r\n+                                {/* Map function to show the data in the list*/}\r\n+                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )}\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\r\n+                                            \"\"\r\n+                                        )}\r\n+                                    </tr>\r\n+                                ) : (\r\n+                                    (employeeData || []).map((empdata,i) => (\r\n+                                        <tr className=\"applicant_row\" key={i}>\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <Link\r\n+                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n+                                                        {empdata.employee_id}\r\n+                                                    </Link>\r\n+                                                </p>\r\n+                                            </td>\r\n+                                            <td className=\" py-5\">\r\n+                                                <div className=\"d-flex profile_box gx-2\">\r\n+                                                    <div className=\"media  align-items-center\">\r\n+                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                            {empdata.profile_photo === null ? (\r\n+                                                                <img\r\n+                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            ) : (\r\n+                                                                <img\r\n+                                                                    src={empdata.profile_photo}\r\n+                                                                    alt=\"\"\r\n+                                                                    className=\"w-100\"\r\n+                                                                />\r\n+                                                            )}\r\n+                                                        </div>\r\n+                                                    </div>\r\n+\r\n+                                                    <div\r\n+                                                        title=\"Employee Details\"\r\n+                                                    >\r\n+                                                        {empdata.name === null ? (\r\n+                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                                Unavailable\r\n+                                                            </div>\r\n+                                                        ) : (\r\n+                                                            <div className=\" mb-0\">\r\n+                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                    <Link\r\n+                                                                        className=\"text-dark\"\r\n+                                                                        to={`/${empdata.employee_id}`}>\r\n+                                                                        {empdata.name}\r\n+                                                                    </Link>\r\n+                                                                </p>\r\n+                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n+                                                                    {empdata.marital_status + \", \"}\r\n+                                                                    {/*Calculation of age from date of birth*/}\r\n+                                                                    {moment().diff(\r\n+                                                                        empdata.date_of_birth,\r\n+                                                                        \"years\"\r\n+                                                                    )}\r\n+                                                                    Y)\r\n+                                                                    {empdata.is_featured === \"1\" ? (\r\n+                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                            Featured\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                    {empdata.created_by_admin === \"0\" ? (\r\n+                                                                        <span className=\"bg-info text-white web_tag\">\r\n+                                                                            Web\r\n+                                                                        </span>\r\n+                                                                    ) : null}\r\n+                                                                </p>\r\n+                                                            </div>\r\n+                                                        )}\r\n+                                                    </div>\r\n+\r\n+                                                </div>\r\n+                                            </td>\r\n+                                            <td className=\"py-5 \">\r\n+                                                {empdata.contact_no === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"m-0\">\r\n+                                                        +\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`tel:${empdata.contact_no}`}\r\n+                                                        >\r\n+                                                            {empdata.contact_no}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                )}\r\n+                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                    <p className=\"text-gray font-size-2 m-0\">\r\n+                                                        <Link\r\n+                                                            className=\"text-dark\"\r\n+                                                            to={`mailto:${empdata.email}`}\r\n+                                                        >\r\n+                                                            {empdata.email}\r\n+                                                        </Link>\r\n+                                                    </p>\r\n+                                                </h3>\r\n+                                            </td>\r\n+\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.language === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.language}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.interested_in === null ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.interested_in}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                            {empdata.visa_country}\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            {props.heading === \"Dashboard\" ? (\r\n+                                                \"\"\r\n+                                            ) : (\r\n+                                                <td className=\" py-5\">\r\n+                                                    {empdata.experience === null ? (\r\n+                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                    ) : (\r\n+                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            {empdata.experience} Years\r\n+                                                        </p>\r\n+                                                    )}\r\n+                                                </td>\r\n+                                            )}\r\n+                                            <td className=\" py-5\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.profile_complete === \"100.00\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            Complete\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Incompelete\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            <td className=\"\">\r\n+                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                    {empdata.visa_status === \"onboard\" ? (\r\n+                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                            On Board\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                            Documentation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Preparation\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file review\" ? (\r\n+                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Review\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Submission\r\n+                                                        </span>\r\n+                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                            File Decision\r\n+                                                        </span>\r\n+                                                    ) : (\r\n+                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                            NA\r\n+                                                        </span>\r\n+                                                    )}\r\n+                                                </p>\r\n+                                            </td>\r\n+\r\n+                                            {/* Calulation to get user is new or retained */}\r\n+                                            {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                            <td className=\" py-5 min-width-px-100\">\r\n+                                                <div\r\n+                                                    className={\"btn-group button_group\"}\r\n+                                                    role=\"group\"\r\n+                                                    aria-label=\"Basic example\"\r\n+                                                >\r\n+                                                    <button\r\n+                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() => editVisa(empdata)}\r\n+                                                        title=\"Update Visa status\"\r\n+                                                    >\r\n+                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n+                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n+                                                    </button>\r\n+\r\n+                                                    <button\r\n+                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n+                                                        onClick={() =>\r\n+                                                            AddDoucument(empdata)\r\n+                                                        }\r\n+                                                        title=\"Documents\"\r\n+                                                    >\r\n+\r\n+                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n+                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n+                                                    </button>\r\n+                                                </div>\r\n+                                            </td>\r\n+\r\n+                                        </tr>\r\n+                                    ))\r\n+                                )}\r\n+                            </tbody>\r\n+                        </table>\r\n+                    )}\r\n+                </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination\r\n+                        nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={employeeData.length}\r\n+                    />\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693485893938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,617 +610,4 @@\n \r\n         </>\r\n     );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n-import moment from \"moment\";\r\n-import \"react-toastify/dist/ReactToastify.css\";\r\n-import Pagination from \"../common/pagination\";\r\n-import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n-import Loader from \"../common/loader\";\r\n-import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n-export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n-    /*Show modal states */\r\n-    let [apiCall, setApiCall] = useState(false);\r\n-    let [isLoading, setIsLoading] = useState(true);\r\n-    const [documentModal, setDocumentModal] = useState(false);\r\n-    let [showVisaModal, setVisaModal] = useState(false);\r\n-    /*data and id states */\r\n-    const [employeeData, setemployeeData] = useState([]);\r\n-    let [employeeId, setemployeeId] = useState();\r\n-    // let [lmiaStatus, setLmiaStatus] = useState();\r\n-    /*Pagination states */\r\n-    const [totalData, setTotalData] = useState(\"\");\r\n-    const [currentPage, setCurrentPage] = useState(1);\r\n-    const [recordsPerPage] = useState(10);\r\n-    /*Shorting states */\r\n-    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n-    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n-    /* Function to get Employee visa data*/\r\n-    const EmpData = async () => {\r\n-        setIsLoading(true);\r\n-        try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n-            // console.log(userData.data)\r\n-            if (userData.data.data.length === 0) {\r\n-                setemployeeData([]);\r\n-                setIsLoading(false);\r\n-            } else {\r\n-                setemployeeData(userData.data.data);\r\n-                setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n-                    props.setVisaStatus(userData.data.data)\r\n-                    if (userData.data.data.length >= 0) {\r\n-                        let LmiaData = userData.data.data;\r\n-                        for (let i = 0; i < userData.data.data.length; i++) {\r\n-                            if (userData.data.data[i].visa_status === \"decision\") {\r\n-                                const data = userData.data.data[i];\r\n-                                console.log(\"ppp\",userData.data.data[i].visa_id)\r\n-                            const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n-                            }\r\n-                            let x =[];\r\n-                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n-                        }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setVisaStatus(LmiaData);\r\n-                        }\r\n-                        // setLmiaStatus(LmiaData);\r\n-                      }\r\n-                }\r\n-                setIsLoading(false);\r\n-            }\r\n-        } catch (err) {\r\n-            toast.error(\"Something went wrong\", {\r\n-                position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n-            });\r\n-            setIsLoading(false)\r\n-        }\r\n-    };\r\n-\r\n-    /*Render function to get the employee data*/\r\n-    useEffect(() => {\r\n-        EmpData();\r\n-        if (props.apiCall === true || apiCall === true) {\r\n-            props.setApiCall(false);\r\n-            setApiCall(false);\r\n-        }\r\n-    }, [\r\n-        props.search,\r\n-        props.VisStatusFilterValue,\r\n-        props.VisaCountryFilterValue,\r\n-        props.IntrestedFilterValue,\r\n-        currentPage,\r\n-        recordsPerPage,\r\n-        columnName,\r\n-        sortOrder,\r\n-        props.apiCall,\r\n-        apiCall,\r\n-    ]);\r\n-\r\n-    /* Function to show the single data to update Employee*/\r\n-    const editVisa = (e) => {\r\n-        setVisaModal(true);\r\n-        setemployeeId(e);\r\n-    };\r\n-\r\n-    /*Function to open add Document up modal */\r\n-    const AddDoucument = (e) => {\r\n-        setDocumentModal(true);\r\n-        setemployeeId(e.employee_id);\r\n-        // setLmiaStatus(e.lmia_status)\r\n-    };\r\n-\r\n-    /*Pagination Calculation */\r\n-    const nPages = Math.ceil(totalData / recordsPerPage);\r\n-\r\n-    /*Sorting Function */\r\n-    const handleSort = (columnName) => {\r\n-        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n-        setcolumnName(columnName);\r\n-        setCurrentPage(1)\r\n-    };\r\n-\r\n-    return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n-                    employeeData={employeeId}\r\n-                    apiCall={apiCall}\r\n-                    setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n-                    employee_id={employeeId}\r\n-                    job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n-                />\r\n-            ) : null}\r\n-            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n-                <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n-                        <table className=\"table table-striped main_data_table\">\r\n-                            <thead>\r\n-                                <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        EID\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n-                                            Name\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n-                                            className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n-                                            Contact\r\n-                                        </Link>\r\n-                                    </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n-                                                Languages\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n-                                                Interested in\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n-                                                Visa country\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n-                                                className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n-                                                Experience\r\n-                                            </Link>\r\n-                                        </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        Profile\r\n-                                    </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Status\r\n-                                        </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            Action\r\n-                                        </th>\r\n-                                    )}\r\n-                                </tr>\r\n-                            </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n-                                    <tr>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        ) : (\r\n-                                            <th className=\"bg-white\"></th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n-                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n-                                        <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n-                                            <>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                                <th className=\"bg-white\"></th>\r\n-                                            </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n-                                                        </div>\r\n-                                                    </div>\r\n-\r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n-\r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n-\r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n-\r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n-                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n-\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n-                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n-                          </p>\r\n-                      </td> */}\r\n-\r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n-\r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n-\r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n-\r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n-                        </table>\r\n-                    )}\r\n-                </div>\r\n-                <div className=\"pt-2\">\r\n-\r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n-                        currentPage={currentPage}\r\n-                        setCurrentPage={setCurrentPage}\r\n-                        total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n-                </div>\r\n-            </div>\r\n-\r\n-        </>\r\n-    );\r\n-}\r\n"
                },
                {
                    "date": 1693485952801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,10 +62,10 @@\n                         let LmiaData = userData.data.data;\r\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n-                                console.log(\"ppp\",userData.data.data[i].visa_id)\r\n-                            const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n+                                const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n+                                console.log(\"ppp\",subStageRes.data.data)\r\n                             if (\r\n                               subStageRes.data.data.filter(\r\n                                 (item) => item.lmia_substage === \"reject\"\r\n                               ).length > 0\r\n"
                },
                {
                    "date": 1693485966638,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,9 @@\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n                                 const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n-                                console.log(\"ppp\",subStageRes.data.data)\r\n+                                console.log(\"ppp\",subStageRes.data.data.data)\r\n                             if (\r\n                               subStageRes.data.data.filter(\r\n                                 (item) => item.lmia_substage === \"reject\"\r\n                               ).length > 0\r\n"
                },
                {
                    "date": 1693486008698,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,18 @@\n-import React, { useEffect, useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import { GetEmployeeVisaList ,GetVisaSubStages } from \"../../api/api\";\r\n+import React, {useEffect, useState} from \"react\";\r\n+import {Link} from \"react-router-dom\";\r\n+import {GetEmployeeVisaList, GetVisaSubStages} from \"../../api/api\";\r\n import moment from \"moment\";\r\n import \"react-toastify/dist/ReactToastify.css\";\r\n import Pagination from \"../common/pagination\";\r\n import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n import Loader from \"../common/loader\";\r\n import VisaStatus from \"../forms/user/visaStatus\";\r\n-import { toast } from \"react-toastify\";\r\n-import { LiaCcVisa } from \"react-icons/lia\"\r\n-import { GrDocumentUser } from \"react-icons/gr\"\r\n+import {toast} from \"react-toastify\";\r\n+import {LiaCcVisa} from \"react-icons/lia\"\r\n+import {GrDocumentUser} from \"react-icons/gr\"\r\n export default function VisaTable(props) {\r\n-    let user_type =localStorage.getItem(\"userType\")\r\n+    let user_type = localStorage.getItem(\"userType\")\r\n     /*Show modal states */\r\n     let [apiCall, setApiCall] = useState(false);\r\n     let [isLoading, setIsLoading] = useState(true);\r\n     const [documentModal, setDocumentModal] = useState(false);\r\n@@ -31,80 +31,49 @@\n     /* Function to get Employee visa data*/\r\n     const EmpData = async () => {\r\n         setIsLoading(true);\r\n         try {\r\n-            const userData = await GetEmployeeVisaList(\r\n-                props.search,\r\n-                props.VisStatusFilterValue,\r\n-                props.VisaCountryFilterValue,\r\n-                props.IntrestedFilterValue,\r\n-                props.search ||\r\n-                    props.VisStatusFilterValue ||\r\n-                    props.VisaCountryFilterValue ||\r\n-                    props.IntrestedFilterValue\r\n-                    ? 1\r\n-                    :\r\n-                    currentPage,\r\n-                recordsPerPage,\r\n-                columnName,\r\n-                sortOrder,\r\n-                props.employee_id\r\n-            );\r\n+            const userData = await GetEmployeeVisaList(props.search, props.VisStatusFilterValue, props.VisaCountryFilterValue, props.IntrestedFilterValue, props.search || props.VisStatusFilterValue || props.VisaCountryFilterValue || props.IntrestedFilterValue ? 1 : currentPage, recordsPerPage, columnName, sortOrder, props.employee_id);\r\n             // console.log(userData.data)\r\n             if (userData.data.data.length === 0) {\r\n                 setemployeeData([]);\r\n                 setIsLoading(false);\r\n             } else {\r\n                 setemployeeData(userData.data.data);\r\n                 setTotalData(userData.data.total_rows);\r\n-                if(props.page === \"user_profile\"){\r\n+                if (props.page === \"user_profile\") {\r\n                     props.setVisaStatus(userData.data.data)\r\n                     if (userData.data.data.length >= 0) {\r\n                         let LmiaData = userData.data.data;\r\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n-                                const subStageRes = await GetVisaSubStages(data.visa_id,\"visa\")\r\n-                                console.log(\"ppp\",subStageRes.data.data.data)\r\n-                            if (\r\n-                              subStageRes.data.data.filter(\r\n-                                (item) => item.lmia_substage === \"reject\"\r\n-                              ).length > 0\r\n-                            ) {\r\n-                              LmiaData = LmiaData.filter(\r\n-                                (item) => item.job_id !== data.job_id\r\n-                              );\r\n+                                const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n+                                console.log(\"ppp\", subStageRes.data.data.data)\r\n+                                if (subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\").length > 0) {\r\n+                                    LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n+                                }\r\n+                                let x = [];\r\n+                                props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                                for (let j = 0; j < subStageRes.data.datadata.length; j++) {\r\n+                                    x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                    // props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                    // console.log(subStageRes.data.data[j])\r\n+                                }\r\n                             }\r\n-                            let x =[];\r\n-                            props.setVisaStatusRejectComment(subStageRes.data.data);\r\n-                            for (let j = 0; j < subStageRes.data.data.length; j++) {\r\n-                              if (\r\n-                                props.detail === \"company_detail\" ||\r\n-                                props.detail === \"job_detail\"\r\n-                              ) {\r\n-              x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n-                                //props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n-                                // console.log(subStageRes.data.data[j])\r\n-                              }\r\n-                            }\r\n-                          }\r\n                         }\r\n-                        if (\r\n-                          props.detail === \"company_detail\" ||\r\n-                          props.detail === \"job_detail\"\r\n-                        ) {\r\n-                          // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n-                          props.setVisaStatus(LmiaData);\r\n+                        if (props.detail === \"company_detail\" || props.detail === \"job_detail\") { // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                            props.setVisaStatus(LmiaData);\r\n                         }\r\n                         // setLmiaStatus(LmiaData);\r\n-                      }\r\n+                    }\r\n                 }\r\n                 setIsLoading(false);\r\n             }\r\n         } catch (err) {\r\n             toast.error(\"Something went wrong\", {\r\n                 position: toast.POSITION.TOP_RIGHT,\r\n-                autoClose: 1000,\r\n+                autoClose: 1000\r\n             });\r\n             setIsLoading(false)\r\n         }\r\n     };\r\n@@ -152,460 +121,464 @@\n         setCurrentPage(1)\r\n     };\r\n \r\n     return (\r\n-        <>\r\n-\r\n-            {showVisaModal ? (\r\n-                <VisaStatus\r\n-                    show={showVisaModal}\r\n+        <> {\r\n+            showVisaModal ? (\r\n+                <VisaStatus show={showVisaModal}\r\n                     employeeData={employeeId}\r\n                     apiCall={apiCall}\r\n                     setApiCall={setApiCall}\r\n-                    close={() => setVisaModal(false)}\r\n-                />\r\n-            ) : null}\r\n-            {documentModal ? (\r\n-                <DocumentModal\r\n-                    show={documentModal}\r\n-                    close={() => setDocumentModal(false)}\r\n+                    close={\r\n+                        () => setVisaModal(false)\r\n+                    }/>\r\n+            ) : null\r\n+        }\r\n+            {\r\n+            documentModal ? (\r\n+                <DocumentModal show={documentModal}\r\n+                    close={\r\n+                        () => setDocumentModal(false)\r\n+                    }\r\n                     employee_id={employeeId}\r\n                     job={\"no\"}\r\n-                // lmia={lmiaStatus}\r\n+                    // lmia={lmiaStatus}\r\n                 />\r\n-            ) : null}\r\n+            ) : null\r\n+        }\r\n             <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n                 <div className=\"table-responsive main_table_div\">\r\n-                    {isLoading ? (\r\n-                        <Loader />\r\n-                    ) : (\r\n+                    {\r\n+                    isLoading ? (\r\n+                        <Loader/>) : (\r\n                         <table className=\"table table-striped main_data_table\">\r\n                             <thead>\r\n                                 <tr className=\"\">\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n                                         EID\r\n                                     </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"name\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"name\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n                                             className=\"text-gray\"\r\n-                                            title=\"Sort by Name\"\r\n-                                        >\r\n+                                            title=\"Sort by Name\">\r\n                                             Name\r\n                                         </Link>\r\n                                     </th>\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n-                                        <Link\r\n-                                            to={\"\"}\r\n-                                            onClick={() => {\r\n-                                                handleSort(\"contact_no\");\r\n-                                                setCurrentPage(1);\r\n-                                            }}\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"contact_no\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n                                             className=\"text-gray\"\r\n-                                            title=\"Sort by Contact\"\r\n-                                        >\r\n+                                            title=\"Sort by Contact\">\r\n                                             Contact\r\n                                         </Link>\r\n                                     </th>\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"language\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"language\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n                                                 className=\"text-gray\"\r\n-                                                title=\"Sort by Languages\"\r\n-                                            >\r\n+                                                title=\"Sort by Languages\">\r\n                                                 Languages\r\n                                             </Link>\r\n                                         </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"interested_in\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"interested_in\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n                                                 className=\"text-gray\"\r\n-                                                title=\"Sort by interested in\"\r\n-                                            >\r\n+                                                title=\"Sort by interested in\">\r\n                                                 Interested in\r\n                                             </Link>\r\n                                         </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"visa_country\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"visa_country\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n                                                 className=\"text-gray\"\r\n-                                                title=\"Sort by visa country\"\r\n-                                            >\r\n+                                                title=\"Sort by visa country\">\r\n                                                 Visa country\r\n                                             </Link>\r\n                                         </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n-                                            <Link\r\n-                                                to={\"\"}\r\n-                                                onClick={() => {\r\n-                                                    handleSort(\"experience\");\r\n-                                                    setCurrentPage(1);\r\n-                                                }}\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"experience\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n                                                 className=\"text-gray\"\r\n-                                                title=\"Sort by Experience\"\r\n-                                            >\r\n+                                                title=\"Sort by Experience\">\r\n                                                 Experience\r\n                                             </Link>\r\n                                         </th>\r\n-                                    )}\r\n-                                    <th\r\n-                                        scope=\"col\"\r\n-                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                    >\r\n+                                    )\r\n+                                }\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n                                         Profile\r\n                                     </th>\r\n-                                    {props.visa === \"yes\" ? null : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n+                                    {\r\n+                                    props.visa === \"yes\" ? null : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n                                             Status\r\n                                         </th>\r\n-                                    )}\r\n-                                    {props.heading === \"Dashboard\" ? (\r\n-                                        \"\"\r\n-                                    ) : (\r\n-                                        <th\r\n-                                            scope=\"col\"\r\n-                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n-                                        >\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n                                             Action\r\n                                         </th>\r\n-                                    )}\r\n-                                </tr>\r\n+                                    )\r\n+                                } </tr>\r\n                             </thead>\r\n-                            <tbody>\r\n-                                {/* Map function to show the data in the list*/}\r\n-                                {totalData === 0 || employeeData.length === 0 ? (\r\n+                            <tbody> {/* Map function to show the data in the list*/}\r\n+                                {\r\n+                                totalData === 0 || employeeData.length === 0 ? (\r\n                                     <tr>\r\n                                         <th className=\"bg-white\"></th>\r\n                                         <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? (\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\r\n                                             <th className=\"bg-white text-center\">No Data Found</th>\r\n                                         ) : (\r\n                                             <th className=\"bg-white\"></th>\r\n-                                        )}\r\n+                                        )\r\n+                                    }\r\n                                         <th className=\"bg-white\"></th>\r\n-                                        {props.heading === \"Dashboard\" ? null : (\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? null : (\r\n                                             <th className=\"bg-white text-center\">No Data Found</th>\r\n-                                        )}\r\n+                                        )\r\n+                                    }\r\n                                         <th className=\"bg-white\"></th>\r\n-                                        {props.heading !== \"Dashboard\" ? (\r\n+                                        {\r\n+                                        props.heading !== \"Dashboard\" ? (\r\n                                             <>\r\n                                                 <th className=\"bg-white\"></th>\r\n                                                 <th className=\"bg-white\"></th>\r\n                                                 <th className=\"bg-white\"></th>\r\n                                                 <th className=\"bg-white\"></th>\r\n                                             </>\r\n-                                        ) : (\r\n-                                            \"\"\r\n-                                        )}\r\n-                                    </tr>\r\n-                                ) : (\r\n-                                    (employeeData || []).map((empdata,i) => (\r\n-                                        <tr className=\"applicant_row\" key={i}>\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <Link\r\n-                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n-                                                        {empdata.employee_id}\r\n-                                                    </Link>\r\n-                                                </p>\r\n-                                            </td>\r\n-                                            <td className=\" py-5\">\r\n-                                                <div className=\"d-flex profile_box gx-2\">\r\n-                                                    <div className=\"media  align-items-center\">\r\n-                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n-                                                            {empdata.profile_photo === null ? (\r\n-                                                                <img\r\n-                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            ) : (\r\n-                                                                <img\r\n-                                                                    src={empdata.profile_photo}\r\n-                                                                    alt=\"\"\r\n-                                                                    className=\"w-100\"\r\n-                                                                />\r\n-                                                            )}\r\n+                                        ) : (\"\")\r\n+                                    } </tr>\r\n+                                ) : ((employeeData || []).map((empdata, i) => (\r\n+                                    <tr className=\"applicant_row\"\r\n+                                        key={i}>\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <Link className=\"text-dark\"\r\n+                                                    to={\r\n+                                                        `/${\r\n+                                                            empdata.employee_id\r\n+                                                        }`\r\n+                                                }>\r\n+                                                    {\r\n+                                                    empdata.employee_id\r\n+                                                } </Link>\r\n+                                            </p>\r\n+                                        </td>\r\n+                                        <td className=\" py-5\">\r\n+                                            <div className=\"d-flex profile_box gx-2\">\r\n+                                                <div className=\"media  align-items-center\">\r\n+                                                    <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                        {\r\n+                                                        empdata.profile_photo === null ? (\r\n+                                                            <img src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\" alt=\"\" className=\"w-100\"/>\r\n+                                                        ) : (\r\n+                                                            <img src={\r\n+                                                                    empdata.profile_photo\r\n+                                                                }\r\n+                                                                alt=\"\"\r\n+                                                                className=\"w-100\"/>\r\n+                                                        )\r\n+                                                    } </div>\r\n+                                                </div>\r\n+\r\n+                                                <div title=\"Employee Details\">\r\n+                                                    {\r\n+                                                    empdata.name === null ? (\r\n+                                                        <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                            Unavailable\r\n                                                         </div>\r\n-                                                    </div>\r\n+                                                    ) : (\r\n+                                                        <div className=\" mb-0\">\r\n+                                                            <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n \r\n-                                                    <div\r\n-                                                        title=\"Employee Details\"\r\n-                                                    >\r\n-                                                        {empdata.name === null ? (\r\n-                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n-                                                                Unavailable\r\n-                                                            </div>\r\n-                                                        ) : (\r\n-                                                            <div className=\" mb-0\">\r\n-                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+                                                                <Link className=\"text-dark\"\r\n+                                                                    to={\r\n+                                                                        `/${\r\n+                                                                            empdata.employee_id\r\n+                                                                        }`\r\n+                                                                }>\r\n+                                                                    {\r\n+                                                                    empdata.name\r\n+                                                                } </Link>\r\n+                                                            </p>\r\n+                                                            <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                {\r\n+                                                                empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"\r\n+                                                            }\r\n+                                                                ( {\r\n+                                                                empdata.marital_status + \", \"\r\n+                                                            }\r\n+                                                                {/*Calculation of age from date of birth*/}\r\n+                                                                {\r\n+                                                                moment().diff(empdata.date_of_birth, \"years\")\r\n+                                                            }\r\n+                                                                Y) {\r\n+                                                                empdata.is_featured === \"1\" ? (\r\n+                                                                    <span className=\"bg-orange text-white featured_tag\">\r\n \r\n-                                                                    <Link\r\n-                                                                        className=\"text-dark\"\r\n-                                                                        to={`/${empdata.employee_id}`}>\r\n-                                                                        {empdata.name}\r\n-                                                                    </Link>\r\n-                                                                </p>\r\n-                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n-                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n-                                                                    {empdata.marital_status + \", \"}\r\n-                                                                    {/*Calculation of age from date of birth*/}\r\n-                                                                    {moment().diff(\r\n-                                                                        empdata.date_of_birth,\r\n-                                                                        \"years\"\r\n-                                                                    )}\r\n-                                                                    Y)\r\n-                                                                    {empdata.is_featured === \"1\" ? (\r\n-                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n+                                                                        Featured\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            }\r\n+                                                                {\r\n+                                                                empdata.created_by_admin === \"0\" ? (\r\n+                                                                    <span className=\"bg-info text-white web_tag\">\r\n+                                                                        Web\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            } </p>\r\n+                                                        </div>\r\n+                                                    )\r\n+                                                } </div>\r\n \r\n-                                                                            Featured\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                    {empdata.created_by_admin === \"0\" ? (\r\n-                                                                        <span className=\"bg-info text-white web_tag\">\r\n-                                                                            Web\r\n-                                                                        </span>\r\n-                                                                    ) : null}\r\n-                                                                </p>\r\n-                                                            </div>\r\n-                                                        )}\r\n-                                                    </div>\r\n+                                            </div>\r\n+                                        </td>\r\n+                                        <td className=\"py-5 \">\r\n+                                            {\r\n+                                            empdata.contact_no === null ? (\r\n+                                                <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                            ) : (\r\n+                                                <p className=\"m-0\">\r\n+                                                    +\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `tel:${\r\n+                                                                empdata.contact_no\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.contact_no\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            )\r\n+                                        }\r\n+                                            <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <p className=\"text-gray font-size-2 m-0\">\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `mailto:${\r\n+                                                                empdata.email\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.email\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            </h3>\r\n+                                        </td>\r\n \r\n-                                                </div>\r\n-                                            </td>\r\n-                                            <td className=\"py-5 \">\r\n-                                                {empdata.contact_no === null ? (\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.language === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.language\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.interested_in === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.interested_in\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.visa_country\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.experience === null ? (\r\n                                                     <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n                                                 ) : (\r\n-                                                    <p className=\"m-0\">\r\n-                                                        +\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`tel:${empdata.contact_no}`}\r\n-                                                        >\r\n-                                                            {empdata.contact_no}\r\n-                                                        </Link>\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.experience\r\n+                                                    }\r\n+                                                        Years\r\n                                                     </p>\r\n-                                                )}\r\n-                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                    <p className=\"text-gray font-size-2 m-0\">\r\n-                                                        <Link\r\n-                                                            className=\"text-dark\"\r\n-                                                            to={`mailto:${empdata.email}`}\r\n-                                                        >\r\n-                                                            {empdata.email}\r\n-                                                        </Link>\r\n-                                                    </p>\r\n-                                                </h3>\r\n-                                            </td>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.profile_complete === \"100.00\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        Complete\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Incompelete\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n \r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.language === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.language}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.interested_in === null ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.interested_in}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n-                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n-                                                            {empdata.visa_country}\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            {props.heading === \"Dashboard\" ? (\r\n-                                                \"\"\r\n-                                            ) : (\r\n-                                                <td className=\" py-5\">\r\n-                                                    {empdata.experience === null ? (\r\n-                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n-                                                    ) : (\r\n-                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            {empdata.experience} Years\r\n-                                                        </p>\r\n-                                                    )}\r\n-                                                </td>\r\n-                                            )}\r\n-                                            <td className=\" py-5\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.profile_complete === \"100.00\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            Complete\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Incompelete\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n+                                        <td className=\"\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.visa_status === \"onboard\" ? (\r\n+                                                    <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                        On Board\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Documentation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                    <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Preparation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file review\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Review\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                    <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Submission\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                    <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Decision\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        NA\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n \r\n-                                            <td className=\"\">\r\n-                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n-                                                    {empdata.visa_status === \"onboard\" ? (\r\n-                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n-                                                            On Board\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n-                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n-                                                            Documentation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n-                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Preparation\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file review\" ? (\r\n-                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Review\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n-                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Submission\r\n-                                                        </span>\r\n-                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n-                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n-                                                            File Decision\r\n-                                                        </span>\r\n-                                                    ) : (\r\n-                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n-                                                            NA\r\n-                                                        </span>\r\n-                                                    )}\r\n-                                                </p>\r\n-                                            </td>\r\n-\r\n-                                            {/* Calulation to get user is new or retained */}\r\n-                                            {/* <td className=\" py-5\">\r\n+                                        {/* Calulation to get user is new or retained */}\r\n+                                        {/* <td className=\" py-5\">\r\n                         <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                           {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n                           </p>\r\n                       </td> */}\r\n \r\n-                                            <td className=\" py-5 min-width-px-100\">\r\n-                                                <div\r\n-                                                    className={\"btn-group button_group\"}\r\n-                                                    role=\"group\"\r\n-                                                    aria-label=\"Basic example\"\r\n-                                                >\r\n-                                                    <button\r\n-                                                        className={user_type === \"company\"?\"d-none\":\"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() => editVisa(empdata)}\r\n-                                                        title=\"Update Visa status\"\r\n-                                                    >\r\n-                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n-                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n-                                                    </button>\r\n+                                        <td className=\" py-5 min-width-px-100\">\r\n+                                            <div className={\"btn-group button_group\"}\r\n+                                                role=\"group\"\r\n+                                                aria-label=\"Basic example\">\r\n+                                                <button className={\r\n+                                                        user_type === \"company\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => editVisa(empdata)\r\n+                                                    }\r\n+                                                    title=\"Update Visa status\">\r\n+                                                    <span className=\"text-gray px-2\"><LiaCcVisa/></span>\r\n+                                                    {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */} </button>\r\n \r\n-                                                    <button\r\n-                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n-                                                        onClick={() =>\r\n-                                                            AddDoucument(empdata)\r\n-                                                        }\r\n-                                                        title=\"Documents\"\r\n-                                                    >\r\n+                                                <button className={\r\n+                                                        props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => AddDoucument(empdata)\r\n+                                                    }\r\n+                                                    title=\"Documents\">\r\n \r\n-                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n-                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n-                                                    </button>\r\n-                                                </div>\r\n-                                            </td>\r\n+                                                    <span className=\"text-gray\"><GrDocumentUser/></span>\r\n+                                                    {/* <span className=\"fas fa-file text-gray\"></span> */} </button>\r\n+                                            </div>\r\n+                                        </td>\r\n \r\n-                                        </tr>\r\n-                                    ))\r\n-                                )}\r\n-                            </tbody>\r\n+                                    </tr>\r\n+                                )))\r\n+                            } </tbody>\r\n                         </table>\r\n-                    )}\r\n-                </div>\r\n+                    )\r\n+                } </div>\r\n                 <div className=\"pt-2\">\r\n \r\n-                    <Pagination\r\n-                        nPages={nPages}\r\n+                    <Pagination nPages={nPages}\r\n                         currentPage={currentPage}\r\n                         setCurrentPage={setCurrentPage}\r\n                         total={totalData}\r\n-                        count={employeeData.length}\r\n-                    />\r\n+                        count={\r\n+                            employeeData.length\r\n+                        }/>\r\n                 </div>\r\n             </div>\r\n \r\n         </>\r\n"
                },
                {
                    "date": 1693486054736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,10 +47,10 @@\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n                                 const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n-                                console.log(\"ppp\", subStageRes.data.data.data)\r\n                                 if (subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\").length > 0) {\r\n+                                    console.log(\"ppp\", subStageRes.data.data.datalmia_substage)\r\n                                     LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n                                 }\r\n                                 let x = [];\r\n                                 props.setVisaStatusRejectComment(subStageRes.data.data);\r\n"
                },
                {
                    "date": 1693486066055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n                                 const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n                                 if (subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\").length > 0) {\r\n-                                    console.log(\"ppp\", subStageRes.data.data.datalmia_substage)\r\n+                                    console.log(\"ppp\", subStageRes.data.data)\r\n                                     LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n                                 }\r\n                                 let x = [];\r\n                                 props.setVisaStatusRejectComment(subStageRes.data.data);\r\n"
                },
                {
                    "date": 1693486144299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,586 @@\n+import React, {useEffect, useState} from \"react\";\r\n+import {Link} from \"react-router-dom\";\r\n+import {GetEmployeeVisaList, GetVisaSubStages} from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import {toast} from \"react-toastify\";\r\n+import {LiaCcVisa} from \"react-icons/lia\"\r\n+import {GrDocumentUser} from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type = localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(props.search, props.VisStatusFilterValue, props.VisaCountryFilterValue, props.IntrestedFilterValue, props.search || props.VisStatusFilterValue || props.VisaCountryFilterValue || props.IntrestedFilterValue ? 1 : currentPage, recordsPerPage, columnName, sortOrder, props.employee_id);\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if (props.page === \"user_profile\") {\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                            if (userData.data.data[i].visa_status === \"file decision\") {\r\n+                                const data = userData.data.data[i];\r\n+                                const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n+                                console.log(\"ppp\",subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\"))\r\n+                                if (subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\").length > 0) {\r\n+                                    LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n+                                }\r\n+                                let x = [];\r\n+                                props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                                for (let j = 0; j < subStageRes.data.datadata.length; j++) {\r\n+                                    x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                    // props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                    // console.log(subStageRes.data.data[j])\r\n+                                }\r\n+                            }\r\n+                        }\r\n+                        if (props.detail === \"company_detail\" || props.detail === \"job_detail\") { // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                            props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                    }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <> {\r\n+            showVisaModal ? (\r\n+                <VisaStatus show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={\r\n+                        () => setVisaModal(false)\r\n+                    }/>\r\n+            ) : null\r\n+        }\r\n+            {\r\n+            documentModal ? (\r\n+                <DocumentModal show={documentModal}\r\n+                    close={\r\n+                        () => setDocumentModal(false)\r\n+                    }\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                    // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null\r\n+        }\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {\r\n+                    isLoading ? (\r\n+                        <Loader/>) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"name\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\">\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"contact_no\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\">\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"language\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\">\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"interested_in\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\">\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"visa_country\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\">\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"experience\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\">\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {\r\n+                                    props.visa === \"yes\" ? null : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )\r\n+                                } </tr>\r\n+                            </thead>\r\n+                            <tbody> {/* Map function to show the data in the list*/}\r\n+                                {\r\n+                                totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )\r\n+                                    }\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )\r\n+                                    }\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\"\")\r\n+                                    } </tr>\r\n+                                ) : ((employeeData || []).map((empdata, i) => (\r\n+                                    <tr className=\"applicant_row\"\r\n+                                        key={i}>\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <Link className=\"text-dark\"\r\n+                                                    to={\r\n+                                                        `/${\r\n+                                                            empdata.employee_id\r\n+                                                        }`\r\n+                                                }>\r\n+                                                    {\r\n+                                                    empdata.employee_id\r\n+                                                } </Link>\r\n+                                            </p>\r\n+                                        </td>\r\n+                                        <td className=\" py-5\">\r\n+                                            <div className=\"d-flex profile_box gx-2\">\r\n+                                                <div className=\"media  align-items-center\">\r\n+                                                    <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                        {\r\n+                                                        empdata.profile_photo === null ? (\r\n+                                                            <img src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\" alt=\"\" className=\"w-100\"/>\r\n+                                                        ) : (\r\n+                                                            <img src={\r\n+                                                                    empdata.profile_photo\r\n+                                                                }\r\n+                                                                alt=\"\"\r\n+                                                                className=\"w-100\"/>\r\n+                                                        )\r\n+                                                    } </div>\r\n+                                                </div>\r\n+\r\n+                                                <div title=\"Employee Details\">\r\n+                                                    {\r\n+                                                    empdata.name === null ? (\r\n+                                                        <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                            Unavailable\r\n+                                                        </div>\r\n+                                                    ) : (\r\n+                                                        <div className=\" mb-0\">\r\n+                                                            <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                <Link className=\"text-dark\"\r\n+                                                                    to={\r\n+                                                                        `/${\r\n+                                                                            empdata.employee_id\r\n+                                                                        }`\r\n+                                                                }>\r\n+                                                                    {\r\n+                                                                    empdata.name\r\n+                                                                } </Link>\r\n+                                                            </p>\r\n+                                                            <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                {\r\n+                                                                empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"\r\n+                                                            }\r\n+                                                                ( {\r\n+                                                                empdata.marital_status + \", \"\r\n+                                                            }\r\n+                                                                {/*Calculation of age from date of birth*/}\r\n+                                                                {\r\n+                                                                moment().diff(empdata.date_of_birth, \"years\")\r\n+                                                            }\r\n+                                                                Y) {\r\n+                                                                empdata.is_featured === \"1\" ? (\r\n+                                                                    <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                        Featured\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            }\r\n+                                                                {\r\n+                                                                empdata.created_by_admin === \"0\" ? (\r\n+                                                                    <span className=\"bg-info text-white web_tag\">\r\n+                                                                        Web\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            } </p>\r\n+                                                        </div>\r\n+                                                    )\r\n+                                                } </div>\r\n+\r\n+                                            </div>\r\n+                                        </td>\r\n+                                        <td className=\"py-5 \">\r\n+                                            {\r\n+                                            empdata.contact_no === null ? (\r\n+                                                <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                            ) : (\r\n+                                                <p className=\"m-0\">\r\n+                                                    +\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `tel:${\r\n+                                                                empdata.contact_no\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.contact_no\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            )\r\n+                                        }\r\n+                                            <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <p className=\"text-gray font-size-2 m-0\">\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `mailto:${\r\n+                                                                empdata.email\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.email\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            </h3>\r\n+                                        </td>\r\n+\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.language === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.language\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.interested_in === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.interested_in\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.visa_country\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.experience === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.experience\r\n+                                                    }\r\n+                                                        Years\r\n+                                                    </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.profile_complete === \"100.00\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        Complete\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Incompelete\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n+\r\n+                                        <td className=\"\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.visa_status === \"onboard\" ? (\r\n+                                                    <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                        On Board\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Documentation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                    <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Preparation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file review\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Review\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                    <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Submission\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                    <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Decision\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        NA\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n+\r\n+                                        {/* Calulation to get user is new or retained */}\r\n+                                        {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                        <td className=\" py-5 min-width-px-100\">\r\n+                                            <div className={\"btn-group button_group\"}\r\n+                                                role=\"group\"\r\n+                                                aria-label=\"Basic example\">\r\n+                                                <button className={\r\n+                                                        user_type === \"company\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => editVisa(empdata)\r\n+                                                    }\r\n+                                                    title=\"Update Visa status\">\r\n+                                                    <span className=\"text-gray px-2\"><LiaCcVisa/></span>\r\n+                                                    {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */} </button>\r\n+\r\n+                                                <button className={\r\n+                                                        props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => AddDoucument(empdata)\r\n+                                                    }\r\n+                                                    title=\"Documents\">\r\n+\r\n+                                                    <span className=\"text-gray\"><GrDocumentUser/></span>\r\n+                                                    {/* <span className=\"fas fa-file text-gray\"></span> */} </button>\r\n+                                            </div>\r\n+                                        </td>\r\n+\r\n+                                    </tr>\r\n+                                )))\r\n+                            } </tbody>\r\n+                        </table>\r\n+                    )\r\n+                } </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={\r\n+                            employeeData.length\r\n+                        }/>\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1693486161965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n                         for (let i = 0; i < userData.data.data.length; i++) {\r\n                             if (userData.data.data[i].visa_status === \"file decision\") {\r\n                                 const data = userData.data.data[i];\r\n                                 const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n-                                console.log(\"ppp\",subStageRes.data.data.data.filter((item) => item.lmia_substage))\r\n+                                console.log(\"ppp\",subStageRes.data.data.data.filter((item) => item))\r\n                                 if (subStageRes.data.data.data.filter((item) => item.lmia_substage === \"reject\").length > 0) {\r\n                                     LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n                                 }\r\n                                 let x = [];\r\n"
                },
                {
                    "date": 1693486215739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,586 @@\n+import React, {useEffect, useState} from \"react\";\r\n+import {Link} from \"react-router-dom\";\r\n+import {GetEmployeeVisaList, GetVisaSubStages} from \"../../api/api\";\r\n+import moment from \"moment\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n+import Pagination from \"../common/pagination\";\r\n+import DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\n+import Loader from \"../common/loader\";\r\n+import VisaStatus from \"../forms/user/visaStatus\";\r\n+import {toast} from \"react-toastify\";\r\n+import {LiaCcVisa} from \"react-icons/lia\"\r\n+import {GrDocumentUser} from \"react-icons/gr\"\r\n+export default function VisaTable(props) {\r\n+    let user_type = localStorage.getItem(\"userType\")\r\n+    /*Show modal states */\r\n+    let [apiCall, setApiCall] = useState(false);\r\n+    let [isLoading, setIsLoading] = useState(true);\r\n+    const [documentModal, setDocumentModal] = useState(false);\r\n+    let [showVisaModal, setVisaModal] = useState(false);\r\n+    /*data and id states */\r\n+    const [employeeData, setemployeeData] = useState([]);\r\n+    let [employeeId, setemployeeId] = useState();\r\n+    // let [lmiaStatus, setLmiaStatus] = useState();\r\n+    /*Pagination states */\r\n+    const [totalData, setTotalData] = useState(\"\");\r\n+    const [currentPage, setCurrentPage] = useState(1);\r\n+    const [recordsPerPage] = useState(10);\r\n+    /*Shorting states */\r\n+    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n+    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n+    /* Function to get Employee visa data*/\r\n+    const EmpData = async () => {\r\n+        setIsLoading(true);\r\n+        try {\r\n+            const userData = await GetEmployeeVisaList(props.search, props.VisStatusFilterValue, props.VisaCountryFilterValue, props.IntrestedFilterValue, props.search || props.VisStatusFilterValue || props.VisaCountryFilterValue || props.IntrestedFilterValue ? 1 : currentPage, recordsPerPage, columnName, sortOrder, props.employee_id);\r\n+            // console.log(userData.data)\r\n+            if (userData.data.data.length === 0) {\r\n+                setemployeeData([]);\r\n+                setIsLoading(false);\r\n+            } else {\r\n+                setemployeeData(userData.data.data);\r\n+                setTotalData(userData.data.total_rows);\r\n+                if (props.page === \"user_profile\") {\r\n+                    props.setVisaStatus(userData.data.data)\r\n+                    if (userData.data.data.length >= 0) {\r\n+                        let LmiaData = userData.data.data;\r\n+                        for (let i = 0; i < userData.data.data.length; i++) {\r\n+                            if (userData.data.data[i].visa_status === \"file decision\") {\r\n+                                const data = userData.data.data[i];\r\n+                                const subStageRes = await GetVisaSubStages(data.visa_id, \"visa\")\r\n+                                if (subStageRes.data.data.data.filter((item) => item.substage === \"reject\").length > 0) {\r\n+                                    console.log(\"ppp\",subStageRes.data.data.data.filter((item) => item.substage))\r\n+                                    LmiaData = LmiaData.filter((item) => item.job_id !== data.job_id);\r\n+                                }\r\n+                                let x = [];\r\n+                                props.setVisaStatusRejectComment(subStageRes.data.data);\r\n+                                for (let j = 0; j < subStageRes.data.data.data.length; j++) {\r\n+                                    x[subStageRes.data.data[j].job_id] = subStageRes.data.data[j];\r\n+                                    // props.setLmiaStatusRejectComment(subStageRes.data.data);\r\n+                                    // console.log(subStageRes.data.data[j])\r\n+                                }\r\n+                            }\r\n+                        }\r\n+                        if (props.detail === \"company_detail\" || props.detail === \"job_detail\") { // props.setLmiaStatusRejectComment(lmiaStatusComment);\r\n+                            props.setVisaStatus(LmiaData);\r\n+                        }\r\n+                        // setLmiaStatus(LmiaData);\r\n+                    }\r\n+                }\r\n+                setIsLoading(false);\r\n+            }\r\n+        } catch (err) {\r\n+            toast.error(\"Something went wrong\", {\r\n+                position: toast.POSITION.TOP_RIGHT,\r\n+                autoClose: 1000\r\n+            });\r\n+            setIsLoading(false)\r\n+        }\r\n+    };\r\n+\r\n+    /*Render function to get the employee data*/\r\n+    useEffect(() => {\r\n+        EmpData();\r\n+        if (props.apiCall === true || apiCall === true) {\r\n+            props.setApiCall(false);\r\n+            setApiCall(false);\r\n+        }\r\n+    }, [\r\n+        props.search,\r\n+        props.VisStatusFilterValue,\r\n+        props.VisaCountryFilterValue,\r\n+        props.IntrestedFilterValue,\r\n+        currentPage,\r\n+        recordsPerPage,\r\n+        columnName,\r\n+        sortOrder,\r\n+        props.apiCall,\r\n+        apiCall,\r\n+    ]);\r\n+\r\n+    /* Function to show the single data to update Employee*/\r\n+    const editVisa = (e) => {\r\n+        setVisaModal(true);\r\n+        setemployeeId(e);\r\n+    };\r\n+\r\n+    /*Function to open add Document up modal */\r\n+    const AddDoucument = (e) => {\r\n+        setDocumentModal(true);\r\n+        setemployeeId(e.employee_id);\r\n+        // setLmiaStatus(e.lmia_status)\r\n+    };\r\n+\r\n+    /*Pagination Calculation */\r\n+    const nPages = Math.ceil(totalData / recordsPerPage);\r\n+\r\n+    /*Sorting Function */\r\n+    const handleSort = (columnName) => {\r\n+        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n+        setcolumnName(columnName);\r\n+        setCurrentPage(1)\r\n+    };\r\n+\r\n+    return (\r\n+        <> {\r\n+            showVisaModal ? (\r\n+                <VisaStatus show={showVisaModal}\r\n+                    employeeData={employeeId}\r\n+                    apiCall={apiCall}\r\n+                    setApiCall={setApiCall}\r\n+                    close={\r\n+                        () => setVisaModal(false)\r\n+                    }/>\r\n+            ) : null\r\n+        }\r\n+            {\r\n+            documentModal ? (\r\n+                <DocumentModal show={documentModal}\r\n+                    close={\r\n+                        () => setDocumentModal(false)\r\n+                    }\r\n+                    employee_id={employeeId}\r\n+                    job={\"no\"}\r\n+                    // lmia={lmiaStatus}\r\n+                />\r\n+            ) : null\r\n+        }\r\n+            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n+                <div className=\"table-responsive main_table_div\">\r\n+                    {\r\n+                    isLoading ? (\r\n+                        <Loader/>) : (\r\n+                        <table className=\"table table-striped main_data_table\">\r\n+                            <thead>\r\n+                                <tr className=\"\">\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n+                                        EID\r\n+                                    </th>\r\n+                                    <th scope=\"col\" className=\" border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"name\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Name\">\r\n+                                            Name\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                        <Link to={\"\"}\r\n+                                            onClick={\r\n+                                                () => {\r\n+                                                    handleSort(\"contact_no\");\r\n+                                                    setCurrentPage(1);\r\n+                                                }\r\n+                                            }\r\n+                                            className=\"text-gray\"\r\n+                                            title=\"Sort by Contact\">\r\n+                                            Contact\r\n+                                        </Link>\r\n+                                    </th>\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"language\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Languages\">\r\n+                                                Languages\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"interested_in\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by interested in\">\r\n+                                                Interested in\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"visa_country\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by visa country\">\r\n+                                                Visa country\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            <Link to={\"\"}\r\n+                                                onClick={\r\n+                                                    () => {\r\n+                                                        handleSort(\"experience\");\r\n+                                                        setCurrentPage(1);\r\n+                                                    }\r\n+                                                }\r\n+                                                className=\"text-gray\"\r\n+                                                title=\"Sort by Experience\">\r\n+                                                Experience\r\n+                                            </Link>\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                        Profile\r\n+                                    </th>\r\n+                                    {\r\n+                                    props.visa === \"yes\" ? null : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            Status\r\n+                                        </th>\r\n+                                    )\r\n+                                }\r\n+                                    {\r\n+                                    props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                        <th scope=\"col\" className=\"border-0 font-size-4 font-weight-normal\">\r\n+                                            Action\r\n+                                        </th>\r\n+                                    )\r\n+                                } </tr>\r\n+                            </thead>\r\n+                            <tbody> {/* Map function to show the data in the list*/}\r\n+                                {\r\n+                                totalData === 0 || employeeData.length === 0 ? (\r\n+                                    <tr>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        ) : (\r\n+                                            <th className=\"bg-white\"></th>\r\n+                                        )\r\n+                                    }\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? null : (\r\n+                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n+                                        )\r\n+                                    }\r\n+                                        <th className=\"bg-white\"></th>\r\n+                                        {\r\n+                                        props.heading !== \"Dashboard\" ? (\r\n+                                            <>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                                <th className=\"bg-white\"></th>\r\n+                                            </>\r\n+                                        ) : (\"\")\r\n+                                    } </tr>\r\n+                                ) : ((employeeData || []).map((empdata, i) => (\r\n+                                    <tr className=\"applicant_row\"\r\n+                                        key={i}>\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <Link className=\"text-dark\"\r\n+                                                    to={\r\n+                                                        `/${\r\n+                                                            empdata.employee_id\r\n+                                                        }`\r\n+                                                }>\r\n+                                                    {\r\n+                                                    empdata.employee_id\r\n+                                                } </Link>\r\n+                                            </p>\r\n+                                        </td>\r\n+                                        <td className=\" py-5\">\r\n+                                            <div className=\"d-flex profile_box gx-2\">\r\n+                                                <div className=\"media  align-items-center\">\r\n+                                                    <div className=\"circle-36 mx-auto overflow-hidden\">\r\n+                                                        {\r\n+                                                        empdata.profile_photo === null ? (\r\n+                                                            <img src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\" alt=\"\" className=\"w-100\"/>\r\n+                                                        ) : (\r\n+                                                            <img src={\r\n+                                                                    empdata.profile_photo\r\n+                                                                }\r\n+                                                                alt=\"\"\r\n+                                                                className=\"w-100\"/>\r\n+                                                        )\r\n+                                                    } </div>\r\n+                                                </div>\r\n+\r\n+                                                <div title=\"Employee Details\">\r\n+                                                    {\r\n+                                                    empdata.name === null ? (\r\n+                                                        <div className=\"font-size-3 mb-0 text-capitalize\">\r\n+                                                            Unavailable\r\n+                                                        </div>\r\n+                                                    ) : (\r\n+                                                        <div className=\" mb-0\">\r\n+                                                            <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n+\r\n+                                                                <Link className=\"text-dark\"\r\n+                                                                    to={\r\n+                                                                        `/${\r\n+                                                                            empdata.employee_id\r\n+                                                                        }`\r\n+                                                                }>\r\n+                                                                    {\r\n+                                                                    empdata.name\r\n+                                                                } </Link>\r\n+                                                            </p>\r\n+                                                            <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n+                                                                {\r\n+                                                                empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"\r\n+                                                            }\r\n+                                                                ( {\r\n+                                                                empdata.marital_status + \", \"\r\n+                                                            }\r\n+                                                                {/*Calculation of age from date of birth*/}\r\n+                                                                {\r\n+                                                                moment().diff(empdata.date_of_birth, \"years\")\r\n+                                                            }\r\n+                                                                Y) {\r\n+                                                                empdata.is_featured === \"1\" ? (\r\n+                                                                    <span className=\"bg-orange text-white featured_tag\">\r\n+\r\n+                                                                        Featured\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            }\r\n+                                                                {\r\n+                                                                empdata.created_by_admin === \"0\" ? (\r\n+                                                                    <span className=\"bg-info text-white web_tag\">\r\n+                                                                        Web\r\n+                                                                    </span>\r\n+                                                                ) : null\r\n+                                                            } </p>\r\n+                                                        </div>\r\n+                                                    )\r\n+                                                } </div>\r\n+\r\n+                                            </div>\r\n+                                        </td>\r\n+                                        <td className=\"py-5 \">\r\n+                                            {\r\n+                                            empdata.contact_no === null ? (\r\n+                                                <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                            ) : (\r\n+                                                <p className=\"m-0\">\r\n+                                                    +\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `tel:${\r\n+                                                                empdata.contact_no\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.contact_no\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            )\r\n+                                        }\r\n+                                            <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                <p className=\"text-gray font-size-2 m-0\">\r\n+                                                    <Link className=\"text-dark\"\r\n+                                                        to={\r\n+                                                            `mailto:${\r\n+                                                                empdata.email\r\n+                                                            }`\r\n+                                                    }>\r\n+                                                        {\r\n+                                                        empdata.email\r\n+                                                    } </Link>\r\n+                                                </p>\r\n+                                            </h3>\r\n+                                        </td>\r\n+\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.language === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.language\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.interested_in === null ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.interested_in\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n+                                                    <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n+                                                        {\r\n+                                                        empdata.visa_country\r\n+                                                    } </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        {\r\n+                                        props.heading === \"Dashboard\" ? (\"\") : (\r\n+                                            <td className=\" py-5\">\r\n+                                                {\r\n+                                                empdata.experience === null ? (\r\n+                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n+                                                ) : (\r\n+                                                    <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        {\r\n+                                                        empdata.experience\r\n+                                                    }\r\n+                                                        Years\r\n+                                                    </p>\r\n+                                                )\r\n+                                            } </td>\r\n+                                        )\r\n+                                    }\r\n+                                        <td className=\" py-5\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.profile_complete === \"100.00\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        Complete\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Incompelete\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n+\r\n+                                        <td className=\"\">\r\n+                                            <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n+                                                {\r\n+                                                empdata.visa_status === \"onboard\" ? (\r\n+                                                    <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n+                                                        On Board\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"documentation\" ? (\r\n+                                                    <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n+                                                        Documentation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file preparation\" ? (\r\n+                                                    <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Preparation\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file review\" ? (\r\n+                                                    <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Review\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file submission\" ? (\r\n+                                                    <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Submission\r\n+                                                    </span>\r\n+                                                ) : empdata.visa_status === \"file decision\" ? (\r\n+                                                    <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n+                                                        File Decision\r\n+                                                    </span>\r\n+                                                ) : (\r\n+                                                    <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                                                        NA\r\n+                                                    </span>\r\n+                                                )\r\n+                                            } </p>\r\n+                                        </td>\r\n+\r\n+                                        {/* Calulation to get user is new or retained */}\r\n+                                        {/* <td className=\" py-5\">\r\n+                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n+                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n+                          </p>\r\n+                      </td> */}\r\n+\r\n+                                        <td className=\" py-5 min-width-px-100\">\r\n+                                            <div className={\"btn-group button_group\"}\r\n+                                                role=\"group\"\r\n+                                                aria-label=\"Basic example\">\r\n+                                                <button className={\r\n+                                                        user_type === \"company\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => editVisa(empdata)\r\n+                                                    }\r\n+                                                    title=\"Update Visa status\">\r\n+                                                    <span className=\"text-gray px-2\"><LiaCcVisa/></span>\r\n+                                                    {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */} </button>\r\n+\r\n+                                                <button className={\r\n+                                                        props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"\r\n+                                                    }\r\n+                                                    onClick={\r\n+                                                        () => AddDoucument(empdata)\r\n+                                                    }\r\n+                                                    title=\"Documents\">\r\n+\r\n+                                                    <span className=\"text-gray\"><GrDocumentUser/></span>\r\n+                                                    {/* <span className=\"fas fa-file text-gray\"></span> */} </button>\r\n+                                            </div>\r\n+                                        </td>\r\n+\r\n+                                    </tr>\r\n+                                )))\r\n+                            } </tbody>\r\n+                        </table>\r\n+                    )\r\n+                } </div>\r\n+                <div className=\"pt-2\">\r\n+\r\n+                    <Pagination nPages={nPages}\r\n+                        currentPage={currentPage}\r\n+                        setCurrentPage={setCurrentPage}\r\n+                        total={totalData}\r\n+                        count={\r\n+                            employeeData.length\r\n+                        }/>\r\n+                </div>\r\n+            </div>\r\n+\r\n+        </>\r\n+    );\r\n+}\r\n"
                }
            ],
            "date": 1693213004593,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { GetEmployeeVisaList } from \"../../api/api\";\r\nimport moment from \"moment\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Pagination from \"../common/pagination\";\r\nimport DocumentModal from \"../forms/admin/EmployeeDocumentModal\";\r\nimport Loader from \"../common/loader\";\r\nimport VisaStatus from \"../forms/user/visaStatus\";\r\nimport { toast } from \"react-toastify\";\r\nimport { LiaCcVisa } from \"react-icons/lia\"\r\nimport { GrDocumentUser } from \"react-icons/gr\"\r\nexport default function VisaTable(props) {\r\n    /*Show modal states */\r\n    let [apiCall, setApiCall] = useState(false);\r\n    let [isLoading, setIsLoading] = useState(true);\r\n    const [documentModal, setDocumentModal] = useState(false);\r\n    let [showVisaModal, setVisaModal] = useState(false);\r\n    /*data and id states */\r\n    const [employeeData, setemployeeData] = useState([]);\r\n    let [employeeId, setemployeeId] = useState();\r\n    // let [lmiaStatus, setLmiaStatus] = useState();\r\n    /*Pagination states */\r\n    const [totalData, setTotalData] = useState(\"\");\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [recordsPerPage] = useState(10);\r\n    /*Shorting states */\r\n    const [columnName, setcolumnName] = useState(\"employee_id\");\r\n    const [sortOrder, setSortOrder] = useState(\"DESC\");\r\n    /* Function to get Employee visa data*/\r\n    const EmpData = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const userData = await GetEmployeeVisaList(\r\n                props.search,\r\n                props.VisStatusFilterValue,\r\n                props.VisaCountryFilterValue,\r\n                props.IntrestedFilterValue,\r\n                props.search ||\r\n                    props.VisStatusFilterValue ||\r\n                    props.VisaCountryFilterValue ||\r\n                    props.IntrestedFilterValue\r\n                    ? 1\r\n                    :\r\n                    currentPage,\r\n                recordsPerPage,\r\n                columnName,\r\n                sortOrder,\r\n                props.employee_id\r\n            );\r\n            // console.log(userData.data)\r\n            if (userData.data.data.length === 0) {\r\n                setemployeeData([]);\r\n                setIsLoading(false);\r\n            } else {\r\n                setemployeeData(userData.data.data);\r\n                setTotalData(userData.data.total_rows);\r\n                if(res === \"user_profile\"){\r\n                    props.setVisaStatus(userData.data.data)\r\n                }\r\n                setIsLoading(false);\r\n            }\r\n        } catch (err) {\r\n            toast.error(\"Something went wrong\", {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n                autoClose: 1000,\r\n            });\r\n            setIsLoading(false)\r\n        }\r\n    };\r\n\r\n    /*Render function to get the employee data*/\r\n    useEffect(() => {\r\n        EmpData();\r\n        if (props.apiCall === true || apiCall === true) {\r\n            props.setApiCall(false);\r\n            setApiCall(false);\r\n        }\r\n    }, [\r\n        props.search,\r\n        props.VisStatusFilterValue,\r\n        props.VisaCountryFilterValue,\r\n        props.IntrestedFilterValue,\r\n        currentPage,\r\n        recordsPerPage,\r\n        columnName,\r\n        sortOrder,\r\n        props.apiCall,\r\n        apiCall,\r\n    ]);\r\n\r\n    /* Function to show the single data to update Employee*/\r\n    const editVisa = (e) => {\r\n        setVisaModal(true);\r\n        setemployeeId(e);\r\n    };\r\n\r\n    /*Function to open add Document up modal */\r\n    const AddDoucument = (e) => {\r\n        setDocumentModal(true);\r\n        setemployeeId(e.employee_id);\r\n        // setLmiaStatus(e.lmia_status)\r\n    };\r\n\r\n    /*Pagination Calculation */\r\n    const nPages = Math.ceil(totalData / recordsPerPage);\r\n\r\n    /*Sorting Function */\r\n    const handleSort = (columnName) => {\r\n        setSortOrder(sortOrder === \"DESC\" ? \"ASC\" : \"DESC\");\r\n        setcolumnName(columnName);\r\n        setCurrentPage(1)\r\n    };\r\n\r\n    return (\r\n        <>\r\n\r\n            {showVisaModal ? (\r\n                <VisaStatus\r\n                    show={showVisaModal}\r\n                    employeeData={employeeId}\r\n                    apiCall={apiCall}\r\n                    setApiCall={setApiCall}\r\n                    close={() => setVisaModal(false)}\r\n                />\r\n            ) : null}\r\n            {documentModal ? (\r\n                <DocumentModal\r\n                    show={documentModal}\r\n                    close={() => setDocumentModal(false)}\r\n                    employee_id={employeeId}\r\n                    job={\"no\"}\r\n                // lmia={lmiaStatus}\r\n                />\r\n            ) : null}\r\n            <div className=\"bg-white shadow-8 datatable_div  pt-7 rounded pb-8 px-2 \">\r\n                <div className=\"table-responsive main_table_div\">\r\n                    {isLoading ? (\r\n                        <Loader />\r\n                    ) : (\r\n                        <table className=\"table table-striped main_data_table\">\r\n                            <thead>\r\n                                <tr className=\"\">\r\n                                    <th\r\n                                        scope=\"col\"\r\n                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n                                    >\r\n                                        EID\r\n                                    </th>\r\n                                    <th\r\n                                        scope=\"col\"\r\n                                        className=\" border-0 font-size-4 font-weight-normal\"\r\n                                    >\r\n                                        <Link\r\n                                            to={\"\"}\r\n                                            onClick={() => {\r\n                                                handleSort(\"name\");\r\n                                                setCurrentPage(1);\r\n                                            }}\r\n                                            className=\"text-gray\"\r\n                                            title=\"Sort by Name\"\r\n                                        >\r\n                                            Name\r\n                                        </Link>\r\n                                    </th>\r\n                                    <th\r\n                                        scope=\"col\"\r\n                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n                                    >\r\n                                        <Link\r\n                                            to={\"\"}\r\n                                            onClick={() => {\r\n                                                handleSort(\"contact_no\");\r\n                                                setCurrentPage(1);\r\n                                            }}\r\n                                            className=\"text-gray\"\r\n                                            title=\"Sort by Contact\"\r\n                                        >\r\n                                            Contact\r\n                                        </Link>\r\n                                    </th>\r\n                                    {props.heading === \"Dashboard\" ? (\r\n                                        \"\"\r\n                                    ) : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            <Link\r\n                                                to={\"\"}\r\n                                                onClick={() => {\r\n                                                    handleSort(\"language\");\r\n                                                    setCurrentPage(1);\r\n                                                }}\r\n                                                className=\"text-gray\"\r\n                                                title=\"Sort by Languages\"\r\n                                            >\r\n                                                Languages\r\n                                            </Link>\r\n                                        </th>\r\n                                    )}\r\n                                    {props.heading === \"Dashboard\" ? (\r\n                                        \"\"\r\n                                    ) : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            <Link\r\n                                                to={\"\"}\r\n                                                onClick={() => {\r\n                                                    handleSort(\"interested_in\");\r\n                                                    setCurrentPage(1);\r\n                                                }}\r\n                                                className=\"text-gray\"\r\n                                                title=\"Sort by interested in\"\r\n                                            >\r\n                                                Interested in\r\n                                            </Link>\r\n                                        </th>\r\n                                    )}\r\n                                    {props.heading === \"Dashboard\" ? (\r\n                                        \"\"\r\n                                    ) : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            <Link\r\n                                                to={\"\"}\r\n                                                onClick={() => {\r\n                                                    handleSort(\"visa_country\");\r\n                                                    setCurrentPage(1);\r\n                                                }}\r\n                                                className=\"text-gray\"\r\n                                                title=\"Sort by visa country\"\r\n                                            >\r\n                                                Visa country\r\n                                            </Link>\r\n                                        </th>\r\n                                    )}\r\n                                    {props.heading === \"Dashboard\" ? (\r\n                                        \"\"\r\n                                    ) : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            <Link\r\n                                                to={\"\"}\r\n                                                onClick={() => {\r\n                                                    handleSort(\"experience\");\r\n                                                    setCurrentPage(1);\r\n                                                }}\r\n                                                className=\"text-gray\"\r\n                                                title=\"Sort by Experience\"\r\n                                            >\r\n                                                Experience\r\n                                            </Link>\r\n                                        </th>\r\n                                    )}\r\n                                    <th\r\n                                        scope=\"col\"\r\n                                        className=\"border-0 font-size-4 font-weight-normal\"\r\n                                    >\r\n                                        Profile\r\n                                    </th>\r\n                                    {props.visa === \"yes\" ? null : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            Status\r\n                                        </th>\r\n                                    )}\r\n                                    {props.heading === \"Dashboard\" ? (\r\n                                        \"\"\r\n                                    ) : (\r\n                                        <th\r\n                                            scope=\"col\"\r\n                                            className=\"border-0 font-size-4 font-weight-normal\"\r\n                                        >\r\n                                            Action\r\n                                        </th>\r\n                                    )}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {/* Map function to show the data in the list*/}\r\n                                {totalData === 0 || employeeData.length === 0 ? (\r\n                                    <tr>\r\n                                        <th className=\"bg-white\"></th>\r\n                                        <th className=\"bg-white\"></th>\r\n                                        {props.heading === \"Dashboard\" ? (\r\n                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n                                        ) : (\r\n                                            <th className=\"bg-white\"></th>\r\n                                        )}\r\n                                        <th className=\"bg-white\"></th>\r\n                                        {props.heading === \"Dashboard\" ? null : (\r\n                                            <th className=\"bg-white text-center\">No Data Found</th>\r\n                                        )}\r\n                                        <th className=\"bg-white\"></th>\r\n                                        {props.heading !== \"Dashboard\" ? (\r\n                                            <>\r\n                                                <th className=\"bg-white\"></th>\r\n                                                <th className=\"bg-white\"></th>\r\n                                                <th className=\"bg-white\"></th>\r\n                                                <th className=\"bg-white\"></th>\r\n                                            </>\r\n                                        ) : (\r\n                                            \"\"\r\n                                        )}\r\n                                    </tr>\r\n                                ) : (\r\n                                    (employeeData || []).map((empdata) => (\r\n                                        <tr className=\"applicant_row\" key={empdata.employee_id}>\r\n                                            <td className=\" py-5\">\r\n                                                <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                    <Link\r\n                                                        className=\"text-dark\" to={`/${empdata.employee_id}`}>\r\n                                                        {empdata.employee_id}\r\n                                                    </Link>\r\n                                                </p>\r\n                                            </td>\r\n                                            <td className=\" py-5\">\r\n                                                <div className=\"d-flex profile_box gx-2\">\r\n                                                    <div className=\"media  align-items-center\">\r\n                                                        <div className=\"circle-36 mx-auto overflow-hidden\">\r\n                                                            {empdata.profile_photo === null ? (\r\n                                                                <img\r\n                                                                    src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\r\n                                                                    alt=\"\"\r\n                                                                    className=\"w-100\"\r\n                                                                />\r\n                                                            ) : (\r\n                                                                <img\r\n                                                                    src={empdata.profile_photo}\r\n                                                                    alt=\"\"\r\n                                                                    className=\"w-100\"\r\n                                                                />\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div\r\n                                                        title=\"Employee Details\"\r\n                                                    >\r\n                                                        {empdata.name === null ? (\r\n                                                            <div className=\"font-size-3 mb-0 text-capitalize\">\r\n                                                                Unavailable\r\n                                                            </div>\r\n                                                        ) : (\r\n                                                            <div className=\" mb-0\">\r\n                                                                <p className=\"m-0 text-black-2 font-weight-bold text-capitalize\">\r\n\r\n                                                                    <Link\r\n                                                                        className=\"text-dark\"\r\n                                                                        to={`/${empdata.employee_id}`}>\r\n                                                                        {empdata.name}\r\n                                                                    </Link>\r\n                                                                </p>\r\n                                                                <p className=\"text-gray font-size-2 m-0 text-capitalize\">\r\n                                                                    {empdata.gender === \"female\" ? \"F\" : empdata.gender === \"male\" ? \"M\" : \"O\"} (\r\n                                                                    {empdata.marital_status + \", \"}\r\n                                                                    {/*Calculation of age from date of birth*/}\r\n                                                                    {moment().diff(\r\n                                                                        empdata.date_of_birth,\r\n                                                                        \"years\"\r\n                                                                    )}\r\n                                                                    Y)\r\n                                                                    {empdata.is_featured === \"1\" ? (\r\n                                                                        <span className=\"bg-orange text-white featured_tag\">\r\n\r\n                                                                            Featured\r\n                                                                        </span>\r\n                                                                    ) : null}\r\n                                                                    {empdata.created_by_admin === \"0\" ? (\r\n                                                                        <span className=\"bg-info text-white web_tag\">\r\n                                                                            Web\r\n                                                                        </span>\r\n                                                                    ) : null}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"py-5 \">\r\n                                                {empdata.contact_no === null ? (\r\n                                                    <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n                                                ) : (\r\n                                                    <p className=\"m-0\">\r\n                                                        +\r\n                                                        <Link\r\n                                                            className=\"text-dark\"\r\n                                                            to={`tel:${empdata.contact_no}`}\r\n                                                        >\r\n                                                            {empdata.contact_no}\r\n                                                        </Link>\r\n                                                    </p>\r\n                                                )}\r\n                                                <h3 className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                    <p className=\"text-gray font-size-2 m-0\">\r\n                                                        <Link\r\n                                                            className=\"text-dark\"\r\n                                                            to={`mailto:${empdata.email}`}\r\n                                                        >\r\n                                                            {empdata.email}\r\n                                                        </Link>\r\n                                                    </p>\r\n                                                </h3>\r\n                                            </td>\r\n\r\n                                            {props.heading === \"Dashboard\" ? (\r\n                                                \"\"\r\n                                            ) : (\r\n                                                <td className=\" py-5\">\r\n                                                    {empdata.language === null ? (\r\n                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n                                                    ) : (\r\n                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                            {empdata.language}\r\n                                                        </p>\r\n                                                    )}\r\n                                                </td>\r\n                                            )}\r\n                                            {props.heading === \"Dashboard\" ? (\r\n                                                \"\"\r\n                                            ) : (\r\n                                                <td className=\" py-5\">\r\n                                                    {empdata.interested_in === null ? (\r\n                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n                                                    ) : (\r\n                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n                                                            {empdata.interested_in}\r\n                                                        </p>\r\n                                                    )}\r\n                                                </td>\r\n                                            )}\r\n                                            {props.heading === \"Dashboard\" ? (\r\n                                                \"\"\r\n                                            ) : (\r\n                                                <td className=\" py-5\">\r\n                                                    {empdata.visa_country === null || empdata.visa_country === \"\" ? (\r\n                                                        <p className=\"font-size-3  mb-0\">Unavailable</p>\r\n                                                    ) : (\r\n                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0 text-truncate\">\r\n                                                            {empdata.visa_country}\r\n                                                        </p>\r\n                                                    )}\r\n                                                </td>\r\n                                            )}\r\n                                            {props.heading === \"Dashboard\" ? (\r\n                                                \"\"\r\n                                            ) : (\r\n                                                <td className=\" py-5\">\r\n                                                    {empdata.experience === null ? (\r\n                                                        <p className=\"font-size-3 mb-0\">Unavailable</p>\r\n                                                    ) : (\r\n                                                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                            {empdata.experience} Years\r\n                                                        </p>\r\n                                                    )}\r\n                                                </td>\r\n                                            )}\r\n                                            <td className=\" py-5\">\r\n                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n                                                    {empdata.profile_complete === \"100.00\" ? (\r\n                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n                                                            Complete\r\n                                                        </span>\r\n                                                    ) : (\r\n                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n                                                            Incompelete\r\n                                                        </span>\r\n                                                    )}\r\n                                                </p>\r\n                                            </td>\r\n\r\n                                            <td className=\"\">\r\n                                                <p className=\"font-size-2 font-weight-normal text-black-2 mb-0\">\r\n                                                    {empdata.visa_status === \"onboard\" ? (\r\n                                                        <span className=\"p-1 bg-coral-opacity-visible text-white text-center w-100 border rounded-pill\">\r\n                                                            On Board\r\n                                                        </span>\r\n                                                    ) : empdata.visa_status === \"documentation\" ? (\r\n                                                        <span className=\"p-1 bg-warning text-white text-center w-100 border rounded-pill\">\r\n                                                            Documentation\r\n                                                        </span>\r\n                                                    ) : empdata.visa_status === \"file preparation\" ? (\r\n                                                        <span className=\"p-1 bg-info text-white text-center w-100 border rounded-pill\">\r\n                                                            File Preparation\r\n                                                        </span>\r\n                                                    ) : empdata.visa_status === \"file review\" ? (\r\n                                                        <span className=\"p-1 bg-primary-opacity-8 text-white text-center w-100 border rounded-pill\">\r\n                                                            File Review\r\n                                                        </span>\r\n                                                    ) : empdata.visa_status === \"file submission\" ? (\r\n                                                        <span className=\"p-1 bg-dark text-white text-center w-100 border rounded-pill\">\r\n                                                            File Submission\r\n                                                        </span>\r\n                                                    ) : empdata.visa_status === \"file decision\" ? (\r\n                                                        <span className=\"p-1 bg-gray text-white text-center w-100 border rounded-pill\">\r\n                                                            File Decision\r\n                                                        </span>\r\n                                                    ) : (\r\n                                                        <span className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                                                            NA\r\n                                                        </span>\r\n                                                    )}\r\n                                                </p>\r\n                                            </td>\r\n\r\n                                            {/* Calulation to get user is new or retained */}\r\n                                            {/* <td className=\" py-5\">\r\n                        <p className=\"font-size-3 font-weight-normal text-black-2 mb-0\">\r\n                          {(new Date(empdata.created_at) >= oneMonthAgo && new Date(empdata.created_at) <= currentDate) === true ? \"New\" : \"Retained\"}                        \r\n                          </p>\r\n                      </td> */}\r\n\r\n                                            <td className=\" py-5 min-width-px-100\">\r\n                                                <div\r\n                                                    className=\"btn-group button_group\"\r\n                                                    role=\"group\"\r\n                                                    aria-label=\"Basic example\"\r\n                                                >\r\n                                                    <button\r\n                                                        className=\"btn btn-outline-info action_btn\"\r\n                                                        onClick={() => editVisa(empdata)}\r\n                                                        title=\"Update Visa status\"\r\n                                                    >\r\n                                                        <span className=\"text-gray px-2\"><LiaCcVisa /></span>\r\n                                                        {/* <span className=\"fab fa-cc-visa text-gray px-2\"></span> */}\r\n                                                    </button>\r\n\r\n                                                    <button\r\n                                                        className={props.page === \"user_profile\" ? \"d-none\" : \"btn btn-outline-info action_btn\"}\r\n                                                        onClick={() =>\r\n                                                            AddDoucument(empdata)\r\n                                                        }\r\n                                                        title=\"Documents\"\r\n                                                    >\r\n\r\n                                                        <span className=\"text-gray\"><GrDocumentUser /></span>\r\n                                                        {/* <span className=\"fas fa-file text-gray\"></span> */}\r\n                                                    </button>\r\n                                                </div>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    ))\r\n                                )}\r\n                            </tbody>\r\n                        </table>\r\n                    )}\r\n                </div>\r\n                <div className=\"pt-2\">\r\n\r\n                    <Pagination\r\n                        nPages={nPages}\r\n                        currentPage={currentPage}\r\n                        setCurrentPage={setCurrentPage}\r\n                        total={totalData}\r\n                        count={employeeData.length}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}\r\n"
        }
    ]
}
{
    "sourceFile": "src/components/company/employeeBox.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1693026991044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1693026991044,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { getallEmployeeData } from \"../../api/api\";\nimport moment from \"moment\";\nfunction EmployeeBox({ featured, categorye, Skill, Swap, Exp, candian }) {\n  let [employeeData, setEmployeeData] = useState([]);\n  let [totalData, setTotalData] = useState([]);\n  let skillList = [];\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const search = searchParams.get(\"search\");\n  /*Api function to get the employee data */\n  const EmpData = async () => {\n    try {\n      const userData = await getallEmployeeData(\n        search,\n        Exp,\n        Skill,\n        \"\",\n        1,\n        10,\n        \"\",\n        \"\",\n        \"\",\n        \"\",\n        \"\",\n        \"\",\n        categorye,\n        Swap,\n        candian);\n      if (userData.data.length === 0) {\n        setEmployeeData([]);\n      } else {\n        if (location.pathname === \"/company\") {\n          if (featured === \"yes\") {\n            setEmployeeData(userData.data.filter((item) => item.is_featured === \"1\"));\n          }\n        } else {\n          setEmployeeData(userData.data);\n        }\n        setTotalData(userData.totalData);\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  };\n  /*Render Method*/\n  useEffect(() => {\n    EmpData();\n    //Function to replace the url path after searching Employee\n    if (search) {\n      const newUrl = window.location.pathname;\n      window.history.replaceState({}, document.title, newUrl);\n    }\n  }, [search, categorye, Skill, Swap, Exp, candian]);\n  return (\n    <>\n      {/* <!-- Single Featured Job --> */}\n      {totalData === 0 || employeeData.length === 0 ? (\n        <div className=\"pt-9 px-xl-9 px-lg-7 px-7 pb-7 text-center\">\n          <h4>No Data Found</h4>\n        </div>\n      ) : (\n        (employeeData || []).map((empdata) => (\n          <div\n            className=\"col-xxl-4 col-xl-4 col-lg-6 col-md-6 job_box p-3\"\n            data-aos=\"fade-right\"\n            data-aos-duration=\"800\"\n            data-aos-once=\"true\"\n            key={empdata.employee_id}\n          >\n            <div className=\"pt-9 px-xl-10 px-lg-10 px-8 pb-7 light-mode-texts bg-white rounded hover-shadow-3 hover-border-green position-relative\">\n              {empdata.interested_in === \"swap\" ? (\n                <span className=\"job_swap_label\">SWEP</span>\n              ) : null}\n              <div className=\"row job_header m-0 align-items-center\">\n                {empdata.is_featured === \"1\" ? (\n                  <span className=\"bg-orange text-white featured_tag\">\n                    Featured\n                  </span>\n                ) : null}\n                <div className=\"media align-items-center company_box col-9 p-0\">\n                  <div className=\"text_box text-left\">\n                    <img\n                      className=\"rounded-circle company_logo\"\n                      src={\n                        empdata.profile_photo === null\n                          ? \"image/user.png\"\n                          : empdata.profile_photo\n                      }\n                      width=\"50\"\n                      height=\"50\"\n                      alt=\"\"\n                    />\n                  </div>\n                  <Link\n                    className=\"text_box text-left w-100\"\n                    to={`/${empdata.employee_id}`}\n                    // onClick={() =>\n                    //   localStorage.setItem(\"employee_id\", empdata.employee_id)\n                    // }\n                  >\n                    <p className=\"font-size-3 text-default-color line-height-2 m-0 text-capitalize\">\n                      {empdata.name}\n                      <span className=\"age_gender font-size-3 text-smoke\">\n                        ( {empdata.gender === \"female\" ? \"F\" : \"M\"}{\" \"}\n                        {moment().diff(empdata.date_of_birth, \"years\")}\n                        Y)\n                      </span>\n                    </p>\n                    <h3 className=\"mb-0 font-size-6 heading-dark-color text-capitalize\">\n                      {empdata.education}\n                    </h3>\n                  </Link>\n                </div>\n                <div className=\"media justify-content-md-end col-3 p-0\">\n                  <Link\n                    className=\"btn btn-secondary text-uppercase font-size-3 connect_btn\"\n                    data-toggle=\"modal\"\n                    data-target=\"#signup\"\n                    to={`/${empdata.employee_id}`}// to={\"/profile\"}\n                    // onClick={() =>\n                    //   localStorage.setItem(\"employee_id\", empdata.employee_id)\n                    // }\n                  >\n                    View\n                  </Link>\n                </div>\n                <div className=\"col-md-12 p-0 mt-2\">\n                  <ul className=\"d-flex list-unstyled mb-0 flex-wrap justify-content-md-start\">\n                    <li className=\"mt-2 mr-8 font-size-small text-black-2 d-flex\">\n                      <span className=\"mr-4\">\n                        <img\n                          src=\"image/svg/icon-loaction-pin-black.svg\"\n                          alt=\"\"\n                        />\n                      </span>\n                      <span className=\"font-weight-semibold text-capitalize\">\n                        {empdata.current_location},\n                        {empdata.currently_located_country}\n                      </span>\n                    </li>\n                    <li className=\"mt-2 mr-8 font-size-small text-black-2 d-flex\">\n                      <span className=\"mr-4\">\n                        <img src=\"image/svg/icon-suitecase.svg\" alt=\"\" />\n                      </span>\n                      <span className=\"font-weight-semibold\">\n                        {empdata.experience === \"fresher\"\n                          ? empdata.experience\n                          : empdata.experience + \"Y\"}{\" \"}\n                        Experience\n                      </span>\n                    </li>\n                    <li className=\"mt-2 mr-8 font-size-small text-black-2 d-flex\">\n                      <span className=\"mr-4\">\n                        <img src=\"image/icons/language.svg\" alt=\"\" />\n                      </span>\n                      <span className=\"font-weight-semibold text-capitalize\">\n                        {empdata.language}\n                      </span>\n                    </li>\n                    <li className=\"mt-2 mr-8 font-size-small text-black-2 d-flex\">\n                      <span className=\"mr-4\">\n                        <img src=\"image/svg/icon-suitecase.svg\" alt=\"\" />\n                      </span>\n                      <span className=\"font-weight-semibold text-capitalize\">\n                        {empdata.nationality}\n                      </span>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"row pt-4\">\n                <div className=\"col-md-12 text-left\">\n                  <p className=\"text-truncate-1 \">{empdata.description}</p>\n                </div>\n                <div className=\"col-md-12\">\n                  <ul className=\"d-flex list-unstyled mr-n3 flex-wrap\">\n                    {empdata.skill\n                      ? ((skillList = empdata.skill.split(\",\")),\n                        (skillList || []).map((skill, i) => (\n                          <li key={i}>\n                            <span className=\"text-capitalize bg-polar mt-2 text-black-2  mr-6 px-7 font-size-3 rounded-3 min-height-32 d-flex align-items-center\">\n                              {skill}\n                            </span>\n                          </li>\n                        )))\n                      : null}\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))\n      )}\n      {/* <!-- End Single Featured Job --> */}\n    </>\n  );\n}\nexport default EmployeeBox;\n"
        }
    ]
}
{
    "sourceFile": "src/components/company/profile.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1709200344973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1709200355423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,269 @@\n+import React, { useState, useEffect } from \"react\";\n+import KycComplianceDetails from \"../forms/employer/kyc\";\n+import EmployeeHeader from \"../common/header\";\n+import EmployeeFooter from \"../common/footer\";\n+import CustomButton from \"../common/button\";\n+import CompanyDetailPage from \"./companydetail\";\n+import CompanyDetails from \"../forms/employer/companyDetail\";\n+import { EmployerDetails } from \"../../api/api\";\n+import moment from \"moment\";\n+import { ToastContainer } from \"react-toastify\";\n+import Loader from \"../common/loader\";\n+import { Link } from \"react-router-dom\";\n+import EmployerDocumentModal from \"../forms/admin/EmployerDocumetModal\";\n+import { PiPencilDuotone } from \"react-icons/pi\";\n+function CompanyProfile(props) {\n+  const user_type = localStorage.getItem(\"userType\");\n+  const company_id = localStorage.getItem(\"company_id\");\n+  /*Show modal and data state */\n+  let [apiCall, setApiCall] = useState(false);\n+  let [isLoading, setIsLoading] = useState(true);\n+  let [showDoc, setShowDoc] = useState(false);\n+  const [showCompanyInfoModal, setShowCompanyInfoModal] = useState(false);\n+  const [showKycComplainDetailsModal, setShowKycComplainDetailsModal] =\n+    useState(false);\n+  const [employerData, setEmployerData] = useState(\"\");\n+  const [employerKycData, setEmployerKycData] = useState(\"\");\n+\n+  /*Function to get employer data */\n+  const EmployerData = async () => {\n+    try {\n+      let userData = await EmployerDetails(props.employerId);\n+      localStorage.setItem(\n+        \"profile_photo\",\n+        userData.data.company_detail[0].logo\n+      );\n+      if (userData === undefined) {\n+        setEmployerData(\"\");\n+        setEmployerKycData(\"\");\n+      } else if (\n+        userData.data.kyc_detail.length === 0 ||\n+        userData.data.kyc_detail === undefined ||\n+        userData.data.kyc_detail === \"0\" ||\n+        userData.data.kyc_detail === null\n+      ) {\n+        setEmployerKycData(\"\");\n+        setEmployerData(userData.data.company_detail[0]);\n+        setIsLoading(false);\n+      } else {\n+        setEmployerData(userData.data.company_detail[0]);\n+        setEmployerKycData(userData.data.kyc_detail[0]);\n+        setIsLoading(false);\n+      }\n+    } catch (err) {\n+      console.log(err);\n+    }\n+  };\n+  /*Render method to get employer data */\n+  useEffect(() => {\n+    EmployerData();\n+    if (apiCall === true) {\n+      setApiCall(false);\n+    }\n+  }, [apiCall]);\n+\n+  return (\n+    <div>\n+      <ToastContainer />\n+      {user_type !== \"admin\" ? <EmployeeHeader /> : null}\n+      <div\n+        className={\n+          user_type === \"admin\"\n+            ? \"bg-default-2 mt-5\"\n+            : \"bg-default-2 pt-30 pt-lg-22 pb-lg-27\"\n+        }\n+      >\n+        <div className=\"container\">\n+          {/* <!-- back Button --> */}\n+          {/* <!-- back Button End --> */}\n+          {isLoading ? (\n+            <div className=\"table-responsive main_table_div\">\n+              <Loader />{\" \"}\n+            </div>\n+          ) : (\n+            <div\n+              className={\n+                user_type === \"admin\"\n+                  ? \"row bg-white rounded-4 pt-12 shadow-9\"\n+                  : \"row bg-white rounded-4 pt-11 shadow-9\"\n+              }\n+            >\n+              {/* <!-- Company Profile --> */}\n+\n+              <div className=\"w-100 row m-0 align-items-center px-12 mb-8 text-center text-xs-left\">\n+                <div>aaaaaaaaaaaaa</div>\n+                <div className=\"media align-items-center company_box col-10 p-0\">\n+                  <div className=\"text_box text-left\">\n+                    <img\n+                      className=\"company_logo\"\n+                      src={\n+                        employerData.logo === null\n+                          ? \"https://macsnh.org/wp-content/uploads/2019/08/demo-logo-black.png\"\n+                          : employerData.logo\n+                      }\n+                      alt=\"\"\n+                    />\n+                  </div>\n+                  <div className=\"text_box text-left w-100 text-capitalize\">\n+                    <h3 className=\"mb-0 font-size-6 heading-dark-color\">\n+                      {employerData.company_name}\n+                    </h3>\n+                    <p className=\"font-size-3 text-default-color line-height-2 m-0\">\n+                      {employerData.industry}\n+                    </p>\n+                  </div>\n+                </div>\n+                <div className=\"d-flex  justify-content-between\">\n+                  <div\n+                    className=\"company_info_box text-md-right fd-column col-2 m-0 p-0 px-3\"\n+                    title=\"Edit KYC Details\"\n+                  >\n+                    <CustomButton\n+                      className=\"font-size-3 rounded-3 btn-primary border-0\"\n+                      onClick={() => setShowKycComplainDetailsModal(true)}\n+                    >\n+                      <PiPencilDuotone />\n+                    </CustomButton>\n+                  </div>\n+                  <CustomButton\n+                    className=\" font-size-4 rounded-3 btn-primary border-0\"\n+                    onClick={() => setShowDoc(true)}\n+                  >\n+                    Add Document\n+                  </CustomButton>\n+                </div>\n+              </div>\n+              <div className=\"text-capitalize company_detail_box w-100 row m-0 pl-12 pt-5 pb-7 pr-12 pr-xxl-12\">\n+                {employerData.industry ? (\n+                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Industry\">\n+                    <i className=\"far fa-building mr-2\"></i>\n+                    {employerData.industry}\n+                  </div>\n+                ) : null}\n+                {employerData.corporation ? (\n+                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Business Type\">\n+                    <i className=\"fas fa-briefcase mr-2\"></i>\n+                    {employerData.corporation}\n+                  </div>\n+                ) : null}\n+                {employerData.company_size ? (\n+                  <div\n+                    className=\"font-size-3 mb-4 mr-10\"\n+                    title=\"Client's team size\"\n+                  >\n+                    <i className=\"fas fa-user-friends mr-2\"></i>\n+                    {employerData.company_size}\n+                  </div>\n+                ) : null}\n+                {employerData.company_start_date ? (\n+                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Est. Since\">\n+                    <i className=\"fas fa-business-time mr-2\"></i>\n+                    {moment(employerData.company_start_date).format(\"YYYY\")}\n+                  </div>\n+                ) : null}\n+                {employerData.email ? (\n+                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Website URL\">\n+                    <i className=\"fas fa-globe mr-2\"></i>\n+                    <Link\n+                      className=\"text-dark\"\n+                      to={`mailto:${employerData.email}`}\n+                    >\n+                      {employerData.email}\n+                    </Link>\n+                  </div>\n+                ) : null}\n+                {employerData.vacancy_for_post ? (\n+                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Hiring for\">\n+                    <i className=\"fas fa-bullhorn mr-2\"></i>\n+                    {employerData.vacancy_for_post}\n+                  </div>\n+                ) : null}\n+                {employerKycData === \"\" ? null : (\n+                  <>\n+                    {employerKycData.pan_no ? (\n+                      <div className=\"font-size-3 mb-4 mr-10\" title=\"PAN\">\n+                        <span className=\"mr-2 font-weight-bold\">PAN</span>\n+                        {employerKycData.pan_no}\n+                      </div>\n+                    ) : null}\n+                    {employerKycData.tan_number ? (\n+                      <div className=\"font-size-3 mb-4 mr-10\" title=\"TAN\">\n+                        <span className=\"mr-2 font-weight-bold\">TAN</span>\n+                        {employerKycData.tan_number}\n+                      </div>\n+                    ) : null}\n+                    {employerKycData.gstin ? (\n+                      <div className=\"font-size-3 mb-4 mr-10\" title=\"GSTIN\">\n+                        <span className=\"mr-2 font-weight-bold\">GSTIN</span>\n+                        {employerKycData.gstin}\n+                      </div>\n+                    ) : null}\n+                  </>\n+                )}\n+              </div>\n+              {/* <!-- Middle Body Start --> */}\n+              <div className=\"w-100 row m-0 pl-12 pt-10 pb-7 pr-12 pr-xxl-12 border-top\">\n+                <CompanyDetailPage\n+                  employerId={\n+                    user_type === \"company\" ? company_id : props.employerId\n+                  }\n+                />\n+\n+                <div className=\"col-md-8 col-xl-9 col-lg-8 col-12 \">\n+                  <div>\n+                    <h4 className=\"text-black-2 mb-5 font-size-5 d-flex align-items-center justify-content-space-between\">\n+                      <span>About {employerData.company_name}</span>\n+                      <CustomButton\n+                        className=\"font-size-3 rounded-3 btn-primary border-0\"\n+                        onClick={() => setShowCompanyInfoModal(true)}\n+                      >\n+                        <PiPencilDuotone />\n+                      </CustomButton>\n+                    </h4>\n+                    <div className=\"pt-5 text-left\">\n+                      {employerData.about ? (\n+                        <p className=\"font-size-4 mb-8\">{employerData.about}</p>\n+                      ) : (\n+                        <p className=\"font-size-4 mb-8 text-center\">\n+                          No data Found\n+                        </p>\n+                      )}\n+                    </div>\n+                  </div>\n+                </div>\n+              </div>\n+            </div>\n+          )}\n+        </div>\n+      </div>\n+      {user_type !== \"admin\" ? <EmployeeFooter /> : null}\n+      {showCompanyInfoModal ? (\n+        <CompanyDetails\n+          employerId={user_type === \"company\" ? company_id : props.employerId}\n+          show={showCompanyInfoModal}\n+          apiCall={apiCall}\n+          setApiCall={setApiCall}\n+          close={() => setShowCompanyInfoModal(false)}\n+        />\n+      ) : null}\n+      {showKycComplainDetailsModal ? (\n+        <KycComplianceDetails\n+          employerId={user_type === \"company\" ? company_id : props.employerId}\n+          show={showKycComplainDetailsModal}\n+          apiCall={apiCall}\n+          setApiCall={setApiCall}\n+          close={() => setShowKycComplainDetailsModal(false)}\n+        />\n+      ) : null}\n+      {showDoc ? (\n+        <EmployerDocumentModal\n+          show={showDoc}\n+          close={() => setShowDoc(false)}\n+          employer_id={user_type === \"company\" ? company_id : props.employerId}\n+        />\n+      ) : null}\n+    </div>\n+  );\n+}\n+\n+export default CompanyProfile;\n"
                }
            ],
            "date": 1709200344973,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport KycComplianceDetails from \"../forms/employer/kyc\";\nimport EmployeeHeader from \"../common/header\";\nimport EmployeeFooter from \"../common/footer\";\nimport CustomButton from \"../common/button\";\nimport CompanyDetailPage from \"./companydetail\";\nimport CompanyDetails from \"../forms/employer/companyDetail\";\nimport { EmployerDetails } from \"../../api/api\";\nimport moment from \"moment\";\nimport { ToastContainer } from \"react-toastify\";\nimport Loader from \"../common/loader\";\nimport { Link } from \"react-router-dom\";\nimport EmployerDocumentModal from \"../forms/admin/EmployerDocumetModal\";\nimport { PiPencilDuotone } from \"react-icons/pi\";\nfunction CompanyProfile(props) {\n  const user_type = localStorage.getItem(\"userType\");\n  const company_id = localStorage.getItem(\"company_id\");\n  /*Show modal and data state */\n  let [apiCall, setApiCall] = useState(false);\n  let [isLoading, setIsLoading] = useState(true);\n  let [showDoc, setShowDoc] = useState(false);\n  const [showCompanyInfoModal, setShowCompanyInfoModal] = useState(false);\n  const [showKycComplainDetailsModal, setShowKycComplainDetailsModal] =\n    useState(false);\n  const [employerData, setEmployerData] = useState(\"\");\n  const [employerKycData, setEmployerKycData] = useState(\"\");\n\n  /*Function to get employer data */\n  const EmployerData = async () => {\n    try {\n      let userData = await EmployerDetails(props.employerId);\n      localStorage.setItem(\n        \"profile_photo\",\n        userData.data.company_detail[0].logo\n      );\n      if (userData === undefined) {\n        setEmployerData(\"\");\n        setEmployerKycData(\"\");\n      } else if (\n        userData.data.kyc_detail.length === 0 ||\n        userData.data.kyc_detail === undefined ||\n        userData.data.kyc_detail === \"0\" ||\n        userData.data.kyc_detail === null\n      ) {\n        setEmployerKycData(\"\");\n        setEmployerData(userData.data.company_detail[0]);\n        setIsLoading(false);\n      } else {\n        setEmployerData(userData.data.company_detail[0]);\n        setEmployerKycData(userData.data.kyc_detail[0]);\n        setIsLoading(false);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  /*Render method to get employer data */\n  useEffect(() => {\n    EmployerData();\n    if (apiCall === true) {\n      setApiCall(false);\n    }\n  }, [apiCall]);\n\n  return (\n    <div>\n      <ToastContainer />\n      {user_type !== \"admin\" ? <EmployeeHeader /> : null}\n      <div\n        className={\n          user_type === \"admin\"\n            ? \"bg-default-2 mt-5\"\n            : \"bg-default-2 pt-30 pt-lg-22 pb-lg-27\"\n        }\n      >\n        <div className=\"container\">\n          {/* <!-- back Button --> */}\n          {/* <!-- back Button End --> */}\n          {isLoading ? (\n            <div className=\"table-responsive main_table_div\">\n              <Loader />{\" \"}\n            </div>\n          ) : (\n            <div\n              className={\n                user_type === \"admin\"\n                  ? \"row bg-white rounded-4 pt-12 shadow-9\"\n                  : \"row bg-white rounded-4 pt-11 shadow-9\"\n              }\n            >\n              {/* <!-- Company Profile --> */}\n\n              <div className=\"w-100 row m-0 align-items-center px-12 mb-8 text-center text-xs-left\">\n                <div>aaaaaaaaaaaaa</div>\n                <div className=\"media align-items-center company_box col-10 p-0\">\n                  <div className=\"text_box text-left\">\n                    <img\n                      className=\"company_logo\"\n                      src={\n                        employerData.logo === null\n                          ? \"https://macsnh.org/wp-content/uploads/2019/08/demo-logo-black.png\"\n                          : employerData.logo\n                      }\n                      alt=\"\"\n                    />\n                  </div>\n                  <div className=\"text_box text-left w-100 text-capitalize\">\n                    <h3 className=\"mb-0 font-size-6 heading-dark-color\">\n                    <span>\n                        <b>{employerData.franchise}</b>\n                        <small>{employerData.company_name}</small>\n                      </span>\n                    </h3>\n                    <p className=\"font-size-3 text-default-color line-height-2 m-0\">\n                      {employerData.industry}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"d-flex  justify-content-between\">\n                  <div\n                    className=\"company_info_box text-md-right fd-column col-2 m-0 p-0 px-3\"\n                    title=\"Edit KYC Details\"\n                  >\n                    <CustomButton\n                      className=\"font-size-3 rounded-3 btn-primary border-0\"\n                      onClick={() => setShowKycComplainDetailsModal(true)}\n                    >\n                      <PiPencilDuotone />\n                    </CustomButton>\n                  </div>\n                  <CustomButton\n                    className=\" font-size-4 rounded-3 btn-primary border-0\"\n                    onClick={() => setShowDoc(true)}\n                  >\n                    Add Document\n                  </CustomButton>\n                </div>\n              </div>\n              <div className=\"text-capitalize company_detail_box w-100 row m-0 pl-12 pt-5 pb-7 pr-12 pr-xxl-12\">\n                {employerData.industry ? (\n                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Industry\">\n                    <i className=\"far fa-building mr-2\"></i>\n                    {employerData.industry}\n                  </div>\n                ) : null}\n                {employerData.corporation ? (\n                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Business Type\">\n                    <i className=\"fas fa-briefcase mr-2\"></i>\n                    {employerData.corporation}\n                  </div>\n                ) : null}\n                {employerData.company_size ? (\n                  <div\n                    className=\"font-size-3 mb-4 mr-10\"\n                    title=\"Client's team size\"\n                  >\n                    <i className=\"fas fa-user-friends mr-2\"></i>\n                    {employerData.company_size}\n                  </div>\n                ) : null}\n                {employerData.company_start_date ? (\n                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Est. Since\">\n                    <i className=\"fas fa-business-time mr-2\"></i>\n                    {moment(employerData.company_start_date).format(\"YYYY\")}\n                  </div>\n                ) : null}\n                {employerData.email ? (\n                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Website URL\">\n                    <i className=\"fas fa-globe mr-2\"></i>\n                    <Link\n                      className=\"text-dark\"\n                      to={`mailto:${employerData.email}`}\n                    >\n                      {employerData.email}\n                    </Link>\n                  </div>\n                ) : null}\n                {employerData.vacancy_for_post ? (\n                  <div className=\"font-size-3 mb-4 mr-10\" title=\"Hiring for\">\n                    <i className=\"fas fa-bullhorn mr-2\"></i>\n                    {employerData.vacancy_for_post}\n                  </div>\n                ) : null}\n                {employerKycData === \"\" ? null : (\n                  <>\n                    {employerKycData.pan_no ? (\n                      <div className=\"font-size-3 mb-4 mr-10\" title=\"PAN\">\n                        <span className=\"mr-2 font-weight-bold\">PAN</span>\n                        {employerKycData.pan_no}\n                      </div>\n                    ) : null}\n                    {employerKycData.tan_number ? (\n                      <div className=\"font-size-3 mb-4 mr-10\" title=\"TAN\">\n                        <span className=\"mr-2 font-weight-bold\">TAN</span>\n                        {employerKycData.tan_number}\n                      </div>\n                    ) : null}\n                    {employerKycData.gstin ? (\n                      <div className=\"font-size-3 mb-4 mr-10\" title=\"GSTIN\">\n                        <span className=\"mr-2 font-weight-bold\">GSTIN</span>\n                        {employerKycData.gstin}\n                      </div>\n                    ) : null}\n                  </>\n                )}\n              </div>\n              {/* <!-- Middle Body Start --> */}\n              <div className=\"w-100 row m-0 pl-12 pt-10 pb-7 pr-12 pr-xxl-12 border-top\">\n                <CompanyDetailPage\n                  employerId={\n                    user_type === \"company\" ? company_id : props.employerId\n                  }\n                />\n\n                <div className=\"col-md-8 col-xl-9 col-lg-8 col-12 \">\n                  <div>\n                    <h4 className=\"text-black-2 mb-5 font-size-5 d-flex align-items-center justify-content-space-between\">\n                      <span>About {employerData.company_name}</span>\n                      <CustomButton\n                        className=\"font-size-3 rounded-3 btn-primary border-0\"\n                        onClick={() => setShowCompanyInfoModal(true)}\n                      >\n                        <PiPencilDuotone />\n                      </CustomButton>\n                    </h4>\n                    <div className=\"pt-5 text-left\">\n                      {employerData.about ? (\n                        <p className=\"font-size-4 mb-8\">{employerData.about}</p>\n                      ) : (\n                        <p className=\"font-size-4 mb-8 text-center\">\n                          No data Found\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      {user_type !== \"admin\" ? <EmployeeFooter /> : null}\n      {showCompanyInfoModal ? (\n        <CompanyDetails\n          employerId={user_type === \"company\" ? company_id : props.employerId}\n          show={showCompanyInfoModal}\n          apiCall={apiCall}\n          setApiCall={setApiCall}\n          close={() => setShowCompanyInfoModal(false)}\n        />\n      ) : null}\n      {showKycComplainDetailsModal ? (\n        <KycComplianceDetails\n          employerId={user_type === \"company\" ? company_id : props.employerId}\n          show={showKycComplainDetailsModal}\n          apiCall={apiCall}\n          setApiCall={setApiCall}\n          close={() => setShowKycComplainDetailsModal(false)}\n        />\n      ) : null}\n      {showDoc ? (\n        <EmployerDocumentModal\n          show={showDoc}\n          close={() => setShowDoc(false)}\n          employer_id={user_type === \"company\" ? company_id : props.employerId}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default CompanyProfile;\n"
        }
    ]
}
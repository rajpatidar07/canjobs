{
    "sourceFile": "src/components/email/mailPaination.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1710313130849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1710313130849,
            "name": "Commit-0",
            "content": "import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction MailPagination({\n  nPages,\n  currentPage,\n  setCurrentPage,\n  total,\n  count,\n  pageToken,\n  setPageToken,\n}) {\n  // Create state to manage visible page numbers\n  const [visiblePageNumbers, setVisiblePageNumbers] = React.useState([]);\n  const [pageNumber, setPageNumber] = React.useState(1);\n\n  useEffect(() => {\n    // Calculate the start and end index for visible page numbers\n    const pageSize = 10;\n    const start = Math.max(1, pageNumber - Math.floor(pageSize / 2));\n    const end = Math.min(nPages, start + pageSize - 1);\n    // Update visible page numbers\n    const newVisiblePageNumbers = Array.from(\n      { length: end - start + 1 },\n      (_, i) => start + i\n    );\n    setVisiblePageNumbers(newVisiblePageNumbers);\n  }, [currentPage, nPages]);\n\n  // Function to handle pagination click\n  const handlePageClick = (token, no) => {\n    // console.log(token, no);\n    // Call API with the token to fetch data\n    // Update current page state\n    setCurrentPage(currentPage === 1 ? \"\" : token);\n    setPageNumber(no);\n    // Set another 10-digit number\n    setPageToken([]);\n  };\n  // console.log(pageNumber);\n  return (\n    <div>\n      {nPages > 1 && (\n        <nav aria-label=\"Page navigation example\">\n          <ul className=\"pagination pagination-hover-primary rounded-0 ml-n2\">\n            <li className=\"page-item px-1\">\n              <Link\n                onClick={() =>\n                  handlePageClick(pageToken[pageNumber - 2], pageNumber - 1)\n                }\n                className={\n                  currentPage === 1\n                    ? \"disabled-link page-link  font-size-3 py-2 font-weight-semibold px-3\"\n                    : \"page-link  font-size-3 py-2 font-weight-semibold px-3\"\n                }\n              >\n                <i className=\"fas fa-chevron-left\"></i>\n              </Link>\n            </li>\n            {visiblePageNumbers.map((pgNumber) => (\n              <li className=\"page-item px-1\" key={pgNumber}>\n                {/* {console.log(pageToken, \"Page no\", pgNumber)} */}\n                <Link\n                  onClick={() =>\n                    handlePageClick(pageToken[pgNumber - 2], pgNumber)\n                  }\n                  className={`page-link  font-size-3 py-2 font-weight-semibold px-3 ${\n                    pageNumber === pgNumber ? \"active \" : \"\"\n                  } `}\n                >\n                  {pgNumber}\n                </Link>\n              </li>\n            ))}\n            <li className=\"page-item px-1\">\n              <Link\n                onClick={() =>\n                  handlePageClick(pageToken[pageNumber + 1], pageNumber + 1)\n                }\n                className={\n                  pageNumber === nPages\n                    ? \"disabled-link page-link  font-size-3 py-2 font-weight-semibold px-3\"\n                    : \"page-link  font-size-3 py-2 font-weight-semibold px-3\"\n                }\n              >\n                <i className=\"fas fa-chevron-right\"></i>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      )}\n      <div className=\"d-flex justify-content-center\">\n        <small>\n          {count === \"1\" || count === 1\n            ? count + \" record \"\n            : count + \" records \"}\n          of {total} total records\n        </small>\n      </div>\n    </div>\n  );\n}\n\nexport default MailPagination;\n"
        }
    ]
}
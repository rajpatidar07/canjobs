{
    "sourceFile": ".history/src/components/forms/admin/payentForm_20240105105930.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1710503309445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1710503309445,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { ToastContainer } from \"react-toastify\";\n// import { useParams } from \"react-router-dom\";\nimport { GetPaymentList } from \"../../../api/api\";\nimport PayForm from \"./PayForm\";\n// import Loader from \"../../common/loader\";\nimport AddTransactionForm from \"./addTransactionForm\";\nexport default function PayentForm({ data, user_id, user_type }) {\n  const [apiCall, setApicall] = useState(true);\n  // const [loading, setLoading] = useState(true);\n  const [paymentList, setPaytemList] = useState([]);\n\n  let user = localStorage.getItem(\"userType\");\n\n  /*Function to get Payment list data */\n  const PaymentData = async () => {\n    try {\n      let Response = await GetPaymentList(\n        user_id,\n        user_type,\n        user === \"admin\" ? 1 : 0\n      );\n\n      if (Response.data.data.length === 0) {\n        setPaytemList([]);\n        // setLoading(false);\n      } else {\n        // setLoading(false);\n        setPaytemList(Response.data.data);\n      }\n    } catch (err) {\n      console.log(err);\n      setPaytemList([]);\n      // setLoading(false);\n    }\n  };\n\n  /*Render method */\n  useEffect(() => {\n    PaymentData();\n    if (apiCall === true) {\n      setApicall(false);\n    }\n  }, [apiCall]);\n\n  return (\n    <>\n      <ToastContainer />\n      <div className=\"bg-white rounded h-100 px-10 overflow-y-hidden\">\n        {/* <h5 className=\"text-center pt-2 mb-7\">Follow Ups</h5> */}\n        <div className=\"row\">\n          {\n            // loading ? (\n            //   <Loader load={\"yes\"} />\n            // ) :\n            <div className=\"activity_container col-md-8 border-right\">\n              {paymentList.length === 0 ? (\n                <div className=\"single_note mb-5\">\n                  <div className=\"d-flex justify-content-center\">\n                    <p className=\"text-italic font-size-3 m-0\">No Data Found</p>\n                  </div>\n                </div>\n              ) : (\n                (paymentList || []).map((res, index) => (\n                  <div className=\"single_note mb-5\" key={index}>\n                    <div className=\"d-flex justify-content-between\">\n                      <p className=\"text-italic font-size-3 m-0\">\n                        Payment on:\n                        {moment(res.created_at).format(\"Do MM YYYY, h:mm:ss a\")}\n                      </p>\n                    </div>\n                    <div className=\"card rounded-3 py-2 px-5\">\n                      <p className=\"fw-bold m-0 row\">\n                        <span className=\"col-md-10 col-sm-12 \">\n                          {res.payment_mode ? (\n                            <>\n                              <span className=\"text-break\">\n                                <b>Payment mode</b>: {res.payment_mode}\n                              </span>\n                              <br />\n                            </>\n                          ) : null}\n                          {res.payment_id ? (\n                            <>\n                              <span className=\"text-break\">\n                                <b>Payment Id</b>: {res.payment_id}\n                              </span>\n                              <br />\n                            </>\n                          ) : null}\n                          {res.order_id ? (\n                            <>\n                              <span className=\"text-break\">\n                                <b>order Id</b>: {res.order_id}\n                              </span>\n                              <br />\n                            </>\n                          ) : null}\n                          {res.amount ? (\n                            <span>\n                              <b>Total Amount</b>: {res.amount}/-\n                            </span>\n                          ) : null}\n                        </span>\n                        <span className=\"col-md-2 col-sm-12\">\n                          <span\n                            className={`${\n                              res.status === \"success\"\n                                ? \" bg-primary-opacity-8 text-white text-center w-100  rounded-pill\"\n                                : \" bg-warning text-white text-center w-100  rounded-pill\"\n                            }`}\n                          >\n                            {res.status}\n                          </span>\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          }\n          {user === \"user\" || user === \"company\" ? (\n            <PayForm\n              data={data}\n              setApicall={setApicall}\n              user_id={user_id}\n              user={user_type}\n            />\n          ) : user === \"agent\" ? null : (\n            <AddTransactionForm\n              data={data}\n              setApicall={setApicall}\n              user_id={user_id}\n              user={user}\n              user_type={user_type}\n            />\n          )}\n        </div>\n      </div>\n      {/* </Modal> */}\n    </>\n  );\n}\n"
        }
    ]
}
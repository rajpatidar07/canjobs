{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\dell2\\\\Desktop\\\\canjobs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\dell2\\\\Desktop\\\\canjobs\\\\src\\\\components\\\\common\\\\anotation.js\";\n// import React, { useState, useEffect } from \"react\";\n// import { FaFlag } from \"react-icons/fa\";\n\n// /**\n//  * Component for text annotation and image annotation.\n//  */\n// const Annotation = () => {\n//   //  Annotation State\n//   const [imageAnnotations, setImageAnnotations] = useState([]);\n//   const [comments, setComments] = useState({});\n//   const [currentAnnotation, setCurrentAnnotation] = useState({ x: 0, y: 0 });\n//   const [selectedAnnotation, setSelectedAnnotation] = useState(null);\n//   const [isAnnotationMode, setAnnotationMode] = useState(false);\n\n//   // Handle mouse down event to set current annotation for image annotation\n//   const handleMouseDown = (e) => {\n//     if (isAnnotationMode) {\n//       const imageRect = e.target.getBoundingClientRect();\n//       setCurrentAnnotation({\n//         x: e.clientX - imageRect.left,\n//         y: e.clientY - imageRect.top,\n//       });\n//     }\n//   };\n\n//   // Handle mouse up event to save the current annotation for image annotation\n//   const handleMouseUp = () => {\n//     if (isAnnotationMode) {\n//       setImageAnnotations([...imageAnnotations, currentAnnotation]);\n//       setCurrentAnnotation({ x: 0, y: 0 });\n//     }\n//   };\n\n//   // Toggle annotation mode for image annotation\n//   const toggleAnnotationMode = () => {\n//     setAnnotationMode(!isAnnotationMode);\n//     setSelectedAnnotation(null);\n//   };\n\n//   // Handle flag click to select the annotation and toggle the form visibility for image annotation\n//   const handleFlagClick = (annotation) => {\n//     if (\n//       selectedAnnotation &&\n//       selectedAnnotation.x === annotation.x &&\n//       selectedAnnotation.y === annotation.y\n//     ) {\n//       setSelectedAnnotation(null);\n//     } else {\n//       setSelectedAnnotation(annotation);\n//     }\n//   };\n\n//   // Generate a list of comments from the state for image annotation\n//   const getCommentsList = () => {\n//     const commentsList = [];\n//     for (const key in comments) {\n//       if (comments.hasOwnProperty(key)) {\n//         commentsList.push({ coordinates: key, comment: comments[key] });\n//       }\n//     }\n//     return commentsList;\n//   };\n\n//   // Effect to add the current annotation to the annotations array for image annotation\n//   useEffect(() => {\n//     if (currentAnnotation.x !== 0 && currentAnnotation.y !== 0) {\n//       setImageAnnotations([...imageAnnotations, currentAnnotation]);\n//       setCurrentAnnotation({ x: 0, y: 0 });\n//     }\n//   }, [currentAnnotation]);\n\n//   return (\n//     <div>\n//       {/* Annotation */}\n//       <div style={{ position: \"relative\", overflow: \"scroll\" }}>\n//         <img\n//           src=\"https://image.slidesharecdn.com/nextgenerationofdatascientist-220221085037/75/next-generation-of-data-scientist-4-2048.jpg?cb=1668057843\"\n//           alt=\"Annotated Image\"\n//           style={{ height: \"50%\", width: \"50%\" }}\n//           onMouseDown={handleMouseDown}\n//           onMouseUp={handleMouseUp}\n//         />\n\n//         {imageAnnotations.map((annotation, index) => (\n//           <div\n//             key={index}\n//             style={{\n//               position: \"absolute\",\n//               left: annotation.x - 5,\n//               top: annotation.y - 5,\n//               cursor: \"pointer\",\n//             }}\n//             onClick={() => handleFlagClick(annotation)}\n//           >\n//             <FaFlag\n//               style={{\n//                 color:\n//                   selectedAnnotation &&\n//                   selectedAnnotation.x === annotation.x &&\n//                   selectedAnnotation.y === annotation.y\n//                     ? \"pink\"\n//                     : \"red\",\n//               }}\n//             />\n//           </div>\n//         ))}\n\n//         {selectedAnnotation && (\n//           <div\n//             style={{\n//               position: \"absolute\",\n//               left: selectedAnnotation.x + 10,\n//               top: selectedAnnotation.y + 20,\n//               zIndex: 1,\n//             }}\n//           >\n//             <form>\n//               <input\n//                 type=\"text\"\n//                 value={\n//                   comments[`${selectedAnnotation.x}-${selectedAnnotation.y}`] ||\n//                   \"\"\n//                 }\n//                 onChange={(e) =>\n//                   setComments({\n//                     ...comments,\n//                     [`${selectedAnnotation.x}-${selectedAnnotation.y}`]:\n//                       e.target.value,\n//                   })\n//                 }\n//               />\n//               <button\n//                 type=\"button\"\n//                 onClick={() => {\n//                   setSelectedAnnotation(null);\n//                 }}\n//               >\n//                 Save Comment\n//               </button>\n//             </form>\n//           </div>\n//         )}\n\n//         <div style={{ marginTop: \"20px\" }}>\n//           <button onClick={toggleAnnotationMode}>\n//             {isAnnotationMode ? \"Finish Annotation\" : \"Start Annotation\"}\n//           </button>\n//           <h2>List of Comments:</h2>\n//           <ul>\n//             {getCommentsList().map((commentItem, index) => (\n//               <li key={index} className=\"text-break\">\n//                 <strong>{commentItem.coordinates}:</strong>{\" \"}\n//                 {commentItem.comment}\n//               </li>\n//             ))}\n//           </ul>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Annotation;\n// import React, { useState, useEffect, useRef } from \"react\";\n// import { FaFlag } from \"react-icons/fa\";\n// import FileViewer from \"react-file-viewer\";\n// import { MdAddComment } from \"react-icons/md\";\n// import { FcCancel } from \"react-icons/fc\";\n// import { Link } from \"react-router-dom\";\n// import { ADocAnnotation, GetCommentsAndAssign } from \"../../api/api\";\n\n// const Annotation = () => {\n//   // State for image annotations, comments, selected annotation, and annotation mode\n//   const [imageAnnotations, setImageAnnotations] = useState([]);\n//   const [comments, setComments] = useState({});\n//   const [selectedAnnotation, setSelectedAnnotation] = useState(null);\n//   const [isAnnotationMode, setAnnotationMode] = useState(false);\n//   const [assignments, setAssignments] = useState([]);\n\n//   const fileViewerRef = useRef(null);\n\n//   // Function to handle click events on the FileViewer to capture annotations\n//   const handleFileViewerClick = (e) => {\n//     if (isAnnotationMode) {\n//       const rect = fileViewerRef.current.getBoundingClientRect();\n//       const x = e.clientX - rect.left;\n//       const y = e.clientY - rect.top;\n\n//       // Add annotation\n//       addAnnotation({ x, y });\n//     }\n//   };\n\n//   // Function to add annotation based on conditions\n//   const addAnnotation = ({ x, y }) => {\n//     // Retrieve data from local storage\n//     const id = localStorage.getItem(\"adminId\");\n//     const docId = 111; //props.docId;\n//     const assignedUserId = id;\n//     const email = isEmailConditionMet() ? comments : null;\n//     const subject = \"\";\n//     const comment = isEmailConditionMet() ? null : comments;\n\n//     // Perform any other conditions or checks required for adding annotations\n\n//     // Send data to the API\n//     let res = ADocAnnotation(\n//       id,\n//       docId,\n//       assignedUserId,\n//       email,\n//       subject,\n//       comment,\n//       x,\n//       y\n//     );\n//     console.log(res);\n//     // Update state to include the new annotation\n//     setImageAnnotations([...imageAnnotations, { x, y }]);\n//   };\n\n//   // Function to check if the email condition is met\n//   const isEmailConditionMet = (comment) => {\n//     // Regular expression to match a simple email format\n//     const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\n\n//     // Trim the comment and check if it starts with \"@\" and matches the email format\n//     return (\n//       comment.trim().startsWith(\"@\") &&\n//       emailRegex.test(comment.trim().substring(1))\n//     );\n//   };\n\n//   // Function to handle flag click to select the annotation and toggle the form visibility for image annotation\n//   const handleFlagClick = (annotation) => {\n//     if (\n//       selectedAnnotation &&\n//       selectedAnnotation.x === annotation.x &&\n//       selectedAnnotation.y === annotation.y\n//     ) {\n//       setSelectedAnnotation(null);\n//     } else {\n//       setSelectedAnnotation(annotation);\n//     }\n//   };\n\n//   // Function to get comments and assignments from the API\n//   const getCommentsAndAssign = () => {\n//     GetCommentsAndAssign()\n//       .then((response) => {\n//         // Handle successful API response\n//         console.log(\"Comments and Assignments:\", response);\n//         // Update the state with comments and assignments\n//         setAssignments(response.assignments);\n//         setComments(response.comments);\n//       })\n//       .catch((error) => {\n//         // Handle API error\n//         console.error(\"Error getting comments and assignments:\", error);\n//       });\n//   };\n\n//   // Effect to clear selected annotation when the annotation mode is toggled\n//   useEffect(() => {\n//     setSelectedAnnotation(null);\n//     // Fetch comments and assignments when the component mounts\n//     getCommentsAndAssign();\n//   }, [isAnnotationMode]);\n\n//   return (\n//     <div>\n//       {/* Annotation */}\n//       <div style={{ position: \"relative\", overflow: \"scroll\" }}>\n//         <div className=\"d-flex justify-content-center\">\n//           <di ref={fileViewerRef} onClick={handleFileViewerClick}>\n//             <FileViewer\n//               alt=\"Annotated Image\"\n//               style={{\n//                 height: \"100%\",\n//                 width: \"100%\",\n//                 position: \"relative\",\n//                 overflow: \"scroll\",\n//               }}\n//               fileType={\"png\"}\n//               filePath={\n//                 \"https://blog.hootsuite.com/wp-content/uploads/2023/09/Social-media-image-sizes-2023.png\"\n//               }\n//               errorComponent={() => <div>Error loading document</div>}\n//             />\n//           </di>\n//           <Link\n//             className={`btn-sm mt-7 ${\n//               isAnnotationMode ? \"btn-primary\" : \"btn-secondary\"\n//             }`}\n//             onClick={() => setAnnotationMode(!isAnnotationMode)}\n//           >\n//             {isAnnotationMode ? <FcCancel /> : <MdAddComment />}\n//           </Link>\n//         </div>\n//         {isAnnotationMode && (\n//           <div\n//             style={{\n//               position: \"absolute\",\n//               top: 0,\n//               left: 0,\n//               width: \"100%\",\n//               height: \"100%\",\n//               pointerEvents: \"none\",\n//             }}\n//           />\n//         )}\n\n//         {imageAnnotations.map((annotation, index) => (\n//           <div\n//             key={index}\n//             style={{\n//               position: \"absolute\",\n//               left: annotation.x - 5,\n//               top: annotation.y - 5,\n//               cursor: \"pointer\",\n//             }}\n//             onClick={() => handleFlagClick(annotation)}\n//           >\n//             <FaFlag\n//               style={{\n//                 color:\n//                   selectedAnnotation &&\n//                   selectedAnnotation.x === annotation.x &&\n//                   selectedAnnotation.y === annotation.y\n//                     ? \"pink\"\n//                     : \"red\",\n//               }}\n//             />\n//           </div>\n//         ))}\n\n//         {selectedAnnotation && (\n//           <div\n//             style={{\n//               position: \"absolute\",\n//               left: selectedAnnotation.x + 10,\n//               top: selectedAnnotation.y + 20,\n//               zIndex: 1,\n//             }}\n//           >\n//             <form>\n//               <input\n//                 type=\"text\"\n//                 value={\n//                   comments[`${selectedAnnotation.x}-${selectedAnnotation.y}`] ||\n//                   \"\"\n//                 }\n//                 onChange={(e) =>\n//                   setComments({\n//                     ...comments,\n//                     [`${selectedAnnotation.x}-${selectedAnnotation.y}`]:\n//                       e.target.value,\n//                   })\n//                 }\n//               />\n//               <button\n//                 type=\"button\"\n//                 onClick={() => {\n//                   setSelectedAnnotation(null);\n//                 }}\n//               >\n//                 Save Comment\n//               </button>\n//             </form>\n//           </div>\n//         )}\n\n//         <div style={{ marginTop: \"20px\" }}>\n//           <h2>List of Comments:</h2>\n//           <ul>\n//             {/* {(comments || []).map((commentItem, index) => (\n//               <li key={index} className=\"text-break\">\n//                 <strong>{commentItem.coordinates}:</strong>{\" \"}\n//                 {commentItem.comment}\n//               </li>\n//             ))} */}\n//           </ul>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Annotation;\nimport React, { useState } from \"react\";\nvar Annotation = function Annotation() {\n  var adminEmails = [\"admin1@example.com\", \"admin2@example.com\", \"admin3@example.com\"];\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    inputValue = _useState2[0],\n    setInputValue = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filteredEmails = _useState4[0],\n    setFilteredEmails = _useState4[1];\n  var handleInputChange = function handleInputChange(event) {\n    var value = event.target.value;\n\n    // Check if the input starts with '@'\n    if (value.startsWith(\"@\")) {\n      // Filter admin emails based on input\n      var filteredAdminEmails = adminEmails.filter(function (email) {\n        return email.toLowerCase().includes(value.slice(1).toLowerCase());\n      });\n\n      // Update the filtered emails\n      setFilteredEmails(filteredAdminEmails);\n    } else {\n      // Reset filtered emails if input doesn't start with '@'\n      setFilteredEmails([]);\n    }\n\n    // Update the input value\n    setInputValue(value);\n  };\n  var handleEmailClick = function handleEmailClick(email) {\n    // Set the selected email as the input value\n    setInputValue(email);\n\n    // Clear the filtered emails\n    setFilteredEmails([]);\n  };\n  var handleEmailMouseOver = function handleEmailMouseOver(email) {\n    // Highlight the email on mouseover\n    setInputValue(email);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"200px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: inputValue,\n    onChange: handleInputChange,\n    placeholder: \"Comments or add others with @\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }\n  }), filteredEmails.length > 0 && /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\",\n      padding: 0,\n      margin: 0,\n      position: \"absolute\",\n      top: \"100%\",\n      left: 0,\n      width: \"100%\",\n      border: \"1px solid #ccc\",\n      borderTop: \"none\",\n      borderRadius: \"0 0 5px 5px\",\n      boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\",\n      backgroundColor: \"#fff\",\n      zIndex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 9\n    }\n  }, filteredEmails.map(function (email) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: email,\n      onClick: function onClick() {\n        return handleEmailClick(email);\n      },\n      onMouseOver: function onMouseOver() {\n        return handleEmailMouseOver(email);\n      },\n      style: {\n        padding: \"8px\",\n        cursor: \"pointer\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 13\n      }\n    }, email);\n  })));\n};\nexport default Annotation;","map":{"version":3,"names":["React","useState","Annotation","adminEmails","_useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","filteredEmails","setFilteredEmails","handleInputChange","event","value","target","startsWith","filteredAdminEmails","filter","email","toLowerCase","includes","slice","handleEmailClick","handleEmailMouseOver","createElement","style","position","width","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","length","listStyle","padding","margin","top","left","border","borderTop","borderRadius","boxShadow","backgroundColor","zIndex","map","key","onClick","onMouseOver","cursor"],"sources":["C:/Users/dell2/Desktop/canjobs/src/components/common/anotation.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { FaFlag } from \"react-icons/fa\";\r\n\r\n// /**\r\n//  * Component for text annotation and image annotation.\r\n//  */\r\n// const Annotation = () => {\r\n//   //  Annotation State\r\n//   const [imageAnnotations, setImageAnnotations] = useState([]);\r\n//   const [comments, setComments] = useState({});\r\n//   const [currentAnnotation, setCurrentAnnotation] = useState({ x: 0, y: 0 });\r\n//   const [selectedAnnotation, setSelectedAnnotation] = useState(null);\r\n//   const [isAnnotationMode, setAnnotationMode] = useState(false);\r\n\r\n//   // Handle mouse down event to set current annotation for image annotation\r\n//   const handleMouseDown = (e) => {\r\n//     if (isAnnotationMode) {\r\n//       const imageRect = e.target.getBoundingClientRect();\r\n//       setCurrentAnnotation({\r\n//         x: e.clientX - imageRect.left,\r\n//         y: e.clientY - imageRect.top,\r\n//       });\r\n//     }\r\n//   };\r\n\r\n//   // Handle mouse up event to save the current annotation for image annotation\r\n//   const handleMouseUp = () => {\r\n//     if (isAnnotationMode) {\r\n//       setImageAnnotations([...imageAnnotations, currentAnnotation]);\r\n//       setCurrentAnnotation({ x: 0, y: 0 });\r\n//     }\r\n//   };\r\n\r\n//   // Toggle annotation mode for image annotation\r\n//   const toggleAnnotationMode = () => {\r\n//     setAnnotationMode(!isAnnotationMode);\r\n//     setSelectedAnnotation(null);\r\n//   };\r\n\r\n//   // Handle flag click to select the annotation and toggle the form visibility for image annotation\r\n//   const handleFlagClick = (annotation) => {\r\n//     if (\r\n//       selectedAnnotation &&\r\n//       selectedAnnotation.x === annotation.x &&\r\n//       selectedAnnotation.y === annotation.y\r\n//     ) {\r\n//       setSelectedAnnotation(null);\r\n//     } else {\r\n//       setSelectedAnnotation(annotation);\r\n//     }\r\n//   };\r\n\r\n//   // Generate a list of comments from the state for image annotation\r\n//   const getCommentsList = () => {\r\n//     const commentsList = [];\r\n//     for (const key in comments) {\r\n//       if (comments.hasOwnProperty(key)) {\r\n//         commentsList.push({ coordinates: key, comment: comments[key] });\r\n//       }\r\n//     }\r\n//     return commentsList;\r\n//   };\r\n\r\n//   // Effect to add the current annotation to the annotations array for image annotation\r\n//   useEffect(() => {\r\n//     if (currentAnnotation.x !== 0 && currentAnnotation.y !== 0) {\r\n//       setImageAnnotations([...imageAnnotations, currentAnnotation]);\r\n//       setCurrentAnnotation({ x: 0, y: 0 });\r\n//     }\r\n//   }, [currentAnnotation]);\r\n\r\n//   return (\r\n//     <div>\r\n//       {/* Annotation */}\r\n//       <div style={{ position: \"relative\", overflow: \"scroll\" }}>\r\n//         <img\r\n//           src=\"https://image.slidesharecdn.com/nextgenerationofdatascientist-220221085037/75/next-generation-of-data-scientist-4-2048.jpg?cb=1668057843\"\r\n//           alt=\"Annotated Image\"\r\n//           style={{ height: \"50%\", width: \"50%\" }}\r\n//           onMouseDown={handleMouseDown}\r\n//           onMouseUp={handleMouseUp}\r\n//         />\r\n\r\n//         {imageAnnotations.map((annotation, index) => (\r\n//           <div\r\n//             key={index}\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               left: annotation.x - 5,\r\n//               top: annotation.y - 5,\r\n//               cursor: \"pointer\",\r\n//             }}\r\n//             onClick={() => handleFlagClick(annotation)}\r\n//           >\r\n//             <FaFlag\r\n//               style={{\r\n//                 color:\r\n//                   selectedAnnotation &&\r\n//                   selectedAnnotation.x === annotation.x &&\r\n//                   selectedAnnotation.y === annotation.y\r\n//                     ? \"pink\"\r\n//                     : \"red\",\r\n//               }}\r\n//             />\r\n//           </div>\r\n//         ))}\r\n\r\n//         {selectedAnnotation && (\r\n//           <div\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               left: selectedAnnotation.x + 10,\r\n//               top: selectedAnnotation.y + 20,\r\n//               zIndex: 1,\r\n//             }}\r\n//           >\r\n//             <form>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={\r\n//                   comments[`${selectedAnnotation.x}-${selectedAnnotation.y}`] ||\r\n//                   \"\"\r\n//                 }\r\n//                 onChange={(e) =>\r\n//                   setComments({\r\n//                     ...comments,\r\n//                     [`${selectedAnnotation.x}-${selectedAnnotation.y}`]:\r\n//                       e.target.value,\r\n//                   })\r\n//                 }\r\n//               />\r\n//               <button\r\n//                 type=\"button\"\r\n//                 onClick={() => {\r\n//                   setSelectedAnnotation(null);\r\n//                 }}\r\n//               >\r\n//                 Save Comment\r\n//               </button>\r\n//             </form>\r\n//           </div>\r\n//         )}\r\n\r\n//         <div style={{ marginTop: \"20px\" }}>\r\n//           <button onClick={toggleAnnotationMode}>\r\n//             {isAnnotationMode ? \"Finish Annotation\" : \"Start Annotation\"}\r\n//           </button>\r\n//           <h2>List of Comments:</h2>\r\n//           <ul>\r\n//             {getCommentsList().map((commentItem, index) => (\r\n//               <li key={index} className=\"text-break\">\r\n//                 <strong>{commentItem.coordinates}:</strong>{\" \"}\r\n//                 {commentItem.comment}\r\n//               </li>\r\n//             ))}\r\n//           </ul>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Annotation;\r\n// import React, { useState, useEffect, useRef } from \"react\";\r\n// import { FaFlag } from \"react-icons/fa\";\r\n// import FileViewer from \"react-file-viewer\";\r\n// import { MdAddComment } from \"react-icons/md\";\r\n// import { FcCancel } from \"react-icons/fc\";\r\n// import { Link } from \"react-router-dom\";\r\n// import { ADocAnnotation, GetCommentsAndAssign } from \"../../api/api\";\r\n\r\n// const Annotation = () => {\r\n//   // State for image annotations, comments, selected annotation, and annotation mode\r\n//   const [imageAnnotations, setImageAnnotations] = useState([]);\r\n//   const [comments, setComments] = useState({});\r\n//   const [selectedAnnotation, setSelectedAnnotation] = useState(null);\r\n//   const [isAnnotationMode, setAnnotationMode] = useState(false);\r\n//   const [assignments, setAssignments] = useState([]);\r\n\r\n//   const fileViewerRef = useRef(null);\r\n\r\n//   // Function to handle click events on the FileViewer to capture annotations\r\n//   const handleFileViewerClick = (e) => {\r\n//     if (isAnnotationMode) {\r\n//       const rect = fileViewerRef.current.getBoundingClientRect();\r\n//       const x = e.clientX - rect.left;\r\n//       const y = e.clientY - rect.top;\r\n\r\n//       // Add annotation\r\n//       addAnnotation({ x, y });\r\n//     }\r\n//   };\r\n\r\n//   // Function to add annotation based on conditions\r\n//   const addAnnotation = ({ x, y }) => {\r\n//     // Retrieve data from local storage\r\n//     const id = localStorage.getItem(\"adminId\");\r\n//     const docId = 111; //props.docId;\r\n//     const assignedUserId = id;\r\n//     const email = isEmailConditionMet() ? comments : null;\r\n//     const subject = \"\";\r\n//     const comment = isEmailConditionMet() ? null : comments;\r\n\r\n//     // Perform any other conditions or checks required for adding annotations\r\n\r\n//     // Send data to the API\r\n//     let res = ADocAnnotation(\r\n//       id,\r\n//       docId,\r\n//       assignedUserId,\r\n//       email,\r\n//       subject,\r\n//       comment,\r\n//       x,\r\n//       y\r\n//     );\r\n//     console.log(res);\r\n//     // Update state to include the new annotation\r\n//     setImageAnnotations([...imageAnnotations, { x, y }]);\r\n//   };\r\n\r\n//   // Function to check if the email condition is met\r\n//   const isEmailConditionMet = (comment) => {\r\n//     // Regular expression to match a simple email format\r\n//     const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n\r\n//     // Trim the comment and check if it starts with \"@\" and matches the email format\r\n//     return (\r\n//       comment.trim().startsWith(\"@\") &&\r\n//       emailRegex.test(comment.trim().substring(1))\r\n//     );\r\n//   };\r\n\r\n//   // Function to handle flag click to select the annotation and toggle the form visibility for image annotation\r\n//   const handleFlagClick = (annotation) => {\r\n//     if (\r\n//       selectedAnnotation &&\r\n//       selectedAnnotation.x === annotation.x &&\r\n//       selectedAnnotation.y === annotation.y\r\n//     ) {\r\n//       setSelectedAnnotation(null);\r\n//     } else {\r\n//       setSelectedAnnotation(annotation);\r\n//     }\r\n//   };\r\n\r\n//   // Function to get comments and assignments from the API\r\n//   const getCommentsAndAssign = () => {\r\n//     GetCommentsAndAssign()\r\n//       .then((response) => {\r\n//         // Handle successful API response\r\n//         console.log(\"Comments and Assignments:\", response);\r\n//         // Update the state with comments and assignments\r\n//         setAssignments(response.assignments);\r\n//         setComments(response.comments);\r\n//       })\r\n//       .catch((error) => {\r\n//         // Handle API error\r\n//         console.error(\"Error getting comments and assignments:\", error);\r\n//       });\r\n//   };\r\n\r\n//   // Effect to clear selected annotation when the annotation mode is toggled\r\n//   useEffect(() => {\r\n//     setSelectedAnnotation(null);\r\n//     // Fetch comments and assignments when the component mounts\r\n//     getCommentsAndAssign();\r\n//   }, [isAnnotationMode]);\r\n\r\n//   return (\r\n//     <div>\r\n//       {/* Annotation */}\r\n//       <div style={{ position: \"relative\", overflow: \"scroll\" }}>\r\n//         <div className=\"d-flex justify-content-center\">\r\n//           <di ref={fileViewerRef} onClick={handleFileViewerClick}>\r\n//             <FileViewer\r\n//               alt=\"Annotated Image\"\r\n//               style={{\r\n//                 height: \"100%\",\r\n//                 width: \"100%\",\r\n//                 position: \"relative\",\r\n//                 overflow: \"scroll\",\r\n//               }}\r\n//               fileType={\"png\"}\r\n//               filePath={\r\n//                 \"https://blog.hootsuite.com/wp-content/uploads/2023/09/Social-media-image-sizes-2023.png\"\r\n//               }\r\n//               errorComponent={() => <div>Error loading document</div>}\r\n//             />\r\n//           </di>\r\n//           <Link\r\n//             className={`btn-sm mt-7 ${\r\n//               isAnnotationMode ? \"btn-primary\" : \"btn-secondary\"\r\n//             }`}\r\n//             onClick={() => setAnnotationMode(!isAnnotationMode)}\r\n//           >\r\n//             {isAnnotationMode ? <FcCancel /> : <MdAddComment />}\r\n//           </Link>\r\n//         </div>\r\n//         {isAnnotationMode && (\r\n//           <div\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               top: 0,\r\n//               left: 0,\r\n//               width: \"100%\",\r\n//               height: \"100%\",\r\n//               pointerEvents: \"none\",\r\n//             }}\r\n//           />\r\n//         )}\r\n\r\n//         {imageAnnotations.map((annotation, index) => (\r\n//           <div\r\n//             key={index}\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               left: annotation.x - 5,\r\n//               top: annotation.y - 5,\r\n//               cursor: \"pointer\",\r\n//             }}\r\n//             onClick={() => handleFlagClick(annotation)}\r\n//           >\r\n//             <FaFlag\r\n//               style={{\r\n//                 color:\r\n//                   selectedAnnotation &&\r\n//                   selectedAnnotation.x === annotation.x &&\r\n//                   selectedAnnotation.y === annotation.y\r\n//                     ? \"pink\"\r\n//                     : \"red\",\r\n//               }}\r\n//             />\r\n//           </div>\r\n//         ))}\r\n\r\n//         {selectedAnnotation && (\r\n//           <div\r\n//             style={{\r\n//               position: \"absolute\",\r\n//               left: selectedAnnotation.x + 10,\r\n//               top: selectedAnnotation.y + 20,\r\n//               zIndex: 1,\r\n//             }}\r\n//           >\r\n//             <form>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={\r\n//                   comments[`${selectedAnnotation.x}-${selectedAnnotation.y}`] ||\r\n//                   \"\"\r\n//                 }\r\n//                 onChange={(e) =>\r\n//                   setComments({\r\n//                     ...comments,\r\n//                     [`${selectedAnnotation.x}-${selectedAnnotation.y}`]:\r\n//                       e.target.value,\r\n//                   })\r\n//                 }\r\n//               />\r\n//               <button\r\n//                 type=\"button\"\r\n//                 onClick={() => {\r\n//                   setSelectedAnnotation(null);\r\n//                 }}\r\n//               >\r\n//                 Save Comment\r\n//               </button>\r\n//             </form>\r\n//           </div>\r\n//         )}\r\n\r\n//         <div style={{ marginTop: \"20px\" }}>\r\n//           <h2>List of Comments:</h2>\r\n//           <ul>\r\n//             {/* {(comments || []).map((commentItem, index) => (\r\n//               <li key={index} className=\"text-break\">\r\n//                 <strong>{commentItem.coordinates}:</strong>{\" \"}\r\n//                 {commentItem.comment}\r\n//               </li>\r\n//             ))} */}\r\n//           </ul>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Annotation;\r\nimport React, { useState } from \"react\";\r\n\r\nconst Annotation = () => {\r\n  const adminEmails = [\r\n    \"admin1@example.com\",\r\n    \"admin2@example.com\",\r\n    \"admin3@example.com\",\r\n  ];\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [filteredEmails, setFilteredEmails] = useState([]);\r\n\r\n  const handleInputChange = (event) => {\r\n    const value = event.target.value;\r\n\r\n    // Check if the input starts with '@'\r\n    if (value.startsWith(\"@\")) {\r\n      // Filter admin emails based on input\r\n      const filteredAdminEmails = adminEmails.filter((email) =>\r\n        email.toLowerCase().includes(value.slice(1).toLowerCase())\r\n      );\r\n\r\n      // Update the filtered emails\r\n      setFilteredEmails(filteredAdminEmails);\r\n    } else {\r\n      // Reset filtered emails if input doesn't start with '@'\r\n      setFilteredEmails([]);\r\n    }\r\n\r\n    // Update the input value\r\n    setInputValue(value);\r\n  };\r\n\r\n  const handleEmailClick = (email) => {\r\n    // Set the selected email as the input value\r\n    setInputValue(email);\r\n\r\n    // Clear the filtered emails\r\n    setFilteredEmails([]);\r\n  };\r\n\r\n  const handleEmailMouseOver = (email) => {\r\n    // Highlight the email on mouseover\r\n    setInputValue(email);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: \"relative\", width: \"200px\" }}>\r\n      <label>Email:</label>\r\n      <input\r\n        type=\"text\"\r\n        value={inputValue}\r\n        onChange={handleInputChange}\r\n        placeholder=\"Comments or add others with @\"\r\n      />\r\n      {filteredEmails.length > 0 && (\r\n        <ul\r\n          style={{\r\n            listStyle: \"none\",\r\n            padding: 0,\r\n            margin: 0,\r\n            position: \"absolute\",\r\n            top: \"100%\",\r\n            left: 0,\r\n            width: \"100%\",\r\n            border: \"1px solid #ccc\",\r\n            borderTop: \"none\",\r\n            borderRadius: \"0 0 5px 5px\",\r\n            boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\",\r\n            backgroundColor: \"#fff\",\r\n            zIndex: 1,\r\n          }}\r\n        >\r\n          {filteredEmails.map((email) => (\r\n            <li\r\n              key={email}\r\n              onClick={() => handleEmailClick(email)}\r\n              onMouseOver={() => handleEmailMouseOver(email)}\r\n              style={{\r\n                padding: \"8px\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              {email}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Annotation;\r\n"],"mappings":";;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACvB,IAAMC,WAAW,GAAG,CAClB,oBAAoB,EACpB,oBAAoB,EACpB,oBAAoB,CACrB;EAAC,IAAAC,SAAA,GACkCH,QAAQ,CAAC,EAAE,CAAC;IAAAI,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAAA,IAAAI,UAAA,GACYR,QAAQ,CAAC,EAAE,CAAC;IAAAS,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjDE,cAAc,GAAAD,UAAA;IAAEE,iBAAiB,GAAAF,UAAA;EAExC,IAAMG,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,KAAK,EAAK;IACnC,IAAMC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACD,KAAK;;IAEhC;IACA,IAAIA,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MACzB;MACA,IAAMC,mBAAmB,GAAGf,WAAW,CAACgB,MAAM,CAAC,UAACC,KAAK;QAAA,OACnDA,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACF,WAAW,CAAC,CAAC,CAAC;MAAA,CAC5D,CAAC;;MAED;MACAT,iBAAiB,CAACM,mBAAmB,CAAC;IACxC,CAAC,MAAM;MACL;MACAN,iBAAiB,CAAC,EAAE,CAAC;IACvB;;IAEA;IACAJ,aAAa,CAACO,KAAK,CAAC;EACtB,CAAC;EAED,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIJ,KAAK,EAAK;IAClC;IACAZ,aAAa,CAACY,KAAK,CAAC;;IAEpB;IACAR,iBAAiB,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,IAAMa,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIL,KAAK,EAAK;IACtC;IACAZ,aAAa,CAACY,KAAK,CAAC;EACtB,CAAC;EAED,oBACEpB,KAAA,CAAA0B,aAAA;IAAKC,KAAK,EAAE;MAAEC,QAAQ,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAQ,CAAE;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnDpC,KAAA,CAAA0B,aAAA;IAAAI,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,QAAa,CAAC,eACrBpC,KAAA,CAAA0B,aAAA;IACEW,IAAI,EAAC,MAAM;IACXtB,KAAK,EAAER,UAAW;IAClB+B,QAAQ,EAAEzB,iBAAkB;IAC5B0B,WAAW,EAAC,+BAA+B;IAAAT,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5C,CAAC,EACDzB,cAAc,CAAC6B,MAAM,GAAG,CAAC,iBACxBxC,KAAA,CAAA0B,aAAA;IACEC,KAAK,EAAE;MACLc,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE,CAAC;MACTf,QAAQ,EAAE,UAAU;MACpBgB,GAAG,EAAE,MAAM;MACXC,IAAI,EAAE,CAAC;MACPhB,KAAK,EAAE,MAAM;MACbiB,MAAM,EAAE,gBAAgB;MACxBC,SAAS,EAAE,MAAM;MACjBC,YAAY,EAAE,aAAa;MAC3BC,SAAS,EAAE,8BAA8B;MACzCC,eAAe,EAAE,MAAM;MACvBC,MAAM,EAAE;IACV,CAAE;IAAArB,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEDzB,cAAc,CAACyC,GAAG,CAAC,UAAChC,KAAK;IAAA,oBACxBpB,KAAA,CAAA0B,aAAA;MACE2B,GAAG,EAAEjC,KAAM;MACXkC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM9B,gBAAgB,CAACJ,KAAK,CAAC;MAAA,CAAC;MACvCmC,WAAW,EAAE,SAAAA,YAAA;QAAA,OAAM9B,oBAAoB,CAACL,KAAK,CAAC;MAAA,CAAC;MAC/CO,KAAK,EAAE;QACLe,OAAO,EAAE,KAAK;QACdc,MAAM,EAAE;MACV,CAAE;MAAA1B,MAAA,EAAAC,KAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEDhB,KACC,CAAC;EAAA,CACN,CACC,CAEH,CAAC;AAEV,CAAC;AAED,eAAelB,UAAU"},"metadata":{},"sourceType":"module"}